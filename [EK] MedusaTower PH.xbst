<panel name="Spell Shooter">
	<control name="shooterList">
		<item spell="Exori Gran" rune="3155" srange="2" type="2" reason="0" minhp="0" maxhp="100" mana="30" count="3" creature="Behemoth,Serpent Spawn,Medusa,Omnivora" danger="0" targ="0" enabled="1"/>
		<item spell="Exori Gran Ico" rune="3155" srange="1" type="0" reason="2" minhp="50" maxhp="100" mana="75" count="1" creature="monster names" danger="0" targ="1" enabled="1"/>
		<item spell="Exori Hur" rune="3155" srange="5" type="0" reason="2" minhp="0" maxhp="100" mana="10" count="1" creature="monster names" danger="0" targ="1" enabled="1"/>
		<item spell="Utito tempo" rune="3155" srange="10" type="4" reason="0" minhp="0" maxhp="100" mana="90" count="2" creature="Medusa,Serpent Spawn,Behemoth" danger="0" targ="0" enabled="1"/>
		<item spell="Utevo Gran Res Eq" rune="3155" srange="10" type="4" reason="2" minhp="0" maxhp="100" mana="10" count="0" creature="monster names" danger="0" targ="0" enabled="1"/>
		<item spell="Exori" rune="3155" srange="2" type="2" reason="0" minhp="0" maxhp="100" mana="10" count="2" creature="Behemoth,Serpent Spawn,Medusa,Omnivora" danger="0" targ="0" enabled="0"/>
	</control>
</panel>
<panel name="Dynamic Lure">
	<control name="LureList">
	</control>
	<control name="AttackWhileLuring" value="1"/>
</panel>
<panel name="Self Healer">
	<control name="SpellList">
		<item spell="exura gran ico" mana="0" vcomp="0" vsign="1" vrandom="0" vvalue="35" enabled="1"/>
		<item spell="exura ico" mana="1000" vcomp="0" vsign="1" vrandom="0" vvalue="75" enabled="1"/>
		<item spell="utani tempo hur" mana="1500" vcomp="1" vsign="3" vrandom="0" vvalue="99" enabled="1"/>
	</control>
	<control name="ItemList">
		<item id="268" vcomp="0" vsign="3" vrandom="0" vvalue="35" enabled="1"/>
		<item id="23375" vcomp="0" vsign="1" vrandom="0" vvalue="65" enabled="1"/>
		<item id="7643" vcomp="0" vsign="1" vrandom="0" vvalue="75" enabled="1"/>
	</control>
</panel>
<panel name="Support">
	<control name="HiHealSpell" value="Exura"/>
	<control name="HiHealHealth" value="90"/>
	<control name="HiHealRange" value="5"/>
	<control name="HiHealMana" value="20"/>
	<control name="HiHealEnable" value="0"/>
	<control name="LoHealSpell" value="Exura Gran"/>
	<control name="LoHealHealth" value="55"/>
	<control name="LoHealPerc" value="5"/>
	<control name="LoHealMana" value="70"/>
	<control name="LoHealEnable" value="0"/>
	<control name="PotHealID" value="266"/>
	<control name="PotHealHealth" value="50"/>
	<control name="PotHealRange" value="5"/>
	<control name="PotHealEnable" value="0"/>
	<control name="ManaRestoreID" value="268"/>
	<control name="ManaRestoreMana" value="50"/>
	<control name="ManaRestoreEnable" value="0"/>
</panel>
<panel name="Frag Helper">
	<control name="HoldTarg" value="0"/>
	<control name="ComboEnable" value="0"/>
</panel>
<panel name="Tools">
	<control name="EnableAntiIdle" value="1"/>
	<control name="EnableEatFood" value="1"/>
	<control name="EnableReconnect" value="1"/>
	<control name="LightEnable" value="0"/>
	<control name="XRayEnable" value="0"/>
	<control name="ShowLookIDs" value="0"/>
	<control name="ShowManaBar" value="0"/>
	<control name="ShowBPInfo" value="0"/>
	<control name="EnableAdvancedInfo" value="0"/>
</panel>
<panel name="Visuals">
	<control name="LightEnable" value="1"/>
	<control name="XRayEnable" value="0"/>
	<control name="ShowLookIDs" value="0"/>
	<control name="ShowManaBar" value="1"/>
	<control name="ShowBPInfo" value="1"/>
	<control name="EnableSmallBPs" value="0"/>
	<control name="EnableAdvancedInfo" value="0"/>
	<control name="ShowCleanWalls" value="0"/>
	<control name="ShowDiagnostics" value="0"/>
</panel>
<panel name="Get Scripts">
</panel>
<panel name="Combo Options">
	<control name="ComboSayLeader" value=""/>
	<control name="ComboSayPhrase" value=""/>
	<control name="ComboSayEnable" value="0"/>
	<control name="ComboShotLeader" value=""/>
	<control name="ComboShotType" value="0"/>
	<control name="ComboShotEnable" value="0"/>
	<control name="ComboExivaLeader" value=""/>
	<control name="ComboExivaEnable" value="0"/>
	<control name="ComboParaWatch" value="0"/>
	<control name="ComboParaEnable" value="0"/>
	<control name="ComboPartyWatch" value="0"/>
	<control name="ComboPartyEnable" value="0"/>
	<control name="ComboAttackSpell" value="Exevo Gran Mas Frigo"/>
	<control name="ComboAttackSpellEnable" value="0"/>
	<control name="ComboAttackRuneID" value="3155"/>
	<control name="ComboAttackRuneEnable" value="0"/>
	<control name="ComboFocusType" value="0"/>
</panel>
<panel name="HUD">
	<control name="HUDItemList">
		<item textColor="9" x="5" y="5" pos="4" checked="0"/>
		<item textColor="8" x="5" y="5" pos="6" checked="0"/>
		<item textColor="7" x="5" y="5" pos="0" checked="0"/>
		<item textColor="6" x="5" y="5" pos="8" checked="0"/>
		<item textColor="4" x="5" y="5" pos="10" checked="0"/>
		<item textColor="13" x="5" y="5" pos="0" checked="0"/>
		<item textColor="13" x="5" y="5" pos="2" checked="0"/>
		<item textColor="0" x="0" y="0" pos="0" checked="0"/>
	</control>
	<control name="HPPercOnClick" value="0"/>
	<control name="MPPercOnClick" value="0"/>
	<control name="MPPercClickEnable" value="0"/>
	<control name="MPPercClickEnable" value="0"/>
</panel>
<panel name="Recent Loot">
	<control name="LootMonsterList">
	</control>
	<control name="DisplaySelectLoot" value="0"/>
	<control name="HideNothingLoot" value="0"/>
</panel>
<panel name="Spell Timers">
	<control name="HUDSpellTimersList">
		<item textColor="9" x="5" y="5" pos="4" checked="1"/>
		<item textColor="8" x="5" y="5" pos="6" checked="1"/>
		<item textColor="7" x="5" y="5" pos="0" checked="1"/>
		<item textColor="6" x="5" y="5" pos="8" checked="1"/>
		<item textColor="4" x="5" y="5" pos="10" checked="1"/>
		<item textColor="13" x="5" y="5" pos="0" checked="1"/>
		<item textColor="13" x="5" y="5" pos="2" checked="1"/>
	</control>
</panel>
<panel name="Kill Counters">
	<control name="KillCounterBox">
	</control>
	<control name="DisplaySelectCounters" value="0"/>
	<control name="DisplayCountRatios" value="0"/>
</panel>
<panel name="Battle Information">
	<control name="ShowTakenDamage" value="1"/>
	<control name="ShowTakenAvgDamage" value="1"/>
	<control name="ShowTakenBurstDamage" value="1"/>
	<control name="ShowDealtDamage" value="1"/>
	<control name="ShowTarget" value="1"/>
	<control name="ShowFollow" value="1"/>
	<control name="ShowExiva" value="1"/>
</panel>
<panel name="Experience Information">
	<control name="ShowHourlyExp" value="1"/>
	<control name="ShowExpTogo" value="1"/>
	<control name="ShowTimeLeft" value="1"/>
</panel>
<panel name="Condition Manager">
	<control name="PoisonCureLimit" value="6"/>
	<control name="PoisonCureMana" value="20"/>
	<control name="PoisonCureEnable" value="0"/>
	<control name="DeathCureLimit" value="10"/>
	<control name="DeathCureMana" value="40"/>
	<control name="DeathCureEnable" value="0"/>
	<control name="PhysicalCureLimit" value="5"/>
	<control name="PhysicalCureMana" value="30"/>
	<control name="PhysicalCureEnable" value="0"/>
	<control name="FireCureLimit" value="20"/>
	<control name="FireCureMana" value="30"/>
	<control name="FireCureEnable" value="0"/>
	<control name="EnergyCureLimit" value="15"/>
	<control name="EnergyCureMana" value="30"/>
	<control name="EnergyCureEnable" value="0"/>
	<control name="ParaCureEnable" value="0"/>
	<control name="ParaCureMana" value="50"/>
	<control name="ParaCureSpell" value="Utani Hur"/>
	<control name="HasteCastMana" value="1515"/>
	<control name="HasteCastSpell" value="Utani Tempo Hur"/>
	<control name="HasteCastEnable" value="0"/>
	<control name="InvisibleCastMana" value="50"/>
	<control name="InvisibleCastEnable" value="0"/>
	<control name="ShieldCastMana" value="50"/>
	<control name="ShieldCastEnable" value="0"/>
	<control name="RecoveryCastEnable" value="1"/>
	<control name="RecoveryCastType" value="1"/>
	<control name="RecoveryCastMana" value="1500"/>
	<control name="RecoveryCheckPzEnable" value="1"/>
</panel>
<panel name="Equipment Manager">
	<control name="AmmoRefillID" value="3450"/>
	<control name="AmmoRefillEnable" value="0"/>
	<control name="WeaponRefillID" value="7368"/>
	<control name="WeaponRefillEnable" value="0"/>
</panel>
<panel name="Targeting">
	<control name="TargetingList" antiks="0">
		<item type="Medusa" chs="0" max="100" min="0" prio="8" prox="7" count="1" elastic="0"/>
		<item type="Serpent Spawn" chs="0" max="100" min="0" prio="7" prox="7" count="1" elastic="0"/>
		<item type="Behemoth" chs="0" max="100" min="0" prio="5" prox="7" count="2" elastic="0"/>
		<item type="Omnivora" chs="0" max="100" min="0" prio="5" prox="7" count="1" elastic="0"/>
		<item type="All Creatures" chs="0" max="100" min="0" prio="10" prox="7" count="1" elastic="0"/>
	</control>
</panel>
<panel name="Walker">
	<control name="WaypointList">
		<item text="Stand (32628, 32744, 6)" tag="1"/>
		<item text="AbrirBPs:" tag="255"/>
		<item text="ChecarParaHunt:" tag="255"/>
		<item text="Stand (32630, 32739, 6)" tag="1"/>
		<item text="Stand (32632, 32739, 6)" tag="1"/>
		<item text="Banco:" tag="255"/>
		<item text="Stand (32632, 32739, 6)" tag="1"/>
		<item text="Ladder (32630, 32742, 6)" tag="2"/>
		<item text="Node (32628, 32743, 5)" tag="0"/>
		<item text="Stand (32623, 32742, 5)" tag="1"/>
		<item text="ComprarPots:" tag="255"/>
		<item text="Stand (32623, 32742, 5)" tag="1"/>
		<item text="Stand (32623, 32742, 5)" tag="1"/>
		<item text="ComprarPots:" tag="255"/>
		<item text="Stand (32623, 32742, 5)" tag="1"/>
		<item text="Stand (32630, 32739, 6)" tag="1"/>
		<item text="Node (32628, 32743, 5)" tag="0"/>
		<item text="Stand (32623, 32742, 5)" tag="1"/>
		<item text="Node (32624, 32743, 5)" tag="0"/>
		<item text="Node (32627, 32743, 5)" tag="0"/>
		<item text="Stand (32630, 32742, 5)" tag="1"/>
		<item text="ChecarDenovo:" tag="255"/>
		<item text="CaminhoHunt:" tag="255"/>
		<item text="Node (32629, 32744, 6)" tag="0"/>
		<item text="Stand (32629, 32749, 6)" tag="1"/>
		<item text="Node (32629, 32767, 7)" tag="0"/>
		<item text="Stand (32628, 32769, 7)" tag="1"/>
		<item text="Barco1:" tag="255"/>
		<item text="Node (32689, 32779, 7)" tag="0"/>
		<item text="Stand (32694, 32772, 7)" tag="1"/>
		<item text="Stand (32694, 32769, 6)" tag="1"/>
		<item text="VenderItem:" tag="255"/>
		<item text="Stand (32694, 32769, 6)" tag="1"/>
		<item text="PedirTask:" tag="255"/>
		<item text="Stand (32694, 32769, 6)" tag="1"/>
		<item text="PedirTask1:" tag="255"/>
		<item text="Stand (32694, 32769, 6)" tag="1"/>
		<item text="PedirTask2:" tag="255"/>
		<item text="Stand (32694, 32769, 6)" tag="1"/>
		<item text="Stand (32694, 32772, 6)" tag="1"/>
		<item text="Node (32683, 32779, 7)" tag="0"/>
		<item text="Stand (32679, 32777, 7)" tag="1"/>
		<item text="Barco2:" tag="255"/>
		<item text="Stand (32986, 32729, 7)" tag="1"/>
		<item text="Stand (32985, 32729, 7)" tag="1"/>
		<item text="Node (32978, 32732, 7)" tag="0"/>
		<item text="Node (32959, 32744, 7)" tag="0"/>
		<item text="Node (32957, 32764, 7)" tag="0"/>
		<item text="Node (32939, 32773, 7)" tag="0"/>
		<item text="Node (32928, 32785, 7)" tag="0"/>
		<item text="Node (32912, 32812, 7)" tag="0"/>
		<item text="Node (32900, 32812, 7)" tag="0"/>
		<item text="Node (32874, 32812, 7)" tag="0"/>
		<item text="Stand (32853, 32815, 7)" tag="1"/>
		<item text="ChangeItemsGH:" tag="255"/>
		<item text="Stand (32853, 32815, 7)" tag="1"/>
		<item text="Hole (32853, 32814, 7)" tag="4"/>
		<item text="Node (32850, 32816, 8)" tag="0"/>
		<item text="Node (32863, 32827, 8)" tag="0"/>
		<item text="Stand (32865, 32830, 8)" tag="1"/>
		<item text="Node (32863, 32826, 7)" tag="0"/>
		<item text="Start:" tag="255"/>
		<item text="Stand (32872, 32833, 7)" tag="1"/>
		<item text="Node (32875, 32833, 6)" tag="0"/>
		<item text="Node (32862, 32825, 6)" tag="0"/>
		<item text="Node (32865, 32840, 6)" tag="0"/>
		<item text="Stand (32870, 32827, 6)" tag="1"/>
		<item text="Node (32865, 32828, 5)" tag="0"/>
		<item text="Node (32860, 32834, 5)" tag="0"/>
		<item text="Node (32871, 32834, 5)" tag="0"/>
		<item text="Stand (32872, 32830, 5)" tag="1"/>
		<item text="Node (32869, 32826, 4)" tag="0"/>
		<item text="Node (32870, 32835, 4)" tag="0"/>
		<item text="Stand (32867, 32830, 4)" tag="1"/>
		<item text="Node (32863, 32830, 3)" tag="0"/>
		<item text="Stand (32866, 32836, 3)" tag="1"/>
		<item text="Node (32866, 32829, 2)" tag="0"/>
		<item text="Stand (32866, 32835, 2)" tag="1"/>
		<item text="Node (32863, 32834, 3)" tag="0"/>
		<item text="Stand (32867, 32830, 3)" tag="1"/>
		<item text="Node (32862, 32834, 4)" tag="0"/>
		<item text="Stand (32871, 32830, 4)" tag="1"/>
		<item text="Node (32859, 32833, 5)" tag="0"/>
		<item text="Node (32871, 32825, 5)" tag="0"/>
		<item text="Stand (32871, 32826, 5)" tag="1"/>
		<item text="Stand (32871, 32827, 5)" tag="1"/>
		<item text="Node (32867, 32831, 6)" tag="0"/>
		<item text="Node (32862, 32834, 6)" tag="0"/>
		<item text="Node (32866, 32824, 6)" tag="0"/>
		<item text="ChecarTudo:" tag="255"/>
		<item text="SairDaCave:" tag="255"/>
		<item text="Stand (32872, 32833, 6)" tag="1"/>
		<item text="Node (32865, 32823, 7)" tag="0"/>
		<item text="Node (32859, 32836, 7)" tag="0"/>
		<item text="Node (32868, 32833, 7)" tag="0"/>
		<item text="Stand (32865, 32830, 7)" tag="1"/>
		<item text="Node (32866, 32825, 8)" tag="0"/>
		<item text="Node (32850, 32823, 8)" tag="0"/>
		<item text="Node (32851, 32816, 8)" tag="0"/>
		<item text="Rope (32853, 32814, 8)" tag="3"/>
		<item text="Stand (32853, 32815, 7)" tag="1"/>
		<item text="ChangeItemsLH:" tag="255"/>
		<item text="Node (32848, 32815, 7)" tag="0"/>
		<item text="Node (32805, 32810, 7)" tag="0"/>
		<item text="Node (32780, 32804, 7)" tag="0"/>
		<item text="Node (32773, 32798, 7)" tag="0"/>
		<item text="Node (32758, 32788, 7)" tag="0"/>
		<item text="Node (32744, 32782, 7)" tag="0"/>
		<item text="Node (32716, 32770, 7)" tag="0"/>
		<item text="Node (32702, 32775, 7)" tag="0"/>
		<item text="Stand (32694, 32772, 7)" tag="1"/>
		<item text="Stand (32694, 32768, 6)" tag="1"/>
		<item text="VenderItem:" tag="255"/>
		<item text="Stand (32694, 32768, 6)" tag="1"/>
		<item text="ReportarTask:" tag="255"/>
		<item text="Stand (32694, 32768, 6)" tag="1"/>
		<item text="ReportarTask1:" tag="255"/>
		<item text="Stand (32694, 32768, 6)" tag="1"/>
		<item text="ReportarTask2:" tag="255"/>
		<item text="Stand (32694, 32768, 6)" tag="1"/>
		<item text="Stand (32694, 32772, 6)" tag="1"/>
		<item text="Node (32685, 32777, 7)" tag="0"/>
		<item text="Stand (32679, 32777, 7)" tag="1"/>
		<item text="Barco3:" tag="255"/>
		<item text="Node (32621, 32770, 7)" tag="0"/>
		<item text="Ladder (32618, 32771, 7)" tag="2"/>
		<item text="Node (32625, 32773, 6)" tag="0"/>
		<item text="Node (32620, 32787, 6)" tag="0"/>
		<item text="Node (32606, 32793, 6)" tag="0"/>
		<item text="Node (32582, 32789, 6)" tag="0"/>
		<item text="Node (32564, 32790, 6)" tag="0"/>
		<item text="Node (32546, 32788, 6)" tag="0"/>
		<item text="Node (32532, 32790, 6)" tag="0"/>
		<item text="Stand (32528, 32784, 6)" tag="1"/>
		<item text="Barco4:" tag="255"/>
		<item text="Node (32316, 32212, 6)" tag="0"/>
		<item text="Stand (32321, 32211, 6)" tag="1"/>
		<item text="Node (32331, 32214, 7)" tag="0"/>
		<item text="Node (32340, 32215, 7)" tag="0"/>
		<item text="Node (32355, 32215, 7)" tag="0"/>
		<item text="Stand (32360, 32219, 7)" tag="1"/>
		<item text="VenderItem:" tag="255"/>
		<item text="Node (32358, 32223, 7)" tag="0"/>
		<item text="Stand (32360, 32227, 7)" tag="1"/>
		<item text="VenderItem:" tag="255"/>
		<item text="Node (32358, 32224, 7)" tag="0"/>
		<item text="Stand (32357, 32222, 7)" tag="1"/>
		<item text="Node (32359, 32224, 6)" tag="0"/>
		<item text="Node (32359, 32228, 6)" tag="0"/>
		<item text="Stand (32359, 32232, 6)" tag="1"/>
		<item text="VenderItem:" tag="255"/>
		<item text="Node (32359, 32225, 6)" tag="0"/>
		<item text="Stand (32357, 32222, 6)" tag="1"/>
		<item text="Node (32359, 32219, 7)" tag="0"/>
		<item text="Node (32373, 32215, 7)" tag="0"/>
		<item text="Node (32401, 32215, 7)" tag="0"/>
		<item text="Node (32405, 32220, 7)" tag="0"/>
		<item text="Stand (32407, 32221, 7)" tag="1"/>
		<item text="VenderItem:" tag="255"/>
		<item text="Node (32405, 32217, 7)" tag="0"/>
		<item text="Node (32381, 32214, 7)" tag="0"/>
		<item text="Node (32345, 32215, 7)" tag="0"/>
		<item text="Node (32328, 32216, 7)" tag="0"/>
		<item text="Ladder (32321, 32211, 7)" tag="2"/>
		<item text="Node (32315, 32212, 6)" tag="0"/>
		<item text="Stand (32309, 32210, 6)" tag="1"/>
		<item text="Barco5:" tag="255"/>
		<item text="Node (32532, 32780, 6)" tag="0"/>
		<item text="Node (32548, 32786, 6)" tag="0"/>
		<item text="Node (32557, 32771, 6)" tag="0"/>
		<item text="Node (32557, 32770, 6)" tag="0"/>
		<item text="Node (32569, 32768, 6)" tag="0"/>
		<item text="Stand (32578, 32766, 6)" tag="1"/>
		<item text="Node (32578, 32768, 7)" tag="0"/>
		<item text="Node (32588, 32769, 7)" tag="0"/>
		<item text="Node (32597, 32768, 7)" tag="0"/>
		<item text="Node (32606, 32762, 7)" tag="0"/>
		<item text="Node (32628, 32762, 7)" tag="0"/>
		<item text="Node (32632, 32751, 7)" tag="0"/>
		<item text="Node (32631, 32746, 7)" tag="0"/>
		<item text="Stand (32631, 32742, 7)" tag="1"/>
		<item text="ResetarBPs:" tag="255"/>
		<item text="Reach Depot" tag="253"/>
		<item text="Deposit Items" tag="252"/>
		<item text="Node (32631, 32749, 7)" tag="0"/>
		<item text="Stand (32629, 32749, 7)" tag="1"/>
	</control>
</panel>
<panel name="Walker Options">
	<control name="ropeOption" value="0"/>
	<control name="shovelOption" value="0"/>
</panel>
<panel name="Looter">
	<control name="LootList" mode="0" minimum="0" maximum="0" skinner="0" unlisted="1">
		<item ID="3392" action="1" deposit="1"/>
		<item ID="3554" action="1" deposit="1"/>
		<item ID="7396" action="2" deposit="3"/>
		<item ID="8052" action="1" deposit="1"/>
		<item ID="3381" action="1" deposit="1"/>
		<item ID="7386" action="1" deposit="1"/>
		<item ID="3342" action="1" deposit="1"/>
		<item ID="811" action="1" deposit="1"/>
		<item ID="812" action="1" deposit="1"/>
		<item ID="7456" action="1" deposit="1"/>
		<item ID="3436" action="1" deposit="1"/>
		<item ID="3428" action="1" deposit="1"/>
		<item ID="5930" action="2" deposit="3"/>
		<item ID="10309" action="2" deposit="3"/>
		<item ID="3032" action="2" deposit="3"/>
		<item ID="3029" action="2" deposit="3"/>
		<item ID="5893" action="2" deposit="3"/>
		<item ID="3033" action="2" deposit="3"/>
		<item ID="3035" action="0" deposit="0"/>
		<item ID="3031" action="0" deposit="0"/>
		<item ID="12311" action="2" deposit="3"/>
		<item ID="3281" action="16" deposit="1"/>
		<item ID="8074" action="1" deposit="1"/>
		<item ID="3369" action="1" deposit="1"/>
		<item ID="10313" action="2" deposit="3"/>
		<item ID="3370" action="1" deposit="1"/>
		<item ID="9694" action="2" deposit="3"/>
	</control>
</panel>
<panel name="Pathfinder">
	<control name="walkOnFireEnable" value="1"/>
	<control name="walkOnFurnitureEnable" value="1"/>
	<control name="walkOnMaroonGround" value="0"/>
	<control name="pathThroughRangedCreatures" value="0"/>
	<control name="walkWithMapclicks" value="0"/>
</panel>
<panel name="Mount">
</panel>
<panel name="Special Areas">
	<control name="AreaList">
	</control>
</panel>
<panel name="Alarms">
	<control name="disAlarm" value="0"/>
	<control name="damAlarm" value="0"/>
	<control name="lhpAlarm" value="0"/>
	<control name="lhpAlarmPercent" value="50"/>
	<control name="pmAlarm" value="0"/>
	<control name="creatureAlarm" value="0"/>
	<control name="attackAlarm" value="0"/>
	<control name="attackAlarmYellow" value="1"/>
	<control name="playerAlarm" value="0"/>
	<control name="playerAlarmLog" value="0"/>
	<control name="stuckAlarm" value="1"/>
	<control name="burstAlarm" value="0"/>
	<control name="burstAlarmPercent" value="500"/>
	<control name="averageAlarm" value="0"/>
	<control name="averageAlarmPercent" value="200"/>
	<control name="alarmPartyIgnore" value="0"/>
</panel>
<panel name="Scripter">
	<control name="RunningScriptList">
		<script name="{A} Terra Amulet Equip.lua"><![CDATA[bG9jYWwgYW11bGV0SWQgPSA4MTQNCiANCk1vZHVsZS5OZXcoImFtdWxldC1jaGFuZ2VyIiwgZnVuY3Rpb24oKQ0KICAgIGlmIChTZWxmLkFtdWxldCgpLmlkIH49IGFtdWxldElkKSB0aGVuDQogICAgICAgIFNlbGYuRXF1aXAoYW11bGV0SWQsICJhbXVsZXQiKQ0KICAgIGVuZA0KZW5kKQ==]]></script>
		<script name="{B} Equip Soft And BOH.lua"><![CDATA[bG9jYWwgTWFuYVRvRXF1aXAgPSA5MCAtLSBNYW5hIFBlcmNlbnQgdG8gZXF1aXAgc29mdCBib290cy4NCmxvY2FsIE5vcm1hbEJvb3RzID0gMzA3OSAtLSBJdGVtIElEIG9mIHlvdXIgbm9ybWFsIGJvb3RzLg0KU2VsZi5NYW5hUGVyY2VudCA9IGZ1bmN0aW9uICgpDQogICAgcmV0dXJuIG1hdGguYWJzKFNlbGYuTWFuYSgpIC8gKFNlbGYuTWF4TWFuYSgpICogMC4wMSkpDQplbmQNCk1vZHVsZS5OZXcoJ2VxdWlwIHNvZnRzJywgZnVuY3Rpb24obW9kdWxlKQ0KICAgIGlmIChTZWxmLk1hbmFQZXJjZW50KCkgPD0gTWFuYVRvRXF1aXApIGFuZCAoU2VsZi5GZWV0KCkuaWQgfj0gMzU0OSkgYW5kIChTZWxmLkl0ZW1Db3VudCg2NTI5KSA+IDApIHRoZW4NCiAgICAgICAgU2VsZi5FcXVpcCg2NTI5LCAiZmVldCIpDQogICAgICAgIG1vZHVsZTpEZWxheSgxMDAwKQ0KICAgIGVsc2VpZiAoU2VsZi5NYW5hUGVyY2VudCgpID49IE1hbmFUb0VxdWlwKSBvciAoU2VsZi5GZWV0KCkuaWQgPT0gNjUzMCkgYW5kIChTZWxmLkZlZXQoKS5pZCB+PSBOb3JtYWxCb290cykgdGhlbg0KICAgICAgICBTZWxmLkVxdWlwKE5vcm1hbEJvb3RzLCAiZmVldCIpDQogICAgICAgIG1vZHVsZTpEZWxheSgxMDAwKQ0KICAgIGVuZA0KZW5kKQ==]]></script>
		<script name="{FOOD} Use FOOD.lua"><![CDATA[ZnVuY3Rpb24gdXNlQ29pbnMoaWQpICANCiAgICBsb2NhbCBjb250ID0gQ29udGFpbmVyLkdldEZpcnN0KCkgIA0KDQogICAgd2hpbGUgKGNvbnQ6aXNPcGVuKCkpIGRvICANCiAgICAgICAgZm9yIHNwb3QgPSAwLCBjb250Okl0ZW1Db3VudCgpIGRvICANCiAgICAgICAgICAgIGxvY2FsIGl0ZW0gPSBjb250OkdldEl0ZW1EYXRhKHNwb3QpICANCiAgICAgICAgICAgIGlmIChpdGVtLmlkID09IGlkKSB0aGVuICANCiAgICAgICAgICAgICAgICBpZiAoaXRlbS5jb3VudCA9PSAxMDApIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgY29udDpVc2VJdGVtKHNwb3QsIFRydWUpDQogICAgICAgICAgICAgICAgICAgIHNsZWVwKDgwMDApDQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQgIA0KICAgICAgICBlbmQgIA0KDQogICAgICAgIGNvbnQgPSBjb250OkdldE5leHQoKSAgDQogICAgZW5kICANCiAgICAgDQogICAgcmV0dXJuIGZhbHNlICANCmVuZCAgDQoNCndoaWxlICh0cnVlKSBkbw0KICAgIHVzZUNvaW5zKDM3MzEpLS1maXJlIG11c2hyb29tDQogICAgc2xlZXAoNTAwMCkNCiAgICB1c2VDb2lucygzNzI1KS0tYnJvd24gbXVzaHJvb20NCiAgICBzbGVlcCg1MDAwKQ0KZW5k]]></script>
		<script name="{R} Life Ring Equip.lua"><![CDATA[bG9jYWwgUmluZ0lEID0gMzA1Mg0KDQp3aGlsZSB0cnVlIGRvDQppZiBTZWxmLlJpbmcoKS5pZCA9PSAwIHRoZW4NClNlbGYuRXF1aXAoUmluZ0lELCAicmluZyIpDQplbmQNCndhaXQoNTAsMzAwKQ0KZW5k]]></script>
		<script name="{EK} Mover Potions (MP & SupremeHP).lua"><![CDATA[DQpNYW5hUG90aW9uID0gIk1hbmEgUG90aW9uIg0KR3JlYXRIZWFsdGhQb3Rpb24gPSAiU3VwcmVtZSBIZWFsdGggUG90aW9uIg0KDQoNClN1cHBsaWVzQ29udGFpbmVyID0gImJlYWNoIGJhY2twYWNrIg0KICANCi0tW1sgRE8gTk9UIEVESVQgQU5ZVEhJTkcgQkVMT1cgVEhJUyBMSU5FIF1dLS0NCg0KTWFuYUlEID0gSXRlbS5HZXRJRChNYW5hUG90aW9uKQ0KR3JlYXRIZWFsdGhJRCA9IEl0ZW0uR2V0SUQoR3JlYXRIZWFsdGhQb3Rpb24pDQogIA0KICANCk1vZHVsZSgnU3RhY2tBbW1vJywgZnVuY3Rpb24obW9kKQ0KICAgIGlmICgjQ29udGFpbmVyLkdldEFsbCgpID49IDEpIHRoZW4NCiAgICAgICAgaWYgKENvbnRhaW5lcigwKTpDb3VudEl0ZW1zT2ZJRChNYW5hSUQpID49MSBvciBDb250YWluZXIoMCk6Q291bnRJdGVtc09mSUQoR3JlYXRIZWFsdGhJRCkgPj0xKSB0aGVuDQogICAgICAgICAgICBmb3Igc3BvdCA9IENvbnRhaW5lcigwKTpJdGVtQ291bnQoKS0xLCAwLCAtMSBkbw0KICAgICAgICAgICAgICAgIGxvY2FsIGl0ZW0gPSBDb250YWluZXIoMCk6R2V0SXRlbURhdGEoc3BvdCkgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmIChpdGVtLmlkID09IE1hbmFJRCBvciBpdGVtLmlkID09IEdyZWF0SGVhbHRoSUQpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgQ29udGFpbmVyKDApOk1vdmVJdGVtVG9Db250YWluZXIoc3BvdCwgQ29udGFpbmVyLkdldEJ5TmFtZShTdXBwbGllc0NvbnRhaW5lcik6SW5kZXgoKSwgMCkNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQplbmQp]]></script>
		<script name="{G} Change Gold.lua"><![CDATA[ZnVuY3Rpb24gdXNlQ29pbnMoaWQpICANCiAgICBsb2NhbCBjb250ID0gQ29udGFpbmVyLkdldEZpcnN0KCkgIA0KDQogICAgd2hpbGUgKGNvbnQ6aXNPcGVuKCkpIGRvICANCiAgICAgICAgZm9yIHNwb3QgPSAwLCBjb250Okl0ZW1Db3VudCgpIGRvICANCiAgICAgICAgICAgIGxvY2FsIGl0ZW0gPSBjb250OkdldEl0ZW1EYXRhKHNwb3QpICANCiAgICAgICAgICAgIGlmIChpdGVtLmlkID09IGlkKSB0aGVuICANCiAgICAgICAgICAgICAgICBpZiAoaXRlbS5jb3VudCA9PSAxMDApIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgY29udDpVc2VJdGVtKHNwb3QsIFRydWUpDQogICAgICAgICAgICAgICAgICAgIHNsZWVwKDUwMCkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZCAgDQogICAgICAgIGVuZCAgDQoNCiAgICAgICAgY29udCA9IGNvbnQ6R2V0TmV4dCgpICANCiAgICBlbmQgIA0KICAgICANCiAgICByZXR1cm4gZmFsc2UgIA0KZW5kICANCg0Kd2hpbGUgKHRydWUpIGRvDQogICAgdXNlQ29pbnMoMzAzMSktLWdvbGQNCiAgICBzbGVlcCg1MDApDQogICAgdXNlQ29pbnMoMzAzNSktLXBsYXRpbnVtDQogICAgc2xlZXAoNTAwKQ0KZW5k]]></script>
		<script name="{A} AbrirBPS Na Hunt PHS.lua"><![CDATA[bG9jYWwgTG9vdEJwMSA9ICdCYWNrcGFjaycKbG9jYWwgTG9vdEJwMiA9ICdCbHVlIEJhY2twYWNrJwpsb2NhbCBTdGFja0JwID0gJ0JlYWNoIEJhY2twYWNrJwpsb2NhbCBHb2xkQnAgPSAnUGlyYXRlIEJhY2twYWNrJwpsb2NhbCBudW1iZXJPZkJhY2twYWNrcyA9IDUKCk1vZHVsZSgnQWxhcm0gQ29udGFpbmVycycsIGZ1bmN0aW9uKG1vZCkKaWYgI0NvbnRhaW5lci5HZXRBbGwoKSA8IG51bWJlck9mQmFja3BhY2tzIGFuZCBTZWxmLmlzSW5QeigpID09IGZhbHNlIHRoZW4KYWxlcnQoKQpwcmludCgnQ29udGFpbmVycyBmdWNrZWQgdXAsIHN0b3BwaW5nIHRvIHJlc2V0IEJQcycpCnNldFdhbGtlckVuYWJsZWQoZmFsc2UpClRhcmdldGluZy5TdG9wKCkKTG9vdGVyLlN0b3AoKQpTZWxmLkNsb3NlQ29udGFpbmVycygpClNlbGYuT3Blbk1haW5CYWNrcGFjayh0cnVlKTpPcGVuQ2hpbGRyZW4oe0xvb3RCcDEsIHRydWV9LHtMb290QnAyLCB0cnVlfSx7U3RhY2tCcCwgdHJ1ZX0se0dvbGRCcCwgdHJ1ZX0pCndhaXQoMjAwLCA1MDApCnNldFdhbGtlckVuYWJsZWQodHJ1ZSkKVGFyZ2V0aW5nLlN0YXJ0KCkKTG9vdGVyLlN0YXJ0KCkKZW5kCm1vZDpEZWxheSgyMDAwKQplbmQp]]></script>
		<script name="[CONFIG] EK Medusa Tower PH.lua"><![CDATA[LS1bWw0KDQohISEhU2NyaXB0IE9yaWdpbmFsIMOpIGRvOiBOaXhleiAoZG8gZm9ydW0gZG8gWGVub0JvdCkhISEhIA0KDQpUcmFkdXppZG8gZSBhZGljaW9ub3UgYWxndW1hcyBGdW7Dp8O1ZXM6IA0KTHVreiAtIHRpYmlha2luZy5jb20NCkx1a3pCUiAtIHd3dy5wYW5kb3JpdW14LmNvbQ0KaHR0cHM6Ly93d3cueW91dHViZS5jb20vdXNlci9Pb09Sb25hbGRvT29PIC0geW91dHViZS5jb20NCmVtIG91dHJvcyBGb3J1bXMgbWV1IG5pY2sgw6k6IGphaW1pbmhvLg0KDQoNCiEhIU9CUzogTsODTyBVU0UgRVNTRSBBUlFVSVZPLCBGQcOHQSBTRU1QUkUgVU1BIENPUElBISEhDQoNCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQp8ICAgICAgICAgICAgICAgICAgICAgICAgfA0KfCBJTklDSU8gREFTIElORk9STUHDh8OVRVMgfA0KfCAgICAgICAgICAgICAgICAgICAgICAgIHwNCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQoNCi8vLyBTQ1JJUFQgQ09NRcOHQSBTRU1QUkUgRE8gTEFETyBETyBCQU5DTy4gXFxcDQoNCiBMYWJlbHM6IA0KLSBBYnJpckJQcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLShETyBMQURPIERPIEJBTkNPKQ0KLSBDaGVjYXJQYXJhSHVudCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLShETyBMQURPIERPIEJBTkNPKQ0KLSBCYW5jbyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLShETyBMQURPIERPIEJBTkNPKQ0KLy8gQU5EQVIgQVTDiSBPIFNIT1AgUEFSQSBDT01QUkFSIFBPVFMuDQotIENvbXByYXJQb3RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKERPIExBRE8gREEgTE9KQSBERSBDT01QUkFSIFBPVFMpDQotIENoZWNhckRlbm92byAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKERPIExBRE8gRE8gQkFOQ08pICoqIFNFIEZPUiBTw5MgQ09NUFJBUiBQT1RTLCBWT0xUQVIgQU8gQkFOQ08gQU5URVMuDQoNCi8vIEFOREFSIEFUw4kgTyBTSE9QIFBBUkEgQ09NUFJBUiBSVU5BUy4NCi0gQ29tcHJhclJ1bmFzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0oRE8gTEFETyBEQSBMT0pBIERFIENPTVBSQVIgUlVOQVMpDQotIENoZWNhckRlbm92byAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKERPIExBRE8gRE8gQkFOQ08pICoqIFNFIEZPUiBTw5MgQ09NUFJBUiBSVU5BUywgVk9MVEFSIEFPIEJBTkNPIEFOVEVTLg0KDQovLyBBTkRBUiBBVMOJIE8gU0hPUCBQQVJBIENPTVBSQVIgRkxFWEFTLg0KLSBDb21wcmFyRmxleGFzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLShETyBMQURPIERBIExPSkEgREUgQ09NUFJBUiBGTEVYQVMgU0UgRk9SIFJQKQ0KLSBDaGVjYXJEZW5vdm8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLShETyBMQURPIERPIEJBTkNPKSAqKiBTRSBGT1IgU8OTIENPTVBSQVIgRkxFWEFTLCBWT0xUQVIgQU8gQkFOQ08gQU5URVMuDQogDQotIENhbWluaG9IdW50IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKElSIEFUw4kgQSBIVU5UKQ0KDQotIFN0YXJ0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKERFTlRSTyBETyBSRVNQQVdOKQ0KLSBSZUFicmlyQlBzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLShTRU1QUkUgUVVFIEFOREFSIFBPUiBUT0RBIEhVTlQsIFZBSSBSRS1BQlJJUiBBUyBCUHMpLg0KLy8gQU5EQVIgUE9SIFRPRE8gU08gUkVTUEFXTi4NCi0gQ2hlY2FyVHVkbyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0oREVQT0lTIFFVRSBBTkRBUiBQT1IgVE9EQSBDQVZFKQ0KLSBTYWlyRGFDYXZlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLShQQVJBIFZPTFRBUiBQUk8gRFApDQovLyBERU5UUk8gRFAuDQotIFJlc2V0YXJCUHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKERFTlRSTyBETyBEUCBQLyBERVBPU0lUQVIpDQotIFJlYWNoRGVwb3QgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKFBBUkEgSVIgQU8gTE9DS0VSKQ0KLSBEZXBvc2l0YXJJdGVtcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLShWT0xUQVIgQU8gSU5JQ0lPIFNFIEZPUiBQUkVDSVNPKS4NCi0gQWJyaXJCUHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0oUkUtQUJSSVIgREVQT0lTIERFIERFUE9TSVRBUiBOTyBEUCkuDQotIENvbXByYXIgMTMgQlBzDQoNCg0KLy8vIElEcyBFIFBSRcOHTyBEQVMgUE9USU9OUyBcXFwNCg0KMjM2IC0gc3Ryb25nIGhlYWx0aCBwb3Rpb24sIC0tLS0tLS0tLS0tLS0gMTAwIEdQIA0KMjM3IC0gc3Ryb25nIG1hbmEgcG90aW9uLCAtLS0tLS0tLS0tLS0tLS0gODAgR1AgDQoyMzggLSBncmVhdCBtYW5hIHBvdGlvbiwgLS0tLS0tLS0tLS0tLS0tLSAxMjAgR1ANCjIzOSAtIGdyZWF0IGhlYWx0aCBwb3Rpb24sIC0tLS0tLS0tLS0tLS0tIDE5MCBHUA0KMjY2IC0gaGVhbHRoIHBvdGlvbiwgLS0tLS0tLS0tLS0tLS0tLS0tLS0gNDUgR1ANCjI2OCAtIG1hbmEgcG90aW9uLCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIDUwIEdQIA0KNzY0MiAtIGdyZWF0IHNwaXJpdCBwb3Rpb24sIC0tLS0tLS0tLS0tLS0gMTkwIEdQDQo3NjQzIC0gdWx0aW1hdGUgaGVhbHRoIHBvdGlvbiwgLS0tLS0tLS0tLSAzMTAgR1ANCg0KLy8vIElEcyBFIFBSRcOHTyBEQVMgUlVOQXMgXFxcDQoNCjMxNTUgLSBzdWRkZW4gZGVhdGggcnVuZSwgLS0tLS0tLS0tLS0tLS0tIDEwOCBHUA0KMzE2MCAtIHVsdGltYXRlIGhlYWxpbmcgcnVuZSwgLS0tLS0tLS0tLS0gMTc1IEdQDQozMTYxIC0gYXZhbGFuY2hlIHJ1bmUsIC0tLS0tLS0tLS0tLS0tLS0tLSA0NSBHUA0KMzE5MSAtIGdyZWF0IGZpcmViYWxsIHJ1bmUsIC0tLS0tLS0tLS0tLS0gNDUgR1ANCjMyMDIgLSB0aHVuZGVyc3Rvcm0gcnVuZSwgLS0tLS0tLS0tLS0tLS0tIDM3IEdQDQoNCi8vLyBJRHMgRSBQUkXDh08gREFTIE1VTknDh8OVRVNzIFxcXA0KDQo3NjEgLSBmbGFzaCBhcnJvdywgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSA1IEdQDQo3NjIgLSBzaGl2ZXIgYXJyb3csIC0tLS0tLS0tLS0tLS0tLS0tLS0tLSA1IEdQDQo3NjMgLSBmbGFtaW5nIGFycm93LCAtLS0tLS0tLS0tLS0tLS0tLS0tLSA1IEdQDQo3NzQgLSBlYXJ0aCBhcnJvdywgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSA1IEdQDQozNDQ3IC0gYXJyb3csIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAzIEdQDQo3MzY0IC0gc25pcGVyIGFycm93LCAtLS0tLS0tLS0tLS0tLS0tLS0tLSA1IEdQDQoxNjE0MyAtIGVudmVub21lZCBhcnJvdywgLS0tLS0tLS0tLS0tLS0tLSAxMiBHUA0KNzM2NSAtIG9ueXggYXJyb3csIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gNyBHUA0KMTQyNTEgLSB0YXJzYWwgYXJyb3csIC0tLS0tLS0tLS0tLS0tLS0tLS0gNiBHUA0KMTU3OTMgLSBjcnlzdGFsbGluZSBhcnJvdywgLS0tLS0tLS0tLS0tLS0gMjAgR1ANCjM0NDYgLSBib2x0LCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIDQgR1ANCjM0NTAgLSBwb3dlciBib2x0LCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIDcgR1ANCjczNjMgLSBwaWVyY2luZyBib2x0LCAtLS0tLS0tLS0tLS0tLS0tLS0tIDUgR1ANCjE0MjUyIC0gdm9ydGV4IGJvbHQsIC0tLS0tLS0tLS0tLS0tLS0tLS0tIDYgR1ANCjE2MTQxIC0gcHJpc21hdGljIGJvbHQsIC0tLS0tLS0tLS0tLS0tLS0tIDIwIEdQDQoxNjE0MiAtIGRyaWxsIGJvbHQsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLSAxMiBHUA0KDQoNCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQp8ICAgICAgICAgICAgICAgICAgICAgfA0KfCBGSU0gREFTIElORk9STUHDh8OVRVMgfA0KfCAgICAgICAgICAgICAgICAgICAgIHwNCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQotLV1dDQoNCg0KLS1bWw0KLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KfCAgICAgICAgICAgICAgICAgICAgICAgICAgfA0KfCBJTklDSU8gREFTIENPTkZJR1VSQcOHw5VFUyB8DQp8ICAgICAgICAgICAgICAgICAgICAgICAgICB8DQovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQoNCi0tXV0NCg0KLS0gTUFOQSBQT1RJT04gLS0NCmxvY2FsIE1hbmFQb3RJRCA9IDI2OAktLSBJRCBEQVMgTUFOQSBQT1RJT05TLg0KbG9jYWwgUHJlY29NUCA9IDUwDQoNCi0tIEhFQUxUSCBQT1RJT04gLS0NCmxvY2FsIEhlYWx0aFBvdElEID0gMjMzNzUgICAtLSBJRCBEQVMgSEVBTFRIIFBPVElPTlMuDQpsb2NhbCBQcmVjb0hQID0gNTAwDQoNCi0tIE1VTknDh8ODTyAtLQ0KbG9jYWwgSURNdW5pY2FvID0gMCAtLSBJRCBEQSBNVU5Jw4fDg08uDQpsb2NhbCBQcmVjb011bmljYW8gPSAwDQoNCi0tIFJVTkEgLS0NCmxvY2FsIFJ1bmFJRCA9IDAgLS0gSUQgREEgUlVOQS4NCmxvY2FsIFByZWNvUnVuYSA9IDANCg0KLS1bWy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLS1dXQ0KDQotLSAqKioqKioqQ09NUFJBUiBRVUFOVEFTOiAoUVVBTlRJREFERSkqKioqKioqDQpsb2NhbCBRdWFudGlkYWRlTVAgPSAzMDAgCQkJDQotLSBRVUFOVElEQURFIERFIE1BTkEgUE9USU9OUyBRVUUgTyBCT1QgSVJBIENPTVBSQVIgUEFSQSBJUiBDQcOHQVIuDQoNCmxvY2FsIFF1YW50aWRhZGVIUCA9IDMwMCAgICAgICAgICAgICAgICAgDQotLSBRVUFOVElEQURFIERFIEhFQUxUSCBQT1RJT05TIFFVRSBPIEJPVCBJUkEgQ09NUFJBUiBQQVJBIElSIENBw4dBUi4NCg0KbG9jYWwgUXVhbnRpZGFkZU11bmljYW8gPSAwDQotLSBRVUFOVElEQURFIERFIE1VTknDh8ODTyBRVUUgVkFJIENPTVBSQVINCg0KbG9jYWwgUXVhbnRpZGFkZVJ1bmEgPSAwDQotLSBRVUFOVElEQURFIERFIFJVTkFTIFFVRSBPIEJPVCBJUkEgQ09NUFJBUiBQQVJBIElSIENBw4dBUi4NCg0KDQotLVtbLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8tLV1dDQoNCi0tICoqKioqKipTQUlSIENPTTogKFFVQU5USURBREUpKioqKioqKiANCmxvY2FsIE1QU2FpciA9IDEwMAkJCQ0KLS0gREVJWEFSIEhVTlQgU0UgQSBRVUFOVElEQURFIERFIE1BTkEgUE9USU9OUyBGT1IgTUVOT1I6DQpsb2NhbCBIUFNhaXIgPSAxMDAJCQkNCi0tIERFSVhBUiBIVU5UIFNFIEEgUVVBTlRJREFERSBERSBIRUFMVEggUE9USU9OUyBGT1IgTUVOT1I6DQpsb2NhbCBNdW5pY2FvU2FpciA9IDANCi0tIERFSVhBUiBIVU5UIFNFIEEgUVVBTlRJREFERSBERSBBTU1PIEZPUiBNRU5PUjoNCmxvY2FsIFF1YW50aWRhZGVSdW5hU2FpciA9IDANCi0tIERFSVhBUiBIVU5UIFNFIEEgUVVBTlRJREFERSBERSBSVU5BUyBGT1IgTUVOT1I6DQpsb2NhbCBDYXBTYWlyID0gMTAwDQotLSBERUlYQVIgSFVOVCBTRSBBIFFVQU5USURBREUgREUgQ0FQIEZPUiBNRU5PUjoNCg0KLS1bWy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLS1dXQ0KDQoNCi0tIENPTkZJR1VSQcOHw4NPIERBUyBCUHMNCmxvY2FsIExvb3RCUCA9ICJiYWNrcGFjayINCmxvY2FsIEdvbGRCUCA9ICJibHVlIGJhY2twYWNrIiANCmxvY2FsIFBvdHNCUCA9ICJiZWFjaCBiYWNrcGFjayINCmxvY2FsIFNldEJQID0gInBpcmF0ZSBiYWNrcGFjayINCg0KDQotLUl0ZW1zIENvbSBJbWJ1ZW1lbnRzDQpsb2NhbCBIYW5kID0gIm1haW1lciINCmxvY2FsIEhhbmRkID0gInZhbXBpcmUgc2hpZWxkIg0KbG9jYWwgSGFuZDIgPSAiY29icmEgY2x1YiINCmxvY2FsIEFybW9yID0gInJveWFsIGRyYWtlbiBtYWlsIg0KbG9jYWwgQXJtb3IyID0gImJsdWUgcm9iZSINCmxvY2FsIEhlbG1ldCA9ICJjcmVzdCBvZiB0aGUgZGVlcCBzZWFzIg0KbG9jYWwgSGVsbWV0MiA9ICJ6YW9hbiBoZWxtZXQiDQpsb2NhbCB1bmVxdWlwVG8gPSAgU2V0QlANCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLU5PIEVESVQgQkVMT1ctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpsb2NhbCBNYW5hSUQgPSBJdGVtLkdldElEKE1hbmFQb3Rpb24pDQpsb2NhbCBIZWFsdGhJRCA9IEl0ZW0uR2V0SUQoSGVhbHRoUG90aW9uKQ0KbG9jYWwgSGFuZDIgPSBJdGVtLkdldElEKEhhbmQyKQ0KbG9jYWwgSGFuZGQgPSBJdGVtLkdldElEKEhhbmRkKQ0KbG9jYWwgSGFuZCA9IEl0ZW0uR2V0SUQoSGFuZCkNCmxvY2FsIEFybW9yMiA9IEl0ZW0uR2V0SUQoQXJtb3IyKQ0KbG9jYWwgQXJtb3IgPSBJdGVtLkdldElEKEFybW9yKQ0KbG9jYWwgSGVsbWV0MiA9IEl0ZW0uR2V0SUQoSGVsbWV0MikNCmxvY2FsIEhlbG1ldCA9IEl0ZW0uR2V0SUQoSGVsbWV0KQ0KDQotLVtbDQovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQp8ICAgICAgICAgICAgICAgICAgICAgICB8DQp8IEZJTSBEQVMgQ09ORklHVVJBw4fDlUVTIHwNCnwgICAgICAgICAgICAgICAgICAgICAgIHwNCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCg0KTsODTyBFRElUQVIgTkFEQSBERVBPSVMgREVTVEEgTElOSEEsIEVESVRFIFNPTUVOVEUgU0UgVk9DRSBTT1VCRVIgTyBRVUUgRkFaIS4NCg0KLS1dXQ0KDQoNCg0KcmVnaXN0ZXJFdmVudExpc3RlbmVyKFdBTEtFUl9TRUxFQ1RMQUJFTCwgIm9uV2Fsa2VyU2VsZWN0TGFiZWwiKQ0KDQoNCmZ1bmN0aW9uIG9uV2Fsa2VyU2VsZWN0TGFiZWwobGFiZWxOYW1lKQ0KaWYgKGxhYmVsTmFtZSA9PSAiQ2hhbmdlSXRlbXNHSCIpIHRoZW4NCgkJCVNlbGYuRGVxdWlwKCJ3ZWFwb24iLCB1bmVxdWlwVG8pDQoJCQl3YWl0KDEwMDApDQoJCQlTZWxmLkVxdWlwKEhhbmQyLCAid2VhcG9uIikNCgkJCXdhaXQoMTAwMCkNCgkJCVNlbGYuRGVxdWlwKCJhcm1vciIsIHVuZXF1aXBUbykNCgkJCXdhaXQoMTAwMCkNCgkJCVNlbGYuRXF1aXAoQXJtb3IyLCAiYXJtb3IiKQ0KCQkJd2FpdCgxMDAwKQ0KCQkJU2VsZi5EZXF1aXAoImhlYWQiLCB1bmVxdWlwVG8pDQoJCQl3YWl0KDEwMDApDQoJCQlTZWxmLkVxdWlwKEhlbG1ldDIsICJoZWFkIikNCmlmICgoU2VsZi5XZWFwb24oKS5pZCB+PSBIYW5kMikgb3IgKFNlbGYuQXJtb3IoKS5pZCB+PSBBcm1vcjIpIG9yIChTZWxmLkhlYWQoKS5pZCB+PSBIZWxtZXQyKSkgdGhlbg0KCQkJV2Fsa2VyLkdvdG8oIkNoYW5nZUdIIikNCgkNCgkJCQ0KZW5kDQplbmQNCg0KaWYgKGxhYmVsTmFtZSA9PSAiQ2hhbmdlSXRlbXNMSCIpIHRoZW4NCgkJCVNlbGYuRGVxdWlwKCJ3ZWFwb24iLCB1bmVxdWlwVG8pDQoJCQl3YWl0KDEwMDApDQoJCQlTZWxmLkVxdWlwKEhhbmQsICJ3ZWFwb24iKQ0KCQkJd2FpdCgxMDAwKQ0KCQkJU2VsZi5EZXF1aXAoImFybW9yIiwgdW5lcXVpcFRvKQ0KCQkJd2FpdCgxMDAwKQ0KCQkJU2VsZi5FcXVpcChBcm1vciwgImFybW9yIikNCgkJCXdhaXQoMTAwMCkNCgkJCVNlbGYuRGVxdWlwKCJoZWFkIiwgdW5lcXVpcFRvKQ0KCQkJd2FpdCgxMDAwKQ0KCQkJU2VsZi5FcXVpcChIZWxtZXQsICJoZWFkIikNCmlmICgoU2VsZi5XZWFwb24oKS5pZCB+PSBIYW5kKSBvciAoU2VsZi5TaGllbGQoKS5pZCB+PSBIYW5kZCkgb3IgKFNlbGYuQXJtb3IoKS5pZCB+PSBBcm1vcikgb3IgKFNlbGYuSGVhZCgpLmlkIH49IEhlbG1ldCkpIHRoZW4NCgkJCVdhbGtlci5Hb3RvKCJDaGFuZ2VMSCIpDQoJCWVuZA0KZW5kICAgICAgICANCgkJLS0gQ0hFQ0EgU0UgVk9DRSBURU0gUE9UUyBFIENBUCBEVVJBTlRFIEEgSFVOVC4NCiAgICAgICAgaWYgKGxhYmVsTmFtZSA9PSAiQ2hlY2FyVHVkbyIpIHRoZW4NCgkJICAgV2Fsa2VyLkNvbmRpdGlvbmFsR290bygoU2VsZi5JdGVtQ291bnQoSGVhbHRoUG90SUQpIDw9IEhQU2Fpcikgb3IgDQoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgKFNlbGYuSXRlbUNvdW50KE1hbmFQb3RJRCkgPD0gTVBTYWlyKSBvcg0KIAkJCQkJCQkJICAoU2VsZi5DYXAoKSA8IENhcFNhaXIpIG9yIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChTZWxmLkl0ZW1Db3VudChSdW5hSUQpIDwgUXVhbnRpZGFkZVJ1bmFTYWlyKSBvciANCgkJCQkJCQkJICAoU2VsZi5JdGVtQ291bnQoSURNdW5pY2FvKSA8IE11bmljYW9TYWlyKSwgIlNhaXJEYUNhdmUiLCAiU3RhcnQiKQ0KCSAJIA0KCQkJDQoJCS0tIENIRUNBUiBTRSBURU0gT1UgTsODTyBURU0gUE9USU9OUywgU0UgVEVSIFZBSSBDQcOHQVIoQ2FtaW5ob0h1bnQpLCBTRSBOw4NPIFRFUiwgVkFJIE5PIEJBTkNPKEJhbmNvKSBUSVJBUiBHT0xEIFBSQSBDT01QUkFSIFBPVFMuDQoJCWVsc2VpZiAobGFiZWxOYW1lID09ICJDaGVjYXJQYXJhSHVudCIpIHRoZW4NCgkJICAgV2Fsa2VyLkNvbmRpdGlvbmFsR290bygoU2VsZi5JdGVtQ291bnQoSGVhbHRoUG90SUQpIDwgUXVhbnRpZGFkZUhQKSBvciANCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAoU2VsZi5JdGVtQ291bnQoTWFuYVBvdElEKSA8IFF1YW50aWRhZGVNUCkgb3IgDQoJCQkJCQkJCSAgKFNlbGYuSXRlbUNvdW50KFJ1bmFJRCkgPCBRdWFudGlkYWRlUnVuYSkgb3INCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoU2VsZi5JdGVtQ291bnQoSURNdW5pY2FvKSA8IFF1YW50aWRhZGVNdW5pY2FvKSwgIkJhbmNvIiwgIkNhbWluaG9IdW50IikNCgkJCQkJCQkJICBUYXJnZXRpbmcuU3RhcnQoKQ0KCQkJCQkJCQkgIExvb3Rlci5TdGFydCgpDQoJCQkJCQkJCSAgDQoJCQkJCQkJCSAgDQoJCS0tIENIRUNBUiBTRSBURU0gT1UgTsODTyBURU0gUE9USU9OUywgU0UgVEVSIFZBSSBDQcOHQVIoQ2FtaW5ob0h1bnQpLCBTRSBOw4NPIFRFUiwgVkFJIE5PIEJBTkNPKEJhbmNvKSBUSVJBUiBHT0xEIFBSQSBDT01QUkFSIFBPVFMuDQoJCWVsc2VpZiAobGFiZWxOYW1lID09ICJDaGVjYXJEZW5vdm8iKSB0aGVuDQoJCSAgIFdhbGtlci5Db25kaXRpb25hbEdvdG8oKFNlbGYuSXRlbUNvdW50KEhlYWx0aFBvdElEKSA8IFF1YW50aWRhZGVIUCkgb3IgDQoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgKFNlbGYuSXRlbUNvdW50KE1hbmFQb3RJRCkgPCBRdWFudGlkYWRlTVApIG9yIA0KCQkJCQkJCQkgIChTZWxmLkl0ZW1Db3VudChSdW5hSUQpIDwgUXVhbnRpZGFkZVJ1bmEpIG9yDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFNlbGYuSXRlbUNvdW50KElETXVuaWNhbykgPCBRdWFudGlkYWRlTXVuaWNhbyksICJCYW5jbyIsICJDYW1pbmhvSHVudCIpDQoJCQkJCQkJCSAgVGFyZ2V0aW5nLlN0YXJ0KCkNCgkJCQkJCQkJICBMb290ZXIuU3RhcnQoKQ0KCQkJDQoJCQ0KCQkgLS0gUEVHQVIgQkFSQ08gSURBIEUgVk9MVEENCgkgICAgZWxzZWlmIChsYWJlbE5hbWUgPT0gIkJhcmNvMSIpIHRoZW4NCgkJQ3JlYXR1cmUuRm9sbG93KCJPbGQgQWRhbGwiKQ0KCQlXYWxrZXIuU3RvcCgpDQogICAgICAgIFNlbGYuU2F5VG9OcGMoIkhpIikgDQogICAgICAgIHdhaXQgKDEwMDApIA0KICAgICAgICBTZWxmLlNheVRvTnBjKCJlYXN0IikgDQogICAgICAgIHdhaXQgKDEwMDApIA0KICAgICAgICBTZWxmLlNheVRvTnBjKCJZZXMiKQ0KCQl3YWl0KDIwMDAsMzAwMCkNCgkJV2Fsa2VyLlN0YXJ0KCkNCgkgIAkgICAgICANCgkgICAgZWxzZWlmIChsYWJlbE5hbWUgPT0gIkJhcmNvMiIpIHRoZW4NCgkJQ3JlYXR1cmUuRm9sbG93KCJMb3JlayIpDQoJCVdhbGtlci5TdG9wKCkNCiAgICAgICAgU2VsZi5TYXlUb05wYygiSGkiKSANCiAgICAgICAgd2FpdCAoMTAwMCkgDQogICAgICAgIFNlbGYuU2F5VG9OcGMoIm1vdW50YWluIHBhc3MiKSANCiAgICAgICAgd2FpdCAoMTAwMCkgDQogICAgICAgIFNlbGYuU2F5VG9OcGMoIlllcyIpDQoJCXdhaXQoMjAwMCwzMDAwKQ0KCQlXYWxrZXIuU3RhcnQoKQ0KCQkNCgkJZWxzZWlmIChsYWJlbE5hbWUgPT0gIkJhcmNvMyIpIHRoZW4NCgkJQ3JlYXR1cmUuRm9sbG93KCJMb3JlayIpDQoJCVdhbGtlci5TdG9wKCkNCiAgICAgICAgU2VsZi5TYXlUb05wYygiSGkiKSANCiAgICAgICAgd2FpdCAoMTAwMCkgDQogICAgICAgIFNlbGYuU2F5VG9OcGMoImNlbnRyZSIpIA0KICAgICAgICB3YWl0ICgxMDAwKSANCiAgICAgICAgU2VsZi5TYXlUb05wYygiWWVzIikNCgkJd2FpdCgyMDAwLDMwMDApDQoJCVdhbGtlci5TdGFydCgpDQoJCQ0KCQllbHNlaWYgKGxhYmVsTmFtZSA9PSAiQmFyY280IikgdGhlbg0KCQlDcmVhdHVyZS5Gb2xsb3coIkNoYXJsZXMiKQ0KCQlXYWxrZXIuU3RvcCgpDQogICAgICAgIFNlbGYuU2F5VG9OcGMoIkhpIikgDQogICAgICAgIHdhaXQgKDEwMDApIA0KICAgICAgICBTZWxmLlNheVRvTnBjKCJ0aGFpcyIpIA0KICAgICAgICB3YWl0ICgxMDAwKSANCiAgICAgICAgU2VsZi5TYXlUb05wYygiWWVzIikNCgkJd2FpdCgyMDAwLDMwMDApDQoJCVdhbGtlci5TdGFydCgpDQoJCQ0KCQllbHNlaWYgKGxhYmVsTmFtZSA9PSAiQmFyY281IikgdGhlbg0KCQlDcmVhdHVyZS5Gb2xsb3coIkNhcHRhaW4gQmx1ZWJlYXIiKQ0KCQlXYWxrZXIuU3RvcCgpDQogICAgICAgIFNlbGYuU2F5VG9OcGMoIkhpIikgDQogICAgICAgIHdhaXQgKDEwMDApIA0KICAgICAgICBTZWxmLlNheVRvTnBjKCJwb3J0IGhvcGUiKSANCiAgICAgICAgd2FpdCAoMTAwMCkgDQogICAgICAgIFNlbGYuU2F5VG9OcGMoIlllcyIpDQoJCXdhaXQoMjAwMCwzMDAwKQ0KCQlXYWxrZXIuU3RhcnQoKQ0KCQkNCgkJZWxzZWlmIChsYWJlbE5hbWUgPT0gIlBlZGlyVGFzayIpIHRoZW4NCgkJQ3JlYXR1cmUuRm9sbG93KCJHcml6emx5IEFkYW1zIikNCgkJV2Fsa2VyLlN0b3AoKQ0KICAgICAgICBTZWxmLlNheVRvTnBjKCJIaSIpIA0KICAgICAgICB3YWl0ICgxMDAwKSANCiAgICAgICAgU2VsZi5TYXlUb05wYygiU2VycGVudCBTcGF3bnMiKSANCiAgICAgICAgd2FpdCAoMTAwMCkgDQogICAgICAgIFNlbGYuU2F5VG9OcGMoIlllcyIpDQoJCXdhaXQoMjAwMCwzMDAwKQ0KCQlXYWxrZXIuU3RhcnQoKQ0KCQkNCgkJZWxzZWlmIChsYWJlbE5hbWUgPT0gIlBlZGlyVGFzazEiKSB0aGVuDQoJCUNyZWF0dXJlLkZvbGxvdygiR3JpenpseSBBZGFtcyIpDQoJCVdhbGtlci5TdG9wKCkNCiAgICAgICAgU2VsZi5TYXlUb05wYygiSGkiKSANCiAgICAgICAgd2FpdCAoMTAwMCkgDQogICAgICAgIFNlbGYuU2F5VG9OcGMoIk1lZHVzYWUiKSANCiAgICAgICAgd2FpdCAoMTAwMCkgDQogICAgICAgIFNlbGYuU2F5VG9OcGMoIlllcyIpDQoJCXdhaXQoMjAwMCwzMDAwKQ0KCQlXYWxrZXIuU3RhcnQoKQ0KCQkNCgkJZWxzZWlmIChsYWJlbE5hbWUgPT0gIlBlZGlyVGFzazIiKSB0aGVuDQoJCUNyZWF0dXJlLkZvbGxvdygiR3JpenpseSBBZGFtcyIpDQoJCVdhbGtlci5TdG9wKCkNCiAgICAgICAgU2VsZi5TYXlUb05wYygiSGkiKSANCiAgICAgICAgd2FpdCAoMTAwMCkgDQogICAgICAgIFNlbGYuU2F5VG9OcGMoIkJlaGVtb3RocyIpIA0KICAgICAgICB3YWl0ICgxMDAwKSANCiAgICAgICAgU2VsZi5TYXlUb05wYygiWWVzIikNCgkJd2FpdCgyMDAwLDMwMDApDQoJCVdhbGtlci5TdGFydCgpDQoJCQ0KCQllbHNlaWYgKGxhYmVsTmFtZSA9PSAiUmVwb3J0YXJUYXNrIikgdGhlbg0KCQlDcmVhdHVyZS5Gb2xsb3coIkdyaXp6bHkgQWRhbXMiKQ0KCQlXYWxrZXIuU3RvcCgpDQogICAgICAgIFNlbGYuU2F5VG9OcGMoIkhpIikgDQogICAgICAgIHdhaXQgKDEwMDApIA0KCQlTZWxmLlNheVRvTnBjKCJSZXBvcnQiKSANCiAgICAgICAgd2FpdCAoMTAwMCkgDQogICAgICAgIFNlbGYuU2F5VG9OcGMoIlNlcnBlbnQgU3Bhd25zIikgDQogICAgICAgIHdhaXQgKDEwMDApIA0KICAgICAgICBTZWxmLlNheVRvTnBjKCJZZXMiKQ0KCQl3YWl0KDIwMDAsMzAwMCkNCgkJU2VsZi5TYXlUb05wYygiIXNvZnQiKQ0KCQl3YWl0KDIwMDAsMzAwMCkNCgkJV2Fsa2VyLlN0YXJ0KCkNCgkJDQoJCWVsc2VpZiAobGFiZWxOYW1lID09ICJSZXBvcnRhclRhc2sxIikgdGhlbg0KCQlDcmVhdHVyZS5Gb2xsb3coIkdyaXp6bHkgQWRhbXMiKQ0KCQlXYWxrZXIuU3RvcCgpDQogICAgICAgIFNlbGYuU2F5VG9OcGMoIkhpIikgDQogICAgICAgIHdhaXQgKDEwMDApIA0KCQlTZWxmLlNheVRvTnBjKCJSZXBvcnQiKSANCiAgICAgICAgd2FpdCAoMTAwMCkgDQogICAgICAgIFNlbGYuU2F5VG9OcGMoIk1lZHVzYSIpIA0KICAgICAgICB3YWl0ICgxMDAwKSANCiAgICAgICAgU2VsZi5TYXlUb05wYygiWWVzIikNCgkJd2FpdCgyMDAwLDMwMDApDQoJCVNlbGYuU2F5VG9OcGMoIiFzb2Z0IikNCgkJd2FpdCgyMDAwLDMwMDApDQoJCVdhbGtlci5TdGFydCgpDQoJCQ0KCQllbHNlaWYgKGxhYmVsTmFtZSA9PSAiUmVwb3J0YXJUYXNrMiIpIHRoZW4NCgkJQ3JlYXR1cmUuRm9sbG93KCJHcml6emx5IEFkYW1zIikNCgkJV2Fsa2VyLlN0b3AoKQ0KICAgICAgICBTZWxmLlNheVRvTnBjKCJIaSIpIA0KICAgICAgICB3YWl0ICgxMDAwKSANCgkJU2VsZi5TYXlUb05wYygiUmVwb3J0IikgDQogICAgICAgIHdhaXQgKDEwMDApIA0KICAgICAgICBTZWxmLlNheVRvTnBjKCJCZWhlbW90aHMiKSANCiAgICAgICAgd2FpdCAoMTAwMCkgDQogICAgICAgIFNlbGYuU2F5VG9OcGMoIlllcyIpDQoJCXdhaXQoMjAwMCwzMDAwKQ0KCQlTZWxmLlNheVRvTnBjKCIhc29mdCIpDQoJCXdhaXQoMjAwMCwzMDAwKQ0KCQlXYWxrZXIuU3RhcnQoKQ0KCQkNCgkNCiAgICAgICAgZWxzZWlmIChsYWJlbE5hbWUgPT0gIlNhaXJEYUNhdmUiKSB0aGVuDQoJCSAgIGlmIChTZWxmLkNhcCgpIDwgQ2FwU2FpcikgdGhlbg0KCQlwcmludChbW1NFTSBDQVAsIERFU0FUSVZBTkRPIExPT1RFUiFdXSkNCgkgICAgTG9vdGVyLlN0b3AoKQ0KCQllbmQNCgkJDQoJCS0tIFJFLUFCUklSIFRPREFTIEFTIEJQcyAqKkRFTlRSTyBETyBSRVNQQVdOKioNCgkJZWxzZWlmIChsYWJlbE5hbWUgPT0gIlJlQWJyaXJCUHMiKSB0aGVuIA0KCQlwcmludChbW1JFLUFCUklORE8gQlBzLi4uXV0pDQoJCUNhdmVib3QuU3RvcCgpDQoJCVNlbGYuQ2xvc2VDb250YWluZXJzKCkNCiAgICAgICAgU2VsZi5PcGVuTWFpbkJhY2twYWNrKHRydWUpOk9wZW5DaGlsZHJlbih7SXRlbS5HZXRJRChMb290QlApLCB0cnVlfSx7R29sZEJQLCB0cnVlfSx7UG90c0JQLCB0cnVlfSx7TXVuaWNhb0JQLCB0cnVlfSkNCgkJd2FpdCg1MDAsMTAwMCkNCgkJQ2F2ZWJvdC5TdGFydCgpDQoJCQkgICAgDQoJICAgCS0tIEFCUklSIFRPREFTIEFTIEJQcw0KCQllbHNlaWYgKGxhYmVsTmFtZSA9PSAiQWJyaXJCUHMiKSB0aGVuIA0KCQlwcmludChbW0FCUklORE8gQlBzLi4uXV0pDQoJCVdhbGtlci5TdG9wKCkNCgkJU2VsZi5DbG9zZUNvbnRhaW5lcnMoKQ0KICAgICAgICBTZWxmLk9wZW5NYWluQmFja3BhY2soZmFsc2UpOk9wZW5DaGlsZHJlbih7SXRlbS5HZXRJRChMb290QlApLCB0cnVlfSwgeyB3YWl0KDgwMCl9LCB7R29sZEJQLCB0cnVlfSwgeyB3YWl0KDgwMCl9LCB7UG90c0JQLCB0cnVlfSwgeyB3YWl0KDgwMCl9LCB7U2V0QlAsIGZhbHNlfSkNCgkJd2FpdCgxNTAsMzAwKQ0KCQlXYWxrZXIuU3RhcnQoKQ0KCQkNCgkJDQoJCS0tIFJFU0VUQSBUT0RBUyBBUyBCUHMgKFBBUkEgREVQT1NJVEFSIE9TIElURU1TIERFUE9JUyBEQSBIVU5UKQ0KCQllbHNlaWYgKGxhYmVsTmFtZSA9PSAiUmVzZXRhckJQcyIpIHRoZW4NCiAgICAgICAgcHJpbnQoW1tSRVNFVEFORE8gQlBzLCBQQVJBIERFUE9TSVRBUiBUT0RPUyBPUyBJVEVNUyEuLi5dXSkNCgkJV2Fsa2VyLlN0b3AoKQ0KCQlUYXJnZXRpbmcuU3RvcCgpDQoJCXdhaXQoMjAwLDUwMCkNCgkJU2VsZi5DbG9zZUNvbnRhaW5lcnMoKQ0KCQl3YWl0KDIwMCw1MDApDQoJCVNlbGYuT3Blbk1haW5CYWNrcGFjayhNaW5pemFyQlBzKTpPcGVuQ2hpbGRyZW4oe0l0ZW0uR2V0SUQoTG9vdEJQKSwgTWluaXphckJQc30se0dvbGRCUCwgTWluaXphckJQc30pDQoJCXdhaXQoMjAwLDUwMCkNCgkJaWYgKFNlbGYuU3RhbWluYSgpIDwgOTAwKSB0aGVuIC0tIE9CUzogOTAwIG1pbnV0b3MgPSAxNSBob3JhcyEhDQoJCQlXYWxrZXIuU3RvcCgpDQoJCXByaW50KFtbVk9DRSBOw4NPIFRFTSBTVEFNSU5BLCBTQUlORE8uLi5dXSkNCgkJICAgIFNlbGYuTG9nb3V0KCkNCgkJCUNhdmVib3QuU3RvcCgpDQoJCWVsc2UNCgkJCVdhbGtlci5TdGFydCgpDQoJCXByaW50KFtbVk9DRSBBSU5EQSBURU0gU1RBTUlOQSFdXSkNCgkgICAgZW5kDQoJCQ0KCQkJCQkJDQoJLS0gREVQT1NJVEEgVE9ET1MgT1MgSVRFTlMgUVVFIFZPQ0UgUEVHT1UgTkEgSFVOVCBFIERFUE9TSVRBIE5PIERQIEUgQ0hFQ0EgU0UgVk9DRSBURU0gU1RBTUlOQS4NCgkgICAgZWxzZWlmIChsYWJlbE5hbWUgPT0gIkRlcG9zaXRhckl0ZW1zIikgdGhlbg0KCQlXYWxrZXIuU3RvcCgpDQoJCXdhaXQoMzAwLDgwMCkNCgkJU2VsZi5EZXBvc2l0SXRlbXMoezk2ODksIDB9LCB7ODAzMSwgMH0sIHsxMDI3NSwgMH0sIHs5NjkyLCAwfSwgezU4OTQsIDB9KQ0KCQl3YWl0KDIwMCw4MDApDQoJCVNlbGYuRGVwb3NpdEl0ZW1zKHsxMTQ4NSwgMH0sIHsxMjYwMCwgMH0sIHsxMDI3NiwgMH0pDQoJCWlmIChTZWxmLlN0YW1pbmEoKSA8IDg0MCkgdGhlbiAtLSBPQlM6IDg0MCBtaW51dG9zID0gMTQgaG9yYXMhIQ0KCQkJV2Fsa2VyLlN0b3AoKQ0KCQllbHNlDQoJCQlXYWxrZXIuU3RhcnQoKQ0KCWVuZC0tXV0NCgkJDQoJCS0tIFZBSSBOTyBCQU5DTyBUSVJBUiBPIFRBTlRPIERFIEdPTEQgUVVFIFBSRUNJU0EgUFJBIENPTVBSQVIgT1MgUE9UUywgUlVOQVMgRSBNVU5Jw4fDg08gUVVFIEVTVMOBIERFRklOSURPIExBIEVNIENJTUEuDQoJCWVsc2VpZiAobGFiZWxOYW1lID09ICJCYW5jbyIpIHRoZW4NCgkJcHJpbnQoW1tSRVRJUkFORE8gRElOSEVJUk8uLl1dKQ0KCQlXYWxrZXIuU3RvcCgpDQoJCXdhaXQoMzAwLDgwMCkNCgkJU2VsZi5TYXlUb05wYygiaGkiKQ0KCQl3YWl0KDMwMCw4MDApDQoJCVNlbGYuU2F5VG9OcGMoImRlcG9zaXQgYWxsIikNCgkJd2FpdCgzMDAsODAwKQ0KCQlTZWxmLlNheVRvTnBjKCJ5ZXMiKQ0KCQl3YWl0KDMwMCw4MDApDQoJCVNlbGYuV2l0aGRyYXdNb25leSgoUHJlY29NUCooUXVhbnRpZGFkZU1QLVNlbGYuSXRlbUNvdW50KE1hbmFQb3RJRCkpKSs1MCkNCgkJd2FpdCgzMDAsODAwKQ0KCQlTZWxmLldpdGhkcmF3TW9uZXkoKFByZWNvSFAqKFF1YW50aWRhZGVIUC1TZWxmLkl0ZW1Db3VudChIZWFsdGhQb3RJRCkpKSs1MCkNCgkJd2FpdCgzMDAsODAwKQ0KCQlTZWxmLldpdGhkcmF3TW9uZXkoKFByZWNvUnVuYSooUXVhbnRpZGFkZVJ1bmEtU2VsZi5JdGVtQ291bnQoUnVuYUlEKSkpKzUwKQ0KCQl3YWl0KDMwMCw4MDApDQoJCVNlbGYuV2l0aGRyYXdNb25leSgoUHJlY29NdW5pY2FvKihRdWFudGlkYWRlTXVuaWNhby1TZWxmLkl0ZW1Db3VudChJRE11bmljYW8pKSkrNTApDQoJCXdhaXQoMzAwLDgwMCkNCiAgICAgICAgU2VsZi5TYXlUb05wYygiYmFsYW5jZSIpDQoJCVdhbGtlci5TdGFydCgpDQoJCQ0KCQktLSBDT01QUkEgQVMgUlVOQXMgUVVFIEVTVEEgREVGSU5JRE8gTEEgRU0gQ0lNQS4NCgkgICAgZWxzZWlmIChsYWJlbE5hbWUgPT0gIkNvbXByYXJSdW5hcyIpIHRoZW4NCgkgICAgcHJpbnQoW1tDT01QUkFORE8gUlVOQXMuLi5dXSkNCgkJV2Fsa2VyLlN0b3AoKQ0KCQl3YWl0KDMwMCw4MDApDQoJICAgIFNlbGYuU2F5VG9OcGMoeyJIaSIsICJUcmFkZSJ9LCA4MCkNCgkgICAgd2FpdCgzMDAsODQwKQ0KCSAgICBTZWxmLlNob3BCdXlJdGVtc1VwVG8oUnVuYUlELCBRdWFudGlkYWRlUnVuYSkNCiAgICAgICAgd2FpdCgzMDAsNDAwKQkNCgkgICAgV2Fsa2VyLlN0YXJ0KCkNCgkJDQoJCQ0KCQktLSBDT01QUkEgT1MgUE9UUyBRVUUgRVNUQSBERUZJTklETyBMQSBFTSBDSU1BLg0KCSAgICBlbHNlaWYgKGxhYmVsTmFtZSA9PSAiQ29tcHJhclBvdHMiKSB0aGVuDQoJICAgIHByaW50KFtbQ09NUFJBTkRPIFBPVHMuLi5dXSkNCgkJV2Fsa2VyLlN0b3AoKQ0KCQl3YWl0KDI1MCw1MDApDQoJICAgIFNlbGYuU2F5VG9OcGMoeyJIaSIsICJWaWFsIiwgInllcyIsICJ0cmFkZSJ9LCA4MCkNCgkgICAgd2FpdCgyNTAsNTAwKQ0KCSAgICBTZWxmLlNob3BCdXlJdGVtc1VwVG8oTWFuYVBvdElELCBRdWFudGlkYWRlTVApDQoJICAgIHdhaXQoMjUwLDUwMCkNCiAgICAgICAgU2VsZi5TaG9wQnV5SXRlbXNVcFRvKEhlYWx0aFBvdElELCBRdWFudGlkYWRlSFApDQogICAgICAgIHdhaXQoMjUwLDUwMCkNCgkJV2Fsa2VyLlN0YXJ0KCkNCgkgIA0KCSAgICAtLSBDT01QUkEgT1MgRkxFWEFTIFFVRSBFU1RBIERFRklOSURPIExBIEVNIENJTUEuDQoJICAgIGVsc2VpZiAobGFiZWxOYW1lID09ICJDb21wcmFyRmxleGFzIikgdGhlbg0KCSAgICBwcmludChbW0NPTVBSQU5ETyBGTEVYQVMuLl1dKQ0KCQlXYWxrZXIuU3RvcCgpICANCiAgICAgICAgd2FpdCg1MDAsMTAwMCkNCiAgICAgICAgU2VsZi5TYXlUb05wYyh7IkhpIiwgIlRyYWRlIn0sIDgwKQ0KICAgICAgICB3YWl0KDUwMCwxMDAwKQkJDQoJICAgIFNlbGYuU2hvcEJ1eUl0ZW1zVXBUbyhJRE11bmljYW8sIFF1YW50aWRhZGVNdW5pY2FvKQ0KCSAgICB3YWl0KDUwMCwxMDAwKQ0KCSAgICBTZWxmLlNob3BCdXlJdGVtc1VwVG8oSURNdW5pY2FvLCBRdWFudGlkYWRlTXVuaWNhbykNCgkgICAgd2FpdCg1MDAsMTAwMCkNCgkgICAgV2Fsa2VyLlN0YXJ0KCkNCgkJDQoJCS0tIFZFTkRBIElURU1TDQoJCQ0KCQllbHNlaWYgKGxhYmVsTmFtZSA9PSAiVmVuZGVySXRlbSIpIHRoZW4NCgkJc2V0Qm90RW5hYmxlZChmYWxzZSkNCgkJcHJpbnQoW1tWZW5kZW5kbyBMb290cy4uLl1dKQ0KCQlTZWxmLlNheVRvTnBjKHsiSGkiLCAiVHJhZGUifSwgNjUpDQoJCXdhaXQoMzAwLDYwMCkNCgkJbG9jYWwgSVRFTVNfVE9fU0VMTCA9IHszMzkyLCA4MDUyLCAzMzgxLCA3Mzg2LCA4MTEsIDgxMiwgNzQ1NiwgMzQzNiwgMzQyOCwgMzAzMiwgMzAyOSwgMzU1NCwgMzM5MiwgMzM0MiwgMzAzMywgMzM4MSwgMzAxMCwgMzAyNywgMzAzMCwgMjgxLCA5MDU4LCAzMzkxLCAzMjgxLCA3Mzk2LCAzMzcwLCAxMDMxMywgMzM2OSwgODA3NCwgNTg5MywgNTkzMH0gDQoJCWZvciBfLCBJVEVNIGluIGlwYWlycyhJVEVNU19UT19TRUxMKSBkbw0KCQlTZWxmLlNob3BTZWxsQWxsSXRlbXMoSVRFTSkNCgkJd2FpdCgxMDAsIDMwMCkNCgkJZW5kDQoJCXNldEJvdEVuYWJsZWQodHJ1ZSkNCgkJZW5kDQoJCWVuZA0KDQoJDQoJDQoJDQogICAgDQoNCgkNCglmdW5jdGlvbiBTZWxmLkRlcG9zaXRJdGVtczIoRFBCb3gsIC4uLikNCiAgICBpZiAoI2FyZyA+IDApIHRoZW4gc2V0Qm90RW5hYmxlZChmYWxzZSkgZW5kDQogICAgbG9jYWwgZGVwb3NpdEluZm8gPSB7fQ0KIA0KICAgIGZ1bmN0aW9uIG1ha2VEZXBvc2l0SW5mbyhpbnB1dCkNCiAgICAgICAgbG9jYWwgcmV0ID0ge30NCiAgICAgICAgZm9yIGkgPSAxLCAjaW5wdXQgZG8NCiAgICAgICAgICAgIGxvY2FsIGRhdGEgPSBpbnB1dFtpXQ0KICAgICAgICAgICAgbG9jYWwgc3BvdCA9IDANCiAgICAgICAgICAgIGxvY2FsIGlkID0gMA0KICAgICAgICAgICAgaWYgKHR5cGUoZGF0YSkgPT0gJ3RhYmxlJykgdGhlbg0KICAgICAgICAgICAgICAgIHNwb3QgPSBkYXRhWzJdDQogICAgICAgICAgICAgICAgaWQgPSBJdGVtLkdldEl0ZW1JREZyb21EdWFsSW5wdXQoZGF0YVsxXSkNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICBzcG90ID0gMA0KICAgICAgICAgICAgICAgIGlkID0gSXRlbS5HZXRJdGVtSURGcm9tRHVhbElucHV0KGRhdGEpDQogICAgICAgICAgICBlbmQNCiANCiAgICAgICAgICAgIGlmIChub3QgcmV0W3Nwb3RdKSB0aGVuDQogICAgICAgICAgICAgICAgcmV0W3Nwb3RdID0ge30NCiAgICAgICAgICAgICAgICByZXRbc3BvdF0ucmVhbEluZGV4ID0gLTENCiAgICAgICAgICAgICAgICByZXRbc3BvdF0uaXRlbXMgPSB7fQ0KICAgICAgICAgICAgZW5kDQogICAgICAgICAgICB0YWJsZS5pbnNlcnQocmV0W3Nwb3RdLml0ZW1zLCBpZCkNCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiByZXQNCiAgICBlbmQNCiANCiAgICBpZiAoI2FyZyA+IDApIHRoZW4NCiAgICAgICAgZGVwb3NpdEluZm8gPSBtYWtlRGVwb3NpdEluZm8oYXJnKQ0KICAgIGVsc2UNCiAgICAgICAgbG9jYWwgX2lucHV0ID0gZ2V0RGVwb3NpdG9yTGlzdCgpDQogICAgICAgIGxvY2FsIF9yZWFsSW5wdXQgPSB7fQ0KICAgICAgICBmb3IgaSA9IDEsICNfaW5wdXQsIDIgZG8NCiAgICAgICAgICAgIGxvY2FsIHRlbXBJbnB1dCA9IHt9DQogICAgICAgICAgICB0ZW1wSW5wdXRbMV0gPSBfaW5wdXRbaV0NCiAgICAgICAgICAgIHRlbXBJbnB1dFsyXSA9IF9pbnB1dFtpKzFdDQogICAgICAgICAgICB0YWJsZS5pbnNlcnQoX3JlYWxJbnB1dCwgdGVtcElucHV0KQ0KICAgICAgICBlbmQNCiAgICAgICAgZGVwb3NpdEluZm8gPSBtYWtlRGVwb3NpdEluZm8oX3JlYWxJbnB1dCkNCiAgICBlbmQNCiANCiANCiAgICBsb2NhbCBpbmRleGVzID0gQ29udGFpbmVyLkdldEFsbCgpIC0tIGxpc3Qgb2YgY29udGFpbmVycyBvcGVuIGJlZm9yZSB3ZSBzdGFydCBkZXBvc2l0aW5nDQogICAgbG9jYWwgZGVwb3QgPSBTZWxmLk9wZW5EZXBvdCgpDQogICAgbG9jYWwgYmFkSW5kZXhlcyA9ICNpbmRleGVzID09IDANCiAgICBpZiAoYmFkSW5kZXhlcyBvciBub3QgZGVwb3QpIHRoZW4NCiAgICAgICAgaWYgKGJhZEluZGV4ZXMpIHRoZW4NCiAgICAgICAgICAgIHByaW50KCJYZW5vQm90OiBVbmFibGUgdG8gZmluZCBvcGVuIGJhY2twYWNrcyB0byBkZXBvc2l0IGZyb20uIikNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcHJpbnQoIlhlbm9Cb3Q6IERlcG9zaXRvciBmYWlsZWQgdG8gb3BlbiBkZXBvdC4iKQ0KICAgICAgICBlbmQNCiAgICAgICAgaWYgKCNhcmcgPiAwKSB0aGVuIHNldEJvdEVuYWJsZWQodHJ1ZSkgZW5kDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZA0KIA0KICAgIGRlcG90Ok1pbmltaXplKCkNCiANCiAgICBmb3IgaSA9IDAsIGRlcG90Okl0ZW1Db3VudCgpLTEgZG8NCiAgICAgICAgaWYgKGRlcG90OkdldEl0ZW1EYXRhKGkpLmlkID09IDIyNzk2ICsgRFBCb3gpIHRoZW4NCiAgICAgICAgICAgIGRlcG90OlVzZUl0ZW0oaSwgdHJ1ZSkgd2FpdChTZWxmLlBpbmcoKSAqIDIsIFNlbGYuUGluZygpICogMykNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgIA0KICAgIGZvciBzcG90LCBkYXRhIGluIHBhaXJzKGRlcG9zaXRJbmZvKSBkbyAtLSBsb29wIHRvIG9wZW4gYWxsIHRoZSBuZWVkZWQgYmFja3BhY2tzDQogICAgICAgIGxvY2FsIGN1cnJlbnRTcG90ID0gMA0KICAgICAgICBmb3IgaSA9IDAsIGRlcG90Okl0ZW1Db3VudCgpIC0gMSBkbyAtLSBzZWFyY2ggYWxsIGl0ZW1zIGluIHRoZSBkZXBvdA0KICAgICAgICAgICAgaWYgKEl0ZW0uaXNDb250YWluZXIoZGVwb3Q6R2V0SXRlbURhdGEoaSkuaWQpKSB0aGVuIC0tIG9ubHkgY29uc2lkZXIgY29udGFpbmVycw0KICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3BvdCA9PSBzcG90KSB0aGVuIC0tIHNob3VsZCB3ZSBvcGVuIHRoaXM/DQogICAgICAgICAgICAgICAgICAgIGRhdGEucmVhbEluZGV4ID0gQ29udGFpbmVyLkdldEZyZWVTbG90KCkNCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGRlcG90OlVzZUl0ZW0oc3BvdCkgfj0gMSkgZG8NCiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMTAwKQ0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgd2FpdChTZWxmLlBpbmcoKSArIDMwMCkNCiAgICAgICAgICAgICAgICAgICAgQ29udGFpbmVyLk1pbmltaXplKGRhdGEucmVhbEluZGV4KQ0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIGN1cnJlbnRTcG90ID0gY3VycmVudFNwb3QgKyAxIC0tIGluY3JlbWVudA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIGxvY2FsIHRlbXBEZXBvc2l0SW5mbyA9IHt9IC0tIHdhcm4gYWJvdXQgYW5kIGdldCByaWQgb2YgYWxsIGRlcG90IGJhY2twYWNrcyB3aGljaCBjYW50IGJlIG9wZW5lZA0KICAgIGZvciBzcG90LCBkYXRhIGluIHBhaXJzKGRlcG9zaXRJbmZvKSBkbw0KICAgICAgICBpZiAoZGF0YS5yZWFsSW5kZXggfj0gLTEpIHRoZW4NCiAgICAgICAgICAgIHRlbXBEZXBvc2l0SW5mb1tzcG90XSA9IGRhdGENCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcHJpbnQoIlhlbm9Cb3Q6IERlcG9zaXRvciBpcyBtaXNzaW5nIGEgY29udGFpbmVyIGluIGRlcG90IHNsb3QgIyIgLi4gc3BvdCAuLiAiLiBQbGVhc2UgcGxhY2UgY2FzY2FkaW5nIGNvbnRhaW5lcnMgYXQgdGhlIHJlcXVpcmVkIHNsb3QgaW4geW91ciBkZXBvdC4iKQ0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICBkZXBvc2l0SW5mbyA9IHRlbXBEZXBvc2l0SW5mbw0KICAgIGZ1bmN0aW9uIGRlcG9zaXRJdGVtKGRlcG9zaXRJbmZvLCBjb250RnJvbSwgc3BvdCkgLS13aGVuIHRoaXMgcmV0dXJucyB0cnVlLCB3ZSBza2lwIHRoZSBpdGVtIGJlY2F1c2Ugd2UgY2FudCBkZXBvc2l0IGl0DQogICAgICAgIGxvY2FsIGN1cnJlbnRJdGVtID0gY29udEZyb206R2V0SXRlbURhdGEoc3BvdCkNCiAgICAgICAgZm9yIF8sIGRhdGEgaW4gcGFpcnMoZGVwb3NpdEluZm8pIGRvIC0tIGxvb3AgdGhyb3VnaCBhbGwgb2Ygb3VyIGRlcG9zaXQgaXRlbXMNCiAgICAgICAgICAgIGlmICh0YWJsZS5jb250YWlucyhkYXRhLml0ZW1zLCBjdXJyZW50SXRlbS5pZCkpIHRoZW4gLS0gc2hvdWxkIHdlIGRlcG9zaXQgdGhpcyBzcGVjaWZpYyBvbmU/IHRyeQ0KICAgICAgICAgICAgICAgIGxvY2FsIGRlcG9zaXRCcCA9IENvbnRhaW5lci5OZXcoZGF0YS5yZWFsSW5kZXgpDQogICAgICAgICAgICAgICAgaWYgKG5vdCBkZXBvc2l0QnA6aXNPcGVuKCkpIHRoZW4gLS0gZGVzdCBjb250YWluZXIgbm90IG9wZW4sIHNraXAgdGhpcyBpdGVtDQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgaWYgKGRlcG9zaXRCcDpJdGVtQ291bnQoKSA8IGRlcG9zaXRCcDpJdGVtQ2FwYWNpdHkoKSkgdGhlbiAtLSBpZiB0aGUgYmFja3BhY2sgaXNuJ3QgZnVsbCwgbGV0J3MgdXNlIHRoZSBmaW5hbCBzbG90DQogICAgICAgICAgICAgICAgICAgIGNvbnRGcm9tOk1vdmVJdGVtVG9Db250YWluZXIoc3BvdCwgZGF0YS5yZWFsSW5kZXgsIGRlcG9zaXRCcDpJdGVtQ2FwYWNpdHkoKSAtIDEpDQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICAgICAgICAgIGVsc2VpZiAoZGVwb3NpdEJwOklEKCkgPj0gMjI3OTcgYW5kIGRlcG9zaXRCcDpJRCgpIDw9IDIyODEzKSB0aGVuDQogICAgICAgICAgICAgICAgICAgIGNvbnRGcm9tOk1vdmVJdGVtVG9Db250YWluZXIoc3BvdCwgZGF0YS5yZWFsSW5kZXgsIG1hdGgucmFuZG9tKDAsIDMpKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgICAgICAgICBlbHNlIC0tIGl0cyBmdWxsLCBsZXRzIGVpdGhlciBvcGVuIHRoZSBuZXh0IG9uZSBvciBmaW5kIGEgZ29vZCBzcG90DQogICAgICAgICAgICAgICAgICAgIGxvY2FsIHRvU3BvdCA9IC0xIC0tIGZpbmUgdGhlIGJlc3QgcGxhY2UgdG8gcHV0IGl0IGlmIHdlIGNhbiBzdGlsbCBmaXQgaXQNCiAgICAgICAgICAgICAgICAgICAgZm9yIHNwID0gMCwgZGVwb3NpdEJwOkl0ZW1Db3VudCgpIC0gMSBkbw0KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgc3BEYXRhID0gZGVwb3NpdEJwOkdldEl0ZW1EYXRhKHNwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwRGF0YS5pZCA9PSBjdXJyZW50SXRlbS5pZCBhbmQgc3BEYXRhLmNvdW50IH49IDEwMCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvU3BvdCA9IHNwDQogICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgIGlmIChub3QgSXRlbS5pc1N0YWNrYWJsZShjdXJyZW50SXRlbS5pZCkgb3IgdG9TcG90ID09IC0xKSB0aGVuIC0tIG5vIHJvb20gZm9yIHRoaXMsIG9wZW4gYSBuZXcgY29udGFpbmVyDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90IEl0ZW0uaXNDb250YWluZXIoZGVwb3NpdEJwOkdldEl0ZW1EYXRhKGRlcG9zaXRCcDpJdGVtQ2FwYWNpdHkoKSAtIDEpLmlkKSkgdGhlbiAtLSBjYW50IG9wZW4gdGhpcyBjb250YWluZXIsIGNvbnRpbnVlIHRvIHRoZSBuZXh0IGl0ZW0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90IGRhdGEud2FybmVkKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEud2FybmVkID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiWGVub0JvdDogRGVwb3NpdG9yIGlzIHVuYWJsZSB0byBmaW5kIHJvb20gaW4gZGVwb3NpdCBjb250YWluZXIgIyIgLi4gZGF0YS5yZWFsSW5kZXggLi4gIi4iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlcG9zaXRCcDpVc2VJdGVtKGRlcG9zaXRCcDpJdGVtQ2FwYWNpdHkoKSAtIDEsIHRydWUpDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgZWxzZSAtLSB0aGVyZSdzIGF0IGxlYXN0IHNvbWUgcm9vbSwgbGV0cyBmaWxsIGl0IHVwDQogICAgICAgICAgICAgICAgICAgICAgICBjb250RnJvbTpNb3ZlSXRlbVRvQ29udGFpbmVyKHNwb3QsIGRhdGEucmVhbEluZGV4LCB0b1Nwb3QpDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiB0cnVlDQogICAgZW5kDQogICAgZnVuY3Rpb24gZGVwb3NpdEl0ZW1zKGRlcG9zaXRJbmZvLCBpbmRleGVzKQ0KICAgICAgICBsb2NhbCBjb250YWluZXJzID0ge30NCiAgICAgICAgZm9yIF8sIGluZGV4IGluIGlwYWlycyhpbmRleGVzKSBkbyAtLSBhY3R1YWxseSBkZXBvc2l0IG5vdw0KICAgICAgICAgICAgbG9jYWwgY29udGFpbmVyID0gQ29udGFpbmVyLk5ldyhpbmRleCkNCiAgICAgICAgICAgIGlmIChjb250YWluZXI6aXNPcGVuKCkpIHRoZW4NCiAgICAgICAgICAgICAgICBsb2NhbCBjaGVja1Nwb3QgPSAwDQogICAgICAgICAgICAgICAgd2hpbGUgKGNoZWNrU3BvdCA8IGNvbnRhaW5lcjpJdGVtQ291bnQoKSkgZG8gLS0gbG9vcCB1bnRpbCBubyBtb3JlIGl0ZW1zIHRvIGRlcG9zaXQNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcG9zaXRJdGVtKGRlcG9zaXRJbmZvLCBjb250YWluZXIsIGNoZWNrU3BvdCkpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrU3BvdCA9IGNoZWNrU3BvdCArIDEgLS0gaWYgd2UgY2FudCBkZXBvc2l0IHRoaXMsIHNraXAgaXQNCiAgICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcnNbaW5kZXhdID09IG5pbCkgdGhlbiBjb250YWluZXJzW2luZGV4XSA9IDAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJzW2luZGV4XSA9IGNvbnRhaW5lcnNbaW5kZXhdICsgMQ0KICAgICAgICAgICAgICAgICAgICAgICAgd2FpdCgzMDAsIDcwMCkNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiBjb250YWluZXJzDQogICAgZW5kDQogICAgLS0gZGVwb3NpdCBpdGVtcywgY2FzY2FkaW5nIGludG8gbmV3IGJhY2twYWNrcw0KICAgIGxvY2FsIGNhc2NhZGVkQnBzID0ge30NCiAgICB3aGlsZSAodHJ1ZSkgZG8NCiAgICAgICAgbG9jYWwgY2FzY2FkZXMgPSBkZXBvc2l0SXRlbXMoZGVwb3NpdEluZm8sIGluZGV4ZXMpDQogICAgICAgIHdhaXQoU2VsZi5QaW5nKCkgKyAyMDApDQogDQogICAgICAgIGxvY2FsIG9wZW5lZCA9IGZhbHNlDQogICAgICAgIGZvciBpbmRleCwgY291bnQgaW4gcGFpcnMoY2FzY2FkZXMpIGRvDQogICAgICAgICAgICBpZiAoY291bnQgPiAwKSB0aGVuDQogICAgICAgICAgICAgICAgbG9jYWwgY29udCA9IENvbnRhaW5lci5OZXcoaW5kZXgpDQogICAgICAgICAgICAgICAgbG9jYWwgbGFzdEl0ZW0gPSBjb250OkdldEl0ZW1EYXRhKGNvbnQ6SXRlbUNvdW50KCkgLSAxKQ0KICAgICAgICAgICAgICAgIGlmIChJdGVtLmlzQ29udGFpbmVyKGxhc3RJdGVtLmlkKSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBpZiAoY2FzY2FkZWRCcHNbaW5kZXhdID09IG5pbCkgdGhlbiBjYXNjYWRlZEJwc1tpbmRleF0gPSAwIGVuZA0KICAgICAgICAgICAgICAgICAgICByZXBlYXQNCiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoU2VsZi5QaW5nKCkgKyA3MDApDQogICAgICAgICAgICAgICAgICAgIHVudGlsIChjb250OlVzZUl0ZW0oY29udDpJdGVtQ291bnQoKSAtIDEsIHRydWUpIH49IDApDQogICAgICAgICAgICAgICAgICAgIHdhaXQoU2VsZi5QaW5nKCkgKyA3MDApDQogICAgICAgICAgICAgICAgICAgIGNhc2NhZGVkQnBzW2luZGV4XSA9IGNhc2NhZGVkQnBzW2luZGV4XSArIDENCiAgICAgICAgICAgICAgICAgICAgb3BlbmVkID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KIA0KICAgICAgICBpZiAob3BlbmVkID09IGZhbHNlKSB0aGVuIGJyZWFrIGVuZA0KICAgIGVuZA0KICAgIC0tIGdvIGJhY2sgdG8gcGFyZW50IGJhY2twYWNrcw0KICAgIGZvciBpbmRleCwgdGltZXMgaW4gcGFpcnMoY2FzY2FkZWRCcHMpIGRvDQogICAgICAgIGZvciBpID0gMSwgdGltZXMgZG8NCiAgICAgICAgICAgIENvbnRhaW5lci5Hb0JhY2soaW5kZXgpDQogICAgICAgICAgICB3YWl0KDMwMCwgNzAwKQ0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICB3YWl0KDgwMCwgMTMwMCkNCiAgICAtLSBjbG9zZSBldmVyeXRoaW5nDQogICAgZGVwb3Q6Q2xvc2UoKQ0KICAgIHdhaXQoMzAwLCA2MDApDQogICAgZm9yIHNwb3QsIGRhdGEgaW4gcGFpcnMoZGVwb3NpdEluZm8pIGRvDQogICAgICAgIENvbnRhaW5lci5OZXcoZGF0YS5yZWFsSW5kZXgpOkNsb3NlKCkNCiAgICAgICAgd2FpdCgyMDAsIDQwMCkNCiAgICBlbmQNCiAgICB3YWl0KDE1MDApDQogICAgZGVsYXlXYWxrZXIoMjUwMCkNCiAgICBpZiAoI2FyZyA+IDApIHRoZW4gc2V0Qm90RW5hYmxlZCh0cnVlKSBlbmQNCiAgICByZXR1cm4gdHJ1ZQ0KZW5kDQogICAgCQkNCgkNCgk=]]></script>
		<script name="{zSHADOWHUD}.lua"><![CDATA[LS0gUGFyYW1ldGVycyB0byB0aGUgSFVEIHRoYXQgc2hvdWxkIG5vdCBiZSB2aXNpYmxlIHRvIHRoZSByZWd1bGFyIHVzZXIsDQotLSBidXQgdGhhdCB0aGUgZGV2ZWxvcGVyIG1pZ2h0IHdhbnQgdG8gY2hhbmdlIGluIHRoZSBmdXR1cmUNCkhpZGRlbkNvbmZpZyA9DQp7DQogICAgcGFuZWxXaWR0aCA9IDIwMCwNCiAgICB0aW1lVGljayA9IDEsDQogICAgeUluc2V0ID0gMzAsDQogICAgeERlc2NXaWR0aCA9IDE0NSwNCiAgICB4VGl0bGVJbnNldCA9IDYwLA0KICAgIHhIZWFkZXJJbnNldCA9IDgwLA0KICAgIHhJbWFnZU9mZnNldCA9IC0yNSwNCiAgICB5SW1hZ2VPZmZzZXQgPSAtNSwNCiAgICB5U3RhbmRhcmRIZWlnaHQgPSAxNSwNCiAgICBpbWFnZVNpemUgPSAxMCwNCiAgICBoZWFkZXJDb2xvciA9IHtyPTI0MCwgZz0yNDAsIGI9MjQwfSwNCiAgICBrZXlDb2xvciAgICA9IHtyPTIwMCwgZz0yMDAsIGI9MjAwfSwNCiAgICB2YWxDb2xvciAgICA9IHtyPTE1MCwgZz0xNTAsIGI9MTUwfSwNCiAgICBnb2xkQ2hhbmdlTGltaXQgPSAzMDAsDQogICAgc3RhY2thYmxlQ2hhbmdlTGltaXQgPSAxMCwNCiAgICBub25TdGFja2FibGVDaGFuZ2VMaW1pdCA9IDMsDQogICAgV2FzdGVNb2QgPSAxMDAwMCwNCn0NCg0KQ29uZmlnID0gKGZ1bmN0aW9uKCkNCiAgICBsb2NhbCBtYXJrZXRQcmljZXMgPSB7fQ0KDQogICAgbG9jYWwgZnVuY3Rpb24gZ2V0TWFya2V0UHJpY2UoaXRlbSkNCiAgICAgICAgbG9jYWwgaWQgPSBJdGVtLkdldEl0ZW1JREZyb21EdWFsSW5wdXQoaXRlbSkNCiAgICAgICAgcmV0dXJuIG1hcmtldFByaWNlc1tpZF0NCiAgICBlbmQNCg0KDQogICAgbG9jYWwgZnVuY3Rpb24gZmlsZUV4aXN0cyhuYW1lKQ0KICAgICAgICBsb2NhbCBmID0gaW8ub3BlbihuYW1lKQ0KICAgICAgICBpZiBub3QgZiB0aGVuDQogICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgZW5kDQogICAgICAgIGY6Y2xvc2UoKQ0KICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgIGVuZA0KDQoNCiAgICBsb2NhbCBjb25maWdUZXh0ID0gW1sNCi0tIEFjY3VyYXRlIG1hcmtldCBwcmljZXMgYXJlIG5lY2Vzc2FyeSBmb3IgY29ycmVjdCBwcm9maXRzIGNhbGN1bGF0aW9ucy4NCi0tIFNvbWUgZXhhbXBsZXMgaGF2ZSBiZWVuIHByb3ZpZGVkIHRvIGRlbW9uc3RyYXRlIHRoZSBmb3JtYXQsIGJ1dCB5b3Ugc2hvdWxkIHByb2JhYmx5IGVkaXQgdGhlbSB0byBmaXQgeW91ciB3b3JsZC4NCk1hcmtldFByaWNlcyA9IHsNCiAgICBbInN3b3JkIHJpbmciXSA9IDUwMCwNCiAgICBbImdyZWF0IGhlYWx0aCBwb3Rpb24iXSA9IDE1MCwNCiAgICBbImxpZmUgcmluZyJdID0gOTAwLA0KICAgIFsic3BpZGVyIHNpbGsiXSA9IDcwMDAsDQp9XV0NCiAgICBsb2NhbCBjb25maWdOYW1lID0gIi4uL0NvbmZpZ3Mvc2hBZE93SFVELmluaSINCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGxvYWRDb25maWcoKQ0KICAgICAgICAtLSBJZiB0aGUgY29uZmlnIGZpbGUgZG9lcyBub3QgZXhpc3QsIGNyZWF0ZSBpdA0KICAgICAgICBpZiBub3QgZmlsZUV4aXN0cyhjb25maWdOYW1lKSB0aGVuDQogICAgICAgICAgICBsb2NhbCBmID0gaW8ub3Blbihjb25maWdOYW1lLCAidysiKQ0KICAgICAgICAgICAgaWYgZiB0aGVuDQogICAgICAgICAgICAgICAgZjp3cml0ZShjb25maWdUZXh0KQ0KICAgICAgICAgICAgICAgIGY6Y2xvc2UoKQ0KICAgICAgICAgICAgICAgIGxvY2FsIG5vQ29uZmlnTXNnID0gIlRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgeW91J3JlIHVzaW5nIHRoaXMgSFVELiBBIGNvbmZpZyBmaWxlIGhhcyBiZWVuIGNyZWF0ZWQgZm9yIHlvdSwgdXNlIGl0IHRvIGNoYW5nZSBtYXJrZXQgcHJpY2VzIG9mIGl0ZW1zIHRoYXQgeW91IHdvbid0IHNlbGwgdG8gbnBjcy4iDQogICAgICAgICAgICAgICAgcHJpbnQobm9Db25maWdNc2cpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQoNCiAgICAgICAgZG9maWxlKGNvbmZpZ05hbWUpDQoNCiAgICAgICAgZm9yIG5hbWUsIHByaWNlIGluIHBhaXJzKE1hcmtldFByaWNlcykgZG8NCiAgICAgICAgICAgIG1hcmtldFByaWNlc1tJdGVtLkdldElEKG5hbWUpXSA9IHByaWNlDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgcmV0dXJuDQogICAgew0KICAgICAgICBnZXRNYXJrZXRQcmljZSA9IGdldE1hcmtldFByaWNlLA0KICAgICAgICBsb2FkQ29uZmlnID0gbG9hZENvbmZpZywNCiAgICB9DQplbmQpKCkNCg0KRGF0YSA9IChmdW5jdGlvbigpIA0KICAgIGxvY2FsIHdvcm5Tb2Z0SUQgPSA2NTMwDQogICAgbG9jYWwgYWN0aXZlU29mdElEID0gMzU0OQ0KICAgIGxvY2FsIHBhc3NpdmVTb2Z0SUQgPSA2NTI5DQogICAgICAgIA0KICAgIGxvY2FsIGR1cmF0aW9ucyA9IA0KICAgIHsNCiAgICAgICAgW0l0ZW0uR2V0SUQoIlN3b3JkIFJpbmciKV0gPSAzMCAqIDYwLA0KICAgICAgICBbSXRlbS5HZXRJRCgiQ2x1YiBSaW5nIildID0gMzAgKiA2MCwNCiAgICAgICAgW0l0ZW0uR2V0SUQoIkF4ZSBSaW5nIildID0gMzAgKiA2MCwNCiAgICAgICAgW0l0ZW0uR2V0SUQoIkVuZXJneSBSaW5nIildID0gMTAgKiA2MCwNCiAgICAgICAgW0l0ZW0uR2V0SUQoIlN0ZWFsdGggUmluZyIpXSA9IDEwICogNjAsDQogICAgICAgIFtJdGVtLkdldElEKCJMaWZlIFJpbmciKV0gPSAyMCAqIDYwLA0KICAgICAgICBbSXRlbS5HZXRJRCgiUmluZyBvZiBIZWFsaW5nIildID0gNy41ICogNjAsDQogICAgICAgIFtJdGVtLkdldElEKCJQcmlzbWF0aWMgUmluZyIpXSA9IDYwICogNjAsDQogICAgICAgIFtJdGVtLkdldElEKCJUaW1lIFJpbmciKV0gPSAxMCAqIDYwLA0KICAgIH0NCg0KICAgIC0tIFRyYW5zbGF0aW9uIG1hcCBmb3IgZ2V0dGluZyB0aGUgcGFzc2l2ZSBpZCBmcm9tIGFuIGFjdGl2ZSBpZA0KICAgIGxvY2FsIHBhc3NpdmVJRHMgPSB7W2FjdGl2ZVNvZnRJRF0gPSBwYXNzaXZlU29mdElELCBbd29yblNvZnRJRF0gPSBwYXNzaXZlU29mdElEfQ0KICAgIGZvciBwYXNzaXZlLCBfIGluIHBhaXJzKGR1cmF0aW9ucykgZG8NCiAgICAgICAgcGFzc2l2ZUlEc1tJdGVtLkdldFJpbmdBY3RpdmVJRChwYXNzaXZlKV0gPSBwYXNzaXZlDQogICAgZW5kDQoNCiAgICAtLSBBZGQgdGhlIHNvZnQgYm9vdHMgZHVyYXRpb24gYWZ0ZXIgZG9pbmcgdGhlIHJpbmcgdHJhbnNsYXRpb25zDQogICAgZHVyYXRpb25zW3Bhc3NpdmVTb2Z0SURdID0gNCAqIDYwICogNjANCg0KDQogICAgLS0gSWYgd2UgbG9vdCBvbmUgb2YgdGhlc2UgaXRlbXMgc29tZXRoaW5nIGZpc2h5IGlzIGdvaW5nIG9uLCBzbyBpbnZhbGlkYXRlIHRoZSB3aG9sZSBjb3VudC4NCiAgICBsb2NhbCBpbnZhbGlkYXRpb25JRHMgPSANCiAgICB7DQogICAgICAgIEl0ZW0uR2V0SUQoInNob3ZlbCIpLA0KICAgICAgICBJdGVtLkdldElEKCJsaWdodCBzaG92ZWwiKSwNCiAgICAgICAgSXRlbS5HZXRJRCgicm9wZSIpLA0KICAgICAgICBJdGVtLkdldElEKCJlbHZlbmhhaXIgcm9wZSIpLA0KICAgICAgICBJdGVtLkdldElEKCJmaXNoaW5nIHJvZCIpLA0KICAgICAgICBTb2Z0SUQsDQogICAgICAgIFdvcm5Tb2Z0SUQsDQogICAgICAgIFBhc3NpdmVTb2Z0SUQNCiAgICB9DQoNCiAgICAtLSBUaGVzZSBhcmUgaXRlbXMgd2hvc2UgY291bnQgbWF5IGRlY3JlYXNlLCBhbmQgc2hvdWxkIHRoZW4gYmUgY291bnRlZCBhcyB3YXN0ZQ0KICAgIGxvY2FsIHN1cHBsaWVzID0gDQogICAgew0KICAgICAgICAtLSBBcnJvd3MNCiAgICAgICAgW0l0ZW0uR2V0SUQoImFycm93IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoImJ1cnN0IGFycm93IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoImNyeXN0YWxsaW5lIGFycm93IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoImVhcnRoIGFycm93IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoImVudmVub21lZCBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJmbGFtaW5nIGFycm93IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoImZsYXNoIGFycm93IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoIm9ueXggYXJyb3ciKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgicG9pc29uIGFycm93IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInNoaXZlciBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJzaW1wbGUgYXJyb3ciKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgic25pcGVyIGFycm93IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInRhcnNhbCBhcnJvdyIpXSA9IHRydWUsDQoNCiAgICAgICAgLS0gQm9sdHMNCiAgICAgICAgW0l0ZW0uR2V0SUQoImJvbHQiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgiZHJpbGwgYm9sdCIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJpbmZlcm5hbCBib2x0IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInBpZXJjaW5nIGJvbHQiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgicG93ZXIgYm9sdCIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJwcmlzbWF0aWMgYm9sdCIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJ2b3J0ZXggYm9sdCIpXSA9IHRydWUsDQoNCiAgICAgICAgLS0gVGhyb3dpbmcgd2VhcG9ucw0KICAgICAgICBbSXRlbS5HZXRJRCgiZW5jaGFudGVkIHNwZWFyIildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoImdsb290aCBzcGVhciIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJodW50aW5nIHNwZWFyIildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoIm1lYW4gcGFsYWRpbiBzcGVhciIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJyb3lhbCBzcGVhciIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJzcGVhciIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJhc3Nhc3NpbiBzdGFyIildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInNub3diYWxsIildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInNtYWxsIHN0b25lIildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInRocm93aW5nIGtuaWZlIildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInRocm93aW5nIHN0YXIiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgidmlwZXIgc3RhciIpXSA9IHRydWUsDQoNCiAgICAgICAgLS0gQW11bGV0cw0KICAgICAgICBbSXRlbS5HZXRJRCgiZ2lsbCBuZWNrbGFjZSIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJwcmlzbWF0aWMgbmVja2xhY2UiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgicHJvdGVjdGlvbiBhbXVsZXQiKV0gPSB0cnVlLA0KDQogICAgICAgIC0tIE1pc2MNCiAgICAgICAgW0l0ZW0uR2V0SUQoInNjYXJhYiBjb2luIildID0gdHJ1ZSwNCiAgICB9DQoNCiAgICBsb2NhbCBzdXBwbHlQYXR0ZXJucyA9IA0KICAgIHsNCiAgICAgICAgInJ1bmUiLA0KICAgICAgICAibWFuYSIsDQogICAgICAgICJoZWFsdGgiLA0KICAgICAgICAic3Bpcml0IHBvdGlvbiIsDQogICAgfQ0KDQogICAgbG9jYWwgZnVuY3Rpb24gaXNTdXBwbHkoaXRlbSkNCiAgICAgICAgbG9jYWwgbmFtZSA9IEl0ZW0uR2V0TmFtZShpdGVtKTpsb3dlcigpDQogICAgICAgIGxvY2FsIG1hdGNoZXNTdXBwbHlQYXR0ZXJuID0gZmFsc2UNCiAgICAgICAgZm9yIF8sIHBhdHRlcm4gaW4gaXBhaXJzKHN1cHBseVBhdHRlcm5zKSBkbw0KICAgICAgICAgICAgbWF0Y2hlc1N1cHBseVBhdHRlcm4gPSBtYXRjaGVzU3VwcGx5UGF0dGVybiBvciBuYW1lOm1hdGNoKHBhdHRlcm4pDQogICAgICAgIGVuZA0KDQogICAgICAgIGxvY2FsIGlkID0gSXRlbS5HZXRJdGVtSURGcm9tRHVhbElucHV0KGl0ZW0pDQogICAgICAgIHJldHVybiBtYXRjaGVzU3VwcGx5UGF0dGVybiBvciBzdXBwbGllc1tpZF0NCiAgICBlbmQNCg0KDQogICAgZnVuY3Rpb24gZ2V0Q29zdChpZCkNCiAgICAgICAgbG9jYWwgc2hvcENvc3QgPSBJdGVtLkdldENvc3QoaWQpDQogICAgICAgIHJldHVybiBpZCA9PSBwYXNzaXZlU29mdElEIGFuZCAxMDAwMCBvciAoc2hvcENvc3QgPT0gMCBhbmQgQ29uZmlnLmdldE1hcmtldFByaWNlKGlkKSBvciBzaG9wQ29zdCkNCiAgICBlbmQNCg0KICAgIGZ1bmN0aW9uIGdldFZhbHVlKGlkKQ0KICAgICAgICByZXR1cm4gQ29uZmlnLmdldE1hcmtldFByaWNlKGlkKSBvciAoaXNTdXBwbHkoaWQpIGFuZCBnZXRDb3N0KGlkKSkgb3IgSXRlbS5HZXRWYWx1ZShpZCkNCiAgICBlbmQNCg0KDQogICAgcmV0dXJuIA0KICAgIHsNCiAgICAgICAgd29yblNvZnRJRCA9IHdvcm5Tb2Z0SUQsDQogICAgICAgIGFjdGl2ZVNvZnRJRCA9IGFjdGl2ZVNvZnRJRCwNCiAgICAgICAgcGFzc2l2ZVNvZnRJRCA9IHBhc3NpdmVTb2Z0SUQsDQoNCiAgICAgICAgZHVyYXRpb25zID0gZHVyYXRpb25zLA0KICAgICAgICBwYXNzaXZlSURzID0gcGFzc2l2ZUlEcywNCiAgICAgICAgaW52YWxpZGF0aW9uSURzID0gaW52YWxpZGF0aW9uSURzLA0KDQogICAgICAgIGlzU3VwcGx5ID0gaXNTdXBwbHksDQogICAgICAgIGdldENvc3QgPSBnZXRDb3N0LA0KICAgICAgICBnZXRWYWx1ZSA9IGdldFZhbHVlLA0KICAgIH0NCmVuZCkoKQ0KDQpIVUREYXRhID0gKGZ1bmN0aW9uKCkNCiAgICAtLSBJbml0aWFsIGRhdGENCiAgICBsb2NhbCBzdGFydFRpbWUgPSBvcy50aW1lKCkNCiAgICBsb2NhbCBzdGFydEV4cCA9IFNlbGYuRXhwZXJpZW5jZSgpDQogICAgbG9jYWwgc3RhcnRTdGFtaW5hID0gU2VsZi5TdGFtaW5hKCkNCg0KICAgIC0tIFRoZSBkYXRhIHRoYXQgd2lsbCBiZSB2aXNpYmxlIHRvIHRoZSByZXN0IG9mIHRoZSBIVUQNCiAgICBsb2NhbCBkYXRhID0geyBjb3VudHNBcmVWYWxpZCA9IHRydWUsIGdlbmVyYWwgPSB7IGxhc3RUaWNrID0gb3MudGltZSgpIH0gfQ0KICAgIC0tIFRoZSBmdW5jdGlvbnMgdGhhdCB1cGRhdGUgdGhlIGRhdGEsIGluIHRoZSBvcmRlciB0aGV5IHdpbGwgYmUgY2FsbGVkLg0KICAgIGxvY2FsIHVwZGF0ZUZ1bmN0aW9ucyA9IHt9DQoNCiAgICAtLSBIZWxwZXIgZnVuY3Rpb25zIGFuZCB0aGVpciBhY2N1bXVsYXRpdmUgZGF0YQ0KICAgIGRhdGEuZ2VuZXJhbC5iYWxhbmNlID0gMA0KICAgIE5wY01lc3NhZ2VQcm94eS5PblJlY2VpdmUoIkdldHMgQmFuayBCYWxhbmNlIiwgZnVuY3Rpb24ocHJveHksIG5wY05hbWUsIG1lc3NhZ2UpDQogICAgICAgIGxvY2FsIGJhbGFuY2UgPSBzdHJpbmcubWF0Y2gobWVzc2FnZSwgIllvdXIgYWNjb3VudCBiYWxhbmNlIGlzICguKykgZ29sZC4iKQ0KICAgICAgICBpZiBiYWxhbmNlIGFuZCB0b251bWJlcihiYWxhbmNlKSB0aGVuDQogICAgICAgICAgICBkYXRhLmdlbmVyYWwuYmFsYW5jZSA9IHRvbnVtYmVyKGJhbGFuY2UpDQogICAgICAgIGVuZA0KICAgIGVuZCkNCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGlzRW1wdHlGbGFzayhpZCkNCiAgICAgICAgcmV0dXJuIHRhYmxlLmZpbmQoezI4MywgMjg0LCAyODV9LCBpZCkNCiAgICBlbmQNCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGlnbm9yZUl0ZW0oaWQpDQogICAgICAgIHJldHVybiBpZCA9PSAwIG9yIGlzRW1wdHlGbGFzayhpZCkgb3IgSXRlbS5pc0NvbnRhaW5lcihpZCkNCiAgICBlbmQNCiAgICANCiAgICBsb2NhbCBjb3Jwc2VOYW1lcyA9IHsidGhlIiwgImRlbW9uaWMiLCAiZGVhZCIsICJzbGFpbiIsICJkaXNzb2x2ZWQiLCAicmVtYWlucyIsICJlbGVtZW50YWwiLCAic3BsaXQifQ0KICAgIGxvY2FsIGZ1bmN0aW9uIGlzQ29ycHNlKGNvbnQpDQogICAgICAgIGlmIEl0ZW0uaXNDb3Jwc2UoY29udDpJRCgpKSB0aGVuIHJldHVybiB0cnVlIGVuZA0KICAgICAgICBsb2NhbCBuYW1lID0gY29udDpOYW1lKCk6bG93ZXIoKQ0KICAgICAgICBmb3IgXywgQ1BhcnROYW1lIGluIGlwYWlycyhjb3Jwc2VOYW1lcykgZG8NCiAgICAgICAgICAgIGlmIG5hbWU6ZmluZChDUGFydE5hbWUpIHRoZW4NCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICBlbmQNCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGNvdW50SXRlbXMoKQ0KICAgICAgICBuZXdDb3VudHMgPSB7fQ0KICAgICAgICANCiAgICAgICAgdmVyeVVuc2FmZUZ1bmN0aW9uRW50ZXJDcml0aWNhbE1vZGUoKQ0KICAgICAgICANCiAgICAgICAgLS0gQ291bnQgZXF1aXBwZWQNCiAgICAgICAgbG9jYWwgc2xvdHMgPSB7U2VsZi5IZWFkLCBTZWxmLkFybW9yLCBTZWxmLkxlZ3MsIFNlbGYuQW11bGV0LCBTZWxmLkZlZXQsIFNlbGYuUmluZywgU2VsZi5XZWFwb24sIFNlbGYuU2hpZWxkLCBTZWxmLkFtbW99DQogICAgICAgIGZvciBpID0gMSwgI3Nsb3RzIGRvDQogICAgICAgICAgICBsb2NhbCBzbG90ID0gc2xvdHNbaV0oKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiBub3QgaWdub3JlSXRlbShzbG90LmlkKSB0aGVuDQogICAgICAgICAgICAgICAgbmV3Q291bnRzW3Nsb3QuaWRdID0gKG5ld0NvdW50c1tzbG90LmlkXSBvciAwKSArICBtYXRoLm1heChzbG90LmNvdW50LCAxKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICANCiAgICAgICAgLS0gQ291bnQgaW4gYmFja3BhY2tzDQogICAgICAgIGZvciBpID0gMCwgMTYgZG8NCiAgICAgICAgICAgIGxvY2FsIGNvbnQgPSBDb250YWluZXIoaSkNCiAgICAgICAgICAgIGlmIGNvbnQ6aXNPcGVuKCkgYW5kIG5vdCBpc0NvcnBzZShjb250KSBhbmQgY29udDpOYW1lKCkgfj0gIkJyb3dzZSBGaWVsZCIgdGhlbg0KICAgICAgICAgICAgICAgIGZvciBzcG90ID0gMCwgY29udDpJdGVtQ291bnQoKSAtIDEgZG8NCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgaXRlbSA9IGNvbnQ6R2V0SXRlbURhdGEoc3BvdCkNCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGlnbm9yZUl0ZW0oaXRlbS5pZCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q291bnRzW2l0ZW0uaWRdID0gKG5ld0NvdW50c1tpdGVtLmlkXSBvciAwKSArIGl0ZW0uY291bnQNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQoNCiAgICAgICAgdmVyeVVuc2FmZUZ1bmN0aW9uRXhpdENyaXRpY2FsTW9kZSgpDQogICAgICAgIA0KICAgICAgICAtLSBIYW5kbGUgY2hhbmdpbmcgcmluZyBhbmQgZmVldCBpZHMNCiAgICAgICAgZm9yIGFjdGl2ZUlELCBwYXNzaXZlSUQgaW4gcGFpcnMoRGF0YS5wYXNzaXZlSURzKSBkbw0KICAgICAgICAgICAgbmV3Q291bnRzW3Bhc3NpdmVJRF0gPSAobmV3Q291bnRzW3Bhc3NpdmVJRF0gb3IgMCkgKyAobmV3Q291bnRzW2FjdGl2ZUlEXSBvciAwKQ0KICAgICAgICAgICAgbmV3Q291bnRzW2FjdGl2ZUlEXSA9IG5pbA0KICAgICAgICBlbmQNCg0KICAgICAgICAtLSBIYW5kbGUgd29ybiBzb2Z0IGJvb3RzDQogICAgICAgIG5ld0NvdW50c1tEYXRhLnBhc3NpdmVTb2Z0SURdID0gKG5ld0NvdW50c1tEYXRhLnBhc3NpdmVTb2Z0SURdIG9yIDApICsgKG5ld0NvdW50c1tEYXRhLndvcm5Tb2Z0SURdIG9yIDApDQoNCiAgICAgICAgcmV0dXJuIG5ld0NvdW50cw0KICAgIGVuZA0KDQogICAgbG9jYWwgZnVuY3Rpb24gY2hhbmdlSXNXaXRoaW5MaW1pdHMoaWQsIGNoYW5nZSkNCiAgICAgICAgaWYgaWQgPT0gSXRlbS5HZXRJRCgiZ29sZCBjb2luIikgdGhlbg0KICAgICAgICAgICAgcmV0dXJuIGNoYW5nZSA8IEhpZGRlbkNvbmZpZy5nb2xkQ2hhbmdlTGltaXQNCiAgICAgICAgZWxzZWlmIEl0ZW0uaXNTdGFja2FibGUoaWQpIHRoZW4NCiAgICAgICAgICAgIHJldHVybiBjaGFuZ2UgPCBIaWRkZW5Db25maWcuc3RhY2thYmxlQ2hhbmdlTGltaXQNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcmV0dXJuIGNoYW5nZSA8IEhpZGRlbkNvbmZpZy5ub25TdGFja2FibGVDaGFuZ2VMaW1pdA0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICANCiAgICAtLSBXZSBvbmx5IHdhbnQgdG8gdXBkYXRlIHRoZSBkaWZmIGlmIGl0IGNvbnRhaW5zIHJlYXNvbmFibGUgdmFsdWVzDQogICAgbG9jYWwgdG90YWxOZXdJdGVtTGltaXQgPSAoU2VsZi5MZXZlbCgpIDwgMTAwIGFuZCA1IG9yIChTZWxmLkxldmVsKCkgPCAyMDAgYW5kIDcgb3IgOSkpDQogICAgbG9jYWwgbGFzdEJwQ291bnQgPSAwDQogICAgbG9jYWwgZnVuY3Rpb24gdmFsaWRhdGVEaWZmKGRpZmYsIG5ldykNCiAgICAgICAgbG9jYWwgdG90YWxOZXdDb3VudCA9IDANCiAgICAgICAgLS0gSWYgd2UgZGlzY292ZXJlZCB0b28gbWFueSBvZiBhbnkgb25lIGl0ZW0gd2UgaW52YWxpZGF0ZSB0aGUgZGlmZg0KICAgICAgICBmb3IgaWQsIGNvdW50IGluIHBhaXJzKGRpZmYpIGRvDQogICAgICAgICAgICBpZiAoY291bnQgPiAwIGFuZCBub3QgY2hhbmdlSXNXaXRoaW5MaW1pdHMoaWQsIGNvdW50KSkgb3IgDQogICAgICAgICAgICAgICAoY291bnQgPCAwIGFuZCBEYXRhLmlzU3VwcGx5KGlkKSBhbmQgbm90IGNoYW5nZUlzV2l0aGluTGltaXRzKGlkLCAtMSpjb3VudCkpIG9yIA0KICAgICAgICAgICAgICAgKGNvdW50IDwgMCBhbmQgbm90IERhdGEuaXNTdXBwbHkoaWQpIGFuZCBuZXdbaWRdIGFuZCBub3QgY2hhbmdlSXNXaXRoaW5MaW1pdHMoaWQsIG5ld1tpZF0pKSB0aGVuDQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGlmIGNvdW50ID4gMCB0aGVuDQogICAgICAgICAgICAgICAgdG90YWxOZXdDb3VudCA9IHRvdGFsTmV3Q291bnQgKyAoSXRlbS5pc1N0YWNrYWJsZShpZCkgYW5kIDEgb3IgY291bnQpDQogICAgICAgICAgICBlbHNlaWYgY291bnQgPCAwIGFuZCBub3QgRGF0YS5pc1N1cHBseShpZCkgdGhlbg0KICAgICAgICAgICAgICAgIHRvdGFsTmV3Q291bnQgPSB0b3RhbE5ld0NvdW50ICsgKEl0ZW0uaXNTdGFja2FibGUoaWQpIGFuZCAxIG9yIG5ld1tpZF0gb3IgMCkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgLS0gSWYgd2UgZGlzY292ZXJlZCB0b28gbWFueSBuZXcgaXRlbXMgaW4gdG90YWwgd2UgaW52YWxpZGF0ZSB0aGUgZGlmZg0KICAgICAgICBpZiB0b3RhbE5ld0NvdW50ID4gdG90YWxOZXdJdGVtTGltaXQgdGhlbg0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgIGVuZA0KICAgICAgICAtLSBJZiB3ZSBkaXNjb3ZlcmVkIGEgbmV3IHRvb2wgd2UgaW52YWxpZGF0ZSB0aGUgZGlmZg0KICAgICAgICBmb3IgXywgaWQgaW4gaXBhaXJzKERhdGEuaW52YWxpZGF0aW9uSURzKSBkbw0KICAgICAgICAgICAgbG9jYWwgY2hhbmdlID0gZGlmZltpZF0NCiAgICAgICAgICAgIGlmIGNoYW5nZSBhbmQgY2hhbmdlIH49IDAgdGhlbg0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KDQogICAgICAgIGxvY2FsIGdvbGRJRCA9IEl0ZW0uR2V0SUQoImdvbGQgY29pbiIpDQogICAgICAgIGxvY2FsIHBsYXRJRCA9IEl0ZW0uR2V0SUQoInBsYXRpbnVtIGNvaW4iKQ0KICAgICAgICAtLSBJZiB3ZSdyZSBvbiBhbiBPVCBhbmQgbG9zdCBnb2xkIG9yIHBsYXRzIHdlIGludmFsaWRhdGUgdGhlIGRpZmYsIGJlY2F1c2Ugb2YgZ29sZCBjaGFuZ2luZw0KICAgICAgICBpZiBub3QgWGVub0JvdC5Jc0luUmVhbFRpYmlhKCkgYW5kIA0KICAgICAgICAgICAoKGRpZmZbZ29sZElEXSBhbmQgZGlmZltnb2xkSURdIDwgMCkgb3INCiAgICAgICAgICAgIChkaWZmW3BsYXRJRF0gYW5kIGRpZmZbcGxhdElEXSA8IDApKSB0aGVuDQogICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgZW5kDQoNCiAgICAgICAgLS0gSWYgdGhlIG51bWJlciBvZiBvcGVuIGJhY2twYWNrcyBoYXZlIGNoYW5nZWQgd2UgaW52YWxpZGF0ZQ0KICAgICAgICBsb2NhbCBicENvdW50ID0gMA0KICAgICAgICBmb3IgaSA9IDAsIDE2IGRvDQogICAgICAgICAgICBsb2NhbCBjb250ID0gQ29udGFpbmVyKGkpDQogICAgICAgICAgICBpZiBjb250OmlzT3BlbigpIGFuZCBub3QgaXNDb3Jwc2UoY29udCkgYW5kIGNvbnQ6TmFtZSgpIH49ICJCcm93c2UgRmllbGQiIHRoZW4NCiAgICAgICAgICAgICAgICBicENvdW50ID0gYnBDb3VudCArIDENCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgaWYgYnBDb3VudCB+PSBsYXN0QnBDb3VudCB0aGVuDQogICAgICAgICAgICBsYXN0QnBDb3VudCA9IGJwQ291bnQNCiAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICBlbmQNCg0KICAgICAgICAtLSBPdGhlcndpc2Ugd2UncmUgdmFsaWQNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICBlbmQNCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGlkT25TY3JlZW4oaWRzKQ0KICAgICAgICBsb2NhbCBteVBvcyA9IFNlbGYuUG9zaXRpb24oKQ0KICAgICAgICBmb3IgZHggPSAtNywgNyBkbw0KICAgICAgICAgICAgZm9yIGR5ID0gLTUsIDUgZG8NCiAgICAgICAgICAgICAgICBsb2NhbCBwb3MgPSB7eCA9IG15UG9zLnggKyBkeCwgeSA9IG15UG9zLnkgKyBkeSwgeiA9IG15UG9zLnp9DQogICAgICAgICAgICAgICAgaWYgdGFibGUuZmluZChpZHMsIE1hcC5HZXRUb3BVc2VJdGVtKHBvcy54LCBwb3MueSwgcG9zLnopLmlkKSB0aGVuDQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZCANCiAgICANCiAgICBsb2NhbCBmdW5jdGlvbiB0cmFpbmVyT25TY3JlZW4oKQ0KICAgICAgICByZXR1cm4gaWRPblNjcmVlbih7MTYyMDEsIDE2MTk4LCAxNjIwMiwgMTYxOTksIDE2MjAwfSkNCiAgICBlbmQNCiAgICANCiAgICBsb2NhbCBmdW5jdGlvbiBkZXBvdE9uU2NyZWVuKCkNCiAgICAgICAgcmV0dXJuIGlkT25TY3JlZW4oezM0OTcsIDM0OTgsIDM0OTksIDM1MDB9KQ0KICAgIGVuZA0KICAgIA0KICAgIGxvY2FsIGZ1bmN0aW9uIGhhc0Nsb3NlTlBDKCkNCiAgICAgICAgZm9yIF8sIGMgaW4gQ3JlYXR1cmUuaU5wY3MoKSBkbw0KICAgICAgICAgICAgaWYgYzppc09uU2NyZWVuKCkgdGhlbg0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZA0KICAgIA0KICAgIGxvY2FsIGxhc3RUYWxrZWRUb05QQyA9IDANCiAgICBOcGNNZXNzYWdlUHJveHk6T25SZWNlaXZlKCJTcG9rZSBXaXRoIE5QQyBEZXRlY3RvciIsIGZ1bmN0aW9uKF8pDQogICAgICAgIGxhc3RUYWxrZWRUb05QQyA9IG9zLnRpbWUoKQ0KICAgIGVuZCkNCiAgICANCiAgICAtLSBXZSBkb24ndCB3YW50IHRvIHVwZGF0ZSB0aGUgZGlmZiB3aGlsZSBkb2luZyBjZXJ0YWluIHRoaW5ncw0KICAgIC0tIHRoYXQgYXJlIG5vcm1hbGx5IGRvbmUgd2hlbiByZWZpbGxpbmcNCiAgICBsb2NhbCBmdW5jdGlvbiBpc1JlZmlsbGluZygpDQogICAgICAgIHJldHVybiAoWGVub0JvdC5Jc0luUmVhbFRpYmlhKCkgYW5kIGhhc0Nsb3NlTlBDKCkpIG9yIA0KICAgICAgICAgICAgICAgb3MuZGlmZnRpbWUob3MudGltZSgpLCBsYXN0VGFsa2VkVG9OUEMpIDwgMTAgb3IgDQogICAgICAgICAgICAgICBkZXBvdE9uU2NyZWVuKCkgb3IgDQogICAgICAgICAgICAgICB0cmFpbmVyT25TY3JlZW4oKQ0KICAgIGVuZCANCg0KICAgIGRhdGEuaXRlbUNvdW50cyA9IGNvdW50SXRlbXMoKQ0KICAgIGxvY2FsIGZ1bmN0aW9uIHVwZGF0ZURpZmZzKCkNCiAgICAgICAgbG9jYWwgbmV3Q291bnRzID0gY291bnRJdGVtcygpDQoNCiAgICAgICAgLS0gQ2FsY3VsYXRlIHRoZSBkaWZmDQogICAgICAgIGxvY2FsIGRpZmYgPSB7fSAgICANCiAgICAgICAgZm9yIGlkLCBjb3VudCBpbiBwYWlycyhuZXdDb3VudHMpIGRvDQogICAgICAgICAgICBkaWZmW2lkXSA9IGNvdW50DQogICAgICAgIGVuZA0KICAgICAgICANCiAgICAgICAgZm9yIGlkLCBjb3VudCBpbiBwYWlycyhkYXRhLml0ZW1Db3VudHMpIGRvDQogICAgICAgICAgICBkaWZmW2lkXSA9IChkaWZmW2lkXSBvciAwKSAtIGNvdW50DQogICAgICAgIGVuZA0KICAgICAgICANCiAgICAgICAgZm9yIGlkLCBjb3VudCBpbiBwYWlycyhkaWZmKSBkbw0KICAgICAgICAgICAgaWYgZGlmZltpZF0gPT0gMCB0aGVuIA0KICAgICAgICAgICAgICAgIGRpZmZbaWRdID0gbmlsIA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KDQogICAgICAgIC0tIFN0b3JlIHRoZSBuZXcgY291bnRzDQogICAgICAgIGRhdGEuaXRlbUNvdW50cyA9IG5ld0NvdW50cw0KDQogICAgICAgIC0tIFZhbGlkYXRlIHRoZSBkaWZmDQogICAgICAgIGRhdGEuY291bnRzQXJlVmFsaWQgPSB2YWxpZGF0ZURpZmYoZGlmZiwgZGF0YS5pdGVtQ291bnRzKSBhbmQgKG5vdCBpc1JlZmlsbGluZygpKQ0KDQogICAgICAgIC0tIEZpbHRlciB0aGUgZGlmZiBpbnRvIGxvb3QgYW5kIHdhc3RlDQogICAgICAgIGxvY2FsIG5ld0xvb3QgPSB7fQ0KICAgICAgICBsb2NhbCBuZXdXYXN0ZSA9IHt9DQogICAgICAgIGZvciBpZCwgY291bnQgaW4gcGFpcnMoZGlmZikgZG8NCiAgICAgICAgICAgIGlmIGNvdW50ID4gMCB0aGVuIA0KICAgICAgICAgICAgICAgIG5ld0xvb3RbaWRdID0gY291bnQNCiAgICAgICAgICAgIC0tIERvIG5vdCBhY2NlcHQgY291bnQgYmFzZWQgd2FzdGUgb2YgYWN0aXZlIGl0ZW1zDQogICAgICAgICAgICBlbHNlaWYgRGF0YS5pc1N1cHBseShpZCkgdGhlbg0KICAgICAgICAgICAgICAgIG5ld1dhc3RlW2lkXSA9IDAtY291bnQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCg0KICAgICAgICAtLSBDaGVjayBmb3IgYWN0aXZlIGl0ZW1zDQogICAgICAgIGxvY2FsIHNsb3RzID0ge1NlbGYuSGVhZCwgU2VsZi5Bcm1vciwgU2VsZi5MZWdzLCBTZWxmLkZlZXQsIFNlbGYuQW11bGV0LCBTZWxmLldlYXBvbiwgU2VsZi5SaW5nLCBTZWxmLlNoaWVsZCwgU2VsZi5BbW1vfQ0KICAgICAgICBmb3IgaSA9IDEsICNzbG90cyBkbw0KICAgICAgICAgICAgbG9jYWwgc2xvdCA9IHNsb3RzW2ldKCkNCiAgICAgICAgICAgIGxvY2FsIHBhc3NpdmVJRCA9IERhdGEucGFzc2l2ZUlEc1tzbG90LmlkXQ0KICAgICAgICAgICAgaWYgKHBhc3NpdmVJRCBhbmQgRGF0YS5kdXJhdGlvbnNbcGFzc2l2ZUlEXSkgdGhlbg0KICAgICAgICAgICAgICAgIC0tIFRoZSBjb3VudCBmb3IgYW4gYWN0aXZlIGl0ZW0gaXMgdGhlIHRpbWUgaXQgd2FzIGFjdGl2ZSBmb3INCiAgICAgICAgICAgICAgICBuZXdXYXN0ZVtwYXNzaXZlSURdID0gb3MudGltZSgpIC0gZGF0YS5nZW5lcmFsLmxhc3RUaWNrDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIGRhdGEuZ2VuZXJhbC5sYXN0VGljayA9IG9zLnRpbWUoKQ0KDQogICAgICAgIC0tIFN0b3JlIHRoZSBmaWx0ZXJlZCBkaWZmcw0KICAgICAgICBkYXRhLm5ld0xvb3QgPSBuZXdMb290DQogICAgICAgIGRhdGEubmV3V2FzdGUgPSBuZXdXYXN0ZQ0KICAgIGVuZA0KICAgIHRhYmxlLmluc2VydCh1cGRhdGVGdW5jdGlvbnMsIHVwZGF0ZURpZmZzKQ0KDQogICAgZGF0YS5nZW5lcmFsLnRvdGFsTG9vdCA9IDANCiAgICBkYXRhLmdlbmVyYWwudG90YWxXYXN0ZSA9IDANCiAgICBkYXRhLmdlbmVyYWwudG90YWxQcm9maXQgPSAwDQogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlUHJvZml0cygpDQogICAgICAgIGlmIGRhdGEuY291bnRzQXJlVmFsaWQgdGhlbg0KICAgICAgICAgICAgZm9yIGlkLCBudW0gaW4gcGFpcnMoZGF0YS5uZXdMb290KSBkbw0KICAgICAgICAgICAgICAgIGRhdGEuZ2VuZXJhbC50b3RhbExvb3QgPSBkYXRhLmdlbmVyYWwudG90YWxMb290ICsgRGF0YS5nZXRWYWx1ZShpZCkgKiBudW0NCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgZm9yIGlkLCBudW0gaW4gcGFpcnMoZGF0YS5uZXdXYXN0ZSkgZG8NCiAgICAgICAgICAgICAgICBpZiBEYXRhLmR1cmF0aW9uc1tpZF0gdGhlbg0KICAgICAgICAgICAgICAgICAgICBkYXRhLmdlbmVyYWwudG90YWxXYXN0ZSA9IGRhdGEuZ2VuZXJhbC50b3RhbFdhc3RlICsgRGF0YS5nZXRDb3N0KGlkKSAqIG51bSAvIERhdGEuZHVyYXRpb25zW2lkXQ0KICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgZGF0YS5nZW5lcmFsLnRvdGFsV2FzdGUgPSBkYXRhLmdlbmVyYWwudG90YWxXYXN0ZSArIERhdGEuZ2V0Q29zdChpZCkgKiBudW0NCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgZGF0YS5nZW5lcmFsLnRvdGFsUHJvZml0ID0gZGF0YS5nZW5lcmFsLnRvdGFsTG9vdCAtIGRhdGEuZ2VuZXJhbC50b3RhbFdhc3RlDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIHRhYmxlLmluc2VydCh1cGRhdGVGdW5jdGlvbnMsIHVwZGF0ZVByb2ZpdHMpDQoNCiAgICBsb2NhbCBmdW5jdGlvbiB1cGRhdGVMZXZlbCgpDQogICAgICAgIGRhdGEuZ2VuZXJhbC5sZXZlbCA9IFNlbGYuTGV2ZWwoKQ0KICAgIGVuZA0KICAgIHRhYmxlLmluc2VydCh1cGRhdGVGdW5jdGlvbnMsIHVwZGF0ZUxldmVsKQ0KDQogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlRXhwKCkNCiAgICAgICAgZGF0YS5nZW5lcmFsLmdhaW5lZEV4cCA9IFNlbGYuRXhwZXJpZW5jZSgpIC0gc3RhcnRFeHANCiAgICBlbmQNCiAgICB0YWJsZS5pbnNlcnQodXBkYXRlRnVuY3Rpb25zLCB1cGRhdGVFeHApDQoNCiAgICBsb2NhbCBwcmV2aW91c2x5ID0gb3MudGltZSgpDQogICAgZGF0YS5nZW5lcmFsLnVzZWRTZWNvbmRzID0gMQ0KICAgIGRhdGEuZ2VuZXJhbC51c2VkSG91cnMgPSAwDQogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlVGltZSgpDQogICAgICAgIGxvY2FsIG5vdyA9IG9zLnRpbWUoKQ0KICAgICAgICBsb2NhbCBkaWZmID0gbm93IC0gcHJldmlvdXNseQ0KICAgICAgICAtLSBJZiB0aGUgdGltZSBzaW5jZSB0aGUgbGFzdCB0aWNrIHdhcyB0b28gbG9uZyB3ZSd2ZSB2ZXJ5IGxpa2VseSBiZWVuIG9mZmxpbmUNCiAgICAgICAgaWYgZGlmZiA8IDMwIHRoZW4NCiAgICAgICAgICAgIGRhdGEuZ2VuZXJhbC51c2VkU2Vjb25kcyA9IGRhdGEuZ2VuZXJhbC51c2VkU2Vjb25kcyArIGRpZmYNCiAgICAgICAgICAgIGRhdGEuZ2VuZXJhbC51c2VkSG91cnMgPSBkYXRhLmdlbmVyYWwudXNlZFNlY29uZHMgLyAzNjAwDQogICAgICAgIGVuZA0KICAgICAgICBwcmV2aW91c2x5ID0gbm93DQogICAgZW5kDQogICAgdGFibGUuaW5zZXJ0KHVwZGF0ZUZ1bmN0aW9ucywgdXBkYXRlVGltZSkNCg0KICAgIGxvY2FsIHByZXZpb3VzU3RhbWluYSA9IFNlbGYuU3RhbWluYSgpDQogICAgZGF0YS5nZW5lcmFsLnVzZWRTdGFtaW5hTWludXRlcyA9IDANCiAgICBkYXRhLmdlbmVyYWwudXNlZFN0YW1pbmFIb3VycyA9IDANCiAgICBsb2NhbCBmdW5jdGlvbiB1cGRhdGVTdGFtaW5hKCkNCiAgICAgICAgbG9jYWwgY3VycmVudCA9IFNlbGYuU3RhbWluYSgpDQogICAgICAgIGRhdGEuZ2VuZXJhbC5zdGFtaW5hID0gY3VycmVudA0KICAgICAgICBsb2NhbCBkaWZmID0gcHJldmlvdXNTdGFtaW5hIC0gY3VycmVudA0KICAgICAgICAtLSBTdGFtaW5hIGNhbm5vdCBpbmNyZWFzZSB3aGlsZSB3ZSBhcmUgb25saW5lLCBhbmQNCiAgICAgICAgLS0gd2UgZG9udCB3YW50IGJlaW5nIG9mZmxhbmUgdG8gY29ycnVwdCB0aGUgc3RhdHMNCiAgICAgICAgaWYgZGlmZiA+PSAwIHRoZW4NCiAgICAgICAgICAgIGRhdGEuZ2VuZXJhbC51c2VkU3RhbWluYU1pbnV0ZXMgPSBkYXRhLmdlbmVyYWwudXNlZFN0YW1pbmFNaW51dGVzICsgZGlmZg0KICAgICAgICAgICAgZGF0YS5nZW5lcmFsLnVzZWRTdGFtaW5hSG91cnMgPSBkYXRhLmdlbmVyYWwudXNlZFN0YW1pbmFNaW51dGVzIC8gNjANCiAgICAgICAgZW5kDQogICAgICAgIHByZXZpb3VzU3RhbWluYSA9IGN1cnJlbnQNCiAgICBlbmQNCiAgICB0YWJsZS5pbnNlcnQodXBkYXRlRnVuY3Rpb25zLCB1cGRhdGVTdGFtaW5hKQ0KDQogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlUmF0ZXMoKQ0KICAgICAgICBkYXRhLmdlbmVyYWwuZXhwUyA9IGRhdGEuZ2VuZXJhbC5nYWluZWRFeHAgLyBkYXRhLmdlbmVyYWwudXNlZFNlY29uZHMNCiAgICAgICAgZGF0YS5nZW5lcmFsLmV4cEggPSBkYXRhLmdlbmVyYWwuZ2FpbmVkRXhwIC8gZGF0YS5nZW5lcmFsLnVzZWRIb3Vycw0KICAgICAgICBkYXRhLmdlbmVyYWwuZXhwU0ggPSBkYXRhLmdlbmVyYWwudXNlZFN0YW1pbmFIb3VycyA8IDAuMDE3IGFuZCBkYXRhLmdlbmVyYWwuZXhwSCBvciBkYXRhLmdlbmVyYWwuZ2FpbmVkRXhwIC8gZGF0YS5nZW5lcmFsLnVzZWRTdGFtaW5hSG91cnMNCiAgICAgICAgZGF0YS5nZW5lcmFsLnByb2ZpdHNIID0gZGF0YS5nZW5lcmFsLnRvdGFsUHJvZml0IC8gZGF0YS5nZW5lcmFsLnVzZWRIb3Vycw0KICAgICAgICBkYXRhLmdlbmVyYWwucHJvZml0c1NIID0gZGF0YS5nZW5lcmFsLnVzZWRTdGFtaW5hSG91cnMgPCAwLjAxNyBhbmQgZGF0YS5nZW5lcmFsLnByb2ZpdHNIIG9yIGRhdGEuZ2VuZXJhbC50b3RhbFByb2ZpdCAvIGRhdGEuZ2VuZXJhbC51c2VkU3RhbWluYUhvdXJzDQogICAgZW5kDQogICAgdGFibGUuaW5zZXJ0KHVwZGF0ZUZ1bmN0aW9ucywgdXBkYXRlUmF0ZXMpDQoNCiAgICBsb2NhbCBmdW5jdGlvbiBleHBGb3JMZXZlbCh4KQ0KICAgICAgICByZXR1cm4gNTAvMyooeCp4KnggLSA2KngqeCArIDE3KnggLSAxMikNCiAgICBlbmQNCg0KICAgIGxvY2FsIGZ1bmN0aW9uIHVwZGF0ZVRpbWVUb0xldmVsKCkNCiAgICAgICAgbG9jYWwgbmV4dExldmVsRXhwID0gZXhwRm9yTGV2ZWwoU2VsZi5MZXZlbCgpICsgMSkNCiAgICAgICAgbG9jYWwgbWlzc2luZ0V4cCA9IG5leHRMZXZlbEV4cCAtIFNlbGYuRXhwZXJpZW5jZSgpDQogICAgICAgIGRhdGEuZ2VuZXJhbC50aW1lVG9MZXZlbCA9IGRhdGEuZ2VuZXJhbC5leHBTID09IDAgYW5kIC0xIG9yIG1hdGguZmxvb3IobWlzc2luZ0V4cCAvIGRhdGEuZ2VuZXJhbC5leHBTKQ0KICAgIGVuZA0KICAgIHRhYmxlLmluc2VydCh1cGRhdGVGdW5jdGlvbnMsIHVwZGF0ZVRpbWVUb0xldmVsKQ0KDQogICAgZGF0YS5nZW5lcmFsLnBpbmcgPSAwDQogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlUGluZygpDQogICAgICAgIGRhdGEuZ2VuZXJhbC5waW5nID0gU2VsZi5QaW5nKCkNCiAgICBlbmQNCiAgICB0YWJsZS5pbnNlcnQodXBkYXRlRnVuY3Rpb25zLCB1cGRhdGVQaW5nKSAgICANCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGdldFN0YXRzKCkNCiAgICAgICAgZm9yIF8sIGYgaW4gaXBhaXJzKHVwZGF0ZUZ1bmN0aW9ucykgZG8NCiAgICAgICAgICAgIGYoKQ0KICAgICAgICBlbmQNCiAgICAgICAgcmV0dXJuIGRhdGENCiAgICBlbmQNCg0KICAgIHJldHVybiANCiAgICB7DQogICAgICAgIGdldFN0YXRzID0gZ2V0U3RhdHMsDQogICAgfQ0KZW5kKSgpDQoNCkV2ZW50cyA9IChmdW5jdGlvbigpDQoNCiAgICBsb2NhbCB0b3BpY3MgPSB7fQ0KDQogICAgbG9jYWwgZnVuY3Rpb24gc3Vic2NyaWJlKHRvcGljLCBjYWxsYmFjaykNCiAgICAgICAgbG9jYWwgc3VicyA9IHRvcGljc1t0b3BpY10gb3Ige30NCiAgICAgICAgdGFibGUuaW5zZXJ0KHN1YnMsIGNhbGxiYWNrKQ0KICAgICAgICB0b3BpY3NbdG9waWNdID0gc3Vicw0KICAgIGVuZA0KDQogICAgbG9jYWwgZnVuY3Rpb24gcHVibGlzaCh0b3BpYywgZGF0YSkNCiAgICAgICAgbG9jYWwgc3VicyA9IHRvcGljc1t0b3BpY10gb3Ige30NCiAgICAgICAgZm9yIF8sIGNhbGxiYWNrIGluIGlwYWlycyhzdWJzKSBkbw0KICAgICAgICAgICAgY2FsbGJhY2soZGF0YSkNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICBsb2NhbCBmdW5jdGlvbiBrZXlzZXQodGFiKQ0KICAgICAgICBsb2NhbCBzZXQgPSB7fQ0KICAgICAgICBmb3Iga2V5LCBfIGluIHBhaXJzKHRhYikgZG8NCiAgICAgICAgICAgIHRhYmxlLmluc2VydChzZXQsIGtleSkNCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiBzZXQNCiAgICBlbmQNCg0KICAgIE1vZHVsZSgiVXBkYXRlIEhVRCIsIGZ1bmN0aW9uKG1vZHVsZSkNCiAgICAgICAgbG9jYWwgc3RhdHMgPSBIVUREYXRhLmdldFN0YXRzKCkNCg0KICAgICAgICAtLSBOb3RpZnkgZ2VuZXJhbCBzdWJzY3JpYmVycw0KICAgICAgICBwdWJsaXNoKCJnZW5lcmFsIiwgc3RhdHMuZ2VuZXJhbCkNCg0KICAgICAgICAtLSBPbmx5IG5vdGlmeSBjb3VudCBiYXNlZCBzdWJzY3JpYmVycyB3aGVuIHRoZSBjb3VudHMgYXJlIHZhbGlkDQogICAgICAgIGlmIHN0YXRzLmNvdW50c0FyZVZhbGlkIHRoZW4NCiAgICAgICAgICAgIC0tIE5vdGlmeSBhYm91dCBuZXcgcG9zc2libGUgbmV3IGlkcw0KICAgICAgICAgICAgbG9jYWwgbmV3TG9vdElEcyA9IGtleXNldChzdGF0cy5uZXdMb290KQ0KICAgICAgICAgICAgcHVibGlzaCgibmV3TG9vdElEcyIsIG5ld0xvb3RJRHMpDQogICAgICAgICAgICBsb2NhbCBuZXdXYXN0ZUlEcyA9IGtleXNldChzdGF0cy5uZXdXYXN0ZSkNCiAgICAgICAgICAgIHB1Ymxpc2goIm5ld1dhc3RlSURzIiwgbmV3V2FzdGVJRHMpDQoNCiAgICAgICAgICAgIC0tIE5vdGlmeSBhYm91dCBuZXcgY291bnRzDQogICAgICAgICAgICBmb3IgaWQsIGNvdW50IGluIHBhaXJzKHN0YXRzLm5ld0xvb3QpIGRvDQogICAgICAgICAgICAgICAgcHVibGlzaChpZCwgY291bnQpDQogICAgICAgICAgICBlbmQNCg0KICAgICAgICAgICAgZm9yIGlkLCBjb3VudCBpbiBwYWlycyhzdGF0cy5uZXdXYXN0ZSkgZG8NCiAgICAgICAgICAgICAgICBwdWJsaXNoKGlkICsgSGlkZGVuQ29uZmlnLldhc3RlTW9kLCBjb3VudCkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCg0KICAgICAgICBtb2R1bGU6RGVsYXkoMTAwMCkNCiAgICBlbmQpDQoNCiAgICAtLSBMZXQgbWFpbiBzY3JpcHRzIHN0b3AgdGhlIEhVRCB3aGVuIHRoZXkgbG9nb3V0Lg0KICAgIFNpZ25hbC5PblJlY2VpdmUoIlN0b3AgSFVEIiwgZnVuY3Rpb24oXywgTXNnKQ0KICAgICAgICBpZiBNc2cgPT0gIlN0b3AiIHRoZW4NCiAgICAgICAgICAgIE1vZHVsZS5TdG9wKCJVcGRhdGUgSFVEIikNCiAgICAgICAgZW5kDQogICAgZW5kKQ0KDQogICAgcmV0dXJuIA0KICAgIHsNCiAgICAgICAgcHVibGlzaCA9IHB1Ymxpc2gsDQogICAgICAgIHN1YnNjcmliZSA9IHN1YnNjcmliZSwNCiAgICB9DQplbmQpKCkNCg0KDQotLSBIVURDb250YWluZXIgaXMgYW4gYWJzdHJhY3Qgc3VwZXIgY2xhc3MNCkhVRENvbnRhaW5lciA9IHt9DQpIVURDb250YWluZXJfbXQgPSB7X19pbmRleCA9IEhVRENvbnRhaW5lcn0NCg0KZnVuY3Rpb24gSFVEQ29udGFpbmVyOm1vdmUobmV3eCwgbmV3eSkNCiAgICBzZWxmLnkgPSBuZXd5DQogICAgc2VsZi54ID0gbmV3eA0KICAgIGZvciBpbnNldCwgaHVkIGluIHBhaXJzKHNlbGYuaHVkcykgZG8NCiAgICAgICAgaHVkOlNldFBvc2l0aW9uKHNlbGYueCArIGluc2V0LCBzZWxmLnkpDQogICAgZW5kDQplbmQNCg0KZnVuY3Rpb24gSFVEQ29udGFpbmVyOm1vdmVSZWxhdGl2ZShkaWZmeCwgZGlmZnkpDQogICAgc2VsZjptb3ZlKHNlbGYueCArIGRpZmZ4LCBzZWxmLnkgKyBkaWZmeSkNCmVuZA0KDQpIZWFkZXJIVURDb250YWluZXIgPSB7fQ0KSGVhZGVySFVEQ29udGFpbmVyX210ID0ge19faW5kZXggPSBIZWFkZXJIVURDb250YWluZXJ9DQoNCmZ1bmN0aW9uIEhlYWRlckhVRENvbnRhaW5lci5uZXcodGl0bGUsIHBhcmVudCwgaW5zZXQsIHNpZ25hbGtleSkNCiAgICBsb2NhbCBjID0ge30NCiAgICBzZXRtZXRhdGFibGUoYywgSGVhZGVySFVEQ29udGFpbmVyX210KQ0KDQogICAgYy54ID0gMA0KICAgIGMueSA9IDAgDQogICAgYy5oZWlnaHQgPSBIaWRkZW5Db25maWcueVN0YW5kYXJkSGVpZ2h0DQoNCiAgICBjLmh1ZHMgPSB7fQ0KDQogICAgbG9jYWwgaW5zZXQgPSBpbnNldCBvciBIaWRkZW5Db25maWcueEhlYWRlckluc2V0DQoNCiAgICBjLmhlYWRlckhVRCA9IEhVRC5OZXcoYy54ICsgaW5zZXQsIGMueSwgdGl0bGUsIEhpZGRlbkNvbmZpZy5oZWFkZXJDb2xvci5yLCBIaWRkZW5Db25maWcuaGVhZGVyQ29sb3IuZywgSGlkZGVuQ29uZmlnLmhlYWRlckNvbG9yLmIpDQogICAgYy5odWRzW2luc2V0XSA9IGMuaGVhZGVySFVEDQoNCiAgICBwYXJlbnQ6YWRkQ2hpbGQoYykNCiAgICBpZiBzaWduYWxrZXkgdGhlbg0KICAgICAgICBTaWduYWwuT25SZWNlaXZlKHNpZ25hbGtleSwgZnVuY3Rpb24oXywgbmFtZSkNCiAgICAgICAgICAgIGMuaGVhZGVySFVEOlNldFRleHQobmFtZSkNCiAgICAgICAgZW5kKQ0KICAgIGVuZA0KDQogICAgcmV0dXJuIGMNCmVuZA0KDQpzZXRtZXRhdGFibGUoSGVhZGVySFVEQ29udGFpbmVyLCB7IF9faW5kZXggPSBIVURDb250YWluZXIsIF9fY2FsbCA9IGZ1bmN0aW9uKF8sIC4uLikgcmV0dXJuIEhlYWRlckhVRENvbnRhaW5lci5uZXcoLi4uKSBlbmQgfSkNCg0KU2NyaXB0TmFtZUhVRENvbnRhaW5lciA9IHt9DQpTY3JpcHROYW1lSFVEQ29udGFpbmVyX210ID0ge19faW5kZXggPSBTY3JpcHROYW1lSFVEQ29udGFpbmVyfQ0KDQpmdW5jdGlvbiBTY3JpcHROYW1lSFVEQ29udGFpbmVyLm5ldyh0aXRsZSwgcGFyZW50LCBpbnNldCwgc2lnbmFsa2V5LCB0cmFuc2Zvcm1lcikNCiAgICBsb2NhbCBjID0ge30NCiAgICBzZXRtZXRhdGFibGUoYywgU2NyaXB0TmFtZUhVRENvbnRhaW5lcl9tdCkNCg0KICAgIGMuaWQgPSAtMSAtLSBUbyBiZSBzZXQgYnkgdGhlIHBhcmVudA0KICAgIGMueCA9IDANCiAgICBjLnkgPSAwIA0KICAgIGMuaGVpZ2h0ID0gMA0KICAgIGMucGFyZW50ID0gcGFyZW50DQoNCiAgICBjLmh1ZHMgPSB7fQ0KDQogICAgbG9jYWwgaW5zZXQgPSBpbnNldCBvciBIaWRkZW5Db25maWcueEhlYWRlckluc2V0DQoNCiAgICBjLmhlYWRlckhVRCA9IEhVRC5OZXcoYy54ICsgaW5zZXQsIGMueSwgdGl0bGUsIEhpZGRlbkNvbmZpZy5rZXlDb2xvci5yLCBIaWRkZW5Db25maWcua2V5Q29sb3IuZywgSGlkZGVuQ29uZmlnLmtleUNvbG9yLmIpDQogICAgYy5odWRzW2luc2V0XSA9IGMuaGVhZGVySFVEDQoNCiAgICBwYXJlbnQ6YWRkQ2hpbGQoYykNCiAgICBTaWduYWwuT25SZWNlaXZlKHNpZ25hbGtleSwgZnVuY3Rpb24oc2VsZiwgbmFtZSkNCiAgICAgICAgbG9jYWwgbmFtZSA9IHRyYW5zZm9ybWVyIGFuZCB0cmFuc2Zvcm1lcihuYW1lKSBvciBuYW1lDQogICAgICAgIGMuaGVhZGVySFVEOlNldFRleHQobmFtZSkNCiAgICAgICAgbG9jYWwgc2l6ZSA9IDMgKiAobmFtZTpsZW4oKSAtIDMpICsgMTMNCiAgICAgICAgbG9jYWwgaW5zZXQgPSA5NS1zaXplDQogICAgICAgIGMuaGVhZGVySFVEOlNldFBvc2l0aW9uKGMueCArIGluc2V0LCBjLnkpDQogICAgICAgIGM6Z3JvdyhIaWRkZW5Db25maWcueVN0YW5kYXJkSGVpZ2h0KQ0KICAgICAgICBzZWxmOkNsb3NlKCkNCiAgICBlbmQpDQoNCiAgICByZXR1cm4gYw0KZW5kDQoNCmZ1bmN0aW9uIFNjcmlwdE5hbWVIVURDb250YWluZXI6Z3JvdyhkaWZmeSkNCiAgICBzZWxmLmhlaWdodCA9IHNlbGYuaGVpZ2h0ICsgZGlmZnkNCiAgICBpZiBzZWxmLnBhcmVudCB0aGVuDQogICAgICAgIGZvciBpZCA9IHNlbGYuaWQgKyAxLCBzZWxmLnBhcmVudC5uZXh0Q2hpbGRJRCAtIDEgZG8NCiAgICAgICAgICAgIHNlbGYucGFyZW50LmNoaWxkcmVuW2lkXTptb3ZlUmVsYXRpdmUoMCwgZGlmZnkpDQogICAgICAgIGVuZA0KICAgICAgICBzZWxmLnBhcmVudDpncm93KGRpZmZ5KQ0KICAgIGVuZA0KZW5kDQoNCg0Kc2V0bWV0YXRhYmxlKFNjcmlwdE5hbWVIVURDb250YWluZXIsIHsgX19pbmRleCA9IEhVRENvbnRhaW5lciwgX19jYWxsID0gZnVuY3Rpb24oXywgLi4uKSByZXR1cm4gU2NyaXB0TmFtZUhVRENvbnRhaW5lci5uZXcoLi4uKSBlbmQgfSkNCg0KRW1wdHlIVURDb250YWluZXIgPSB7fQ0KRW1wdHlIVURDb250YWluZXJfbXQgPSB7X19pbmRleCA9IEVtcHR5SFVEQ29udGFpbmVyfQ0KDQpmdW5jdGlvbiBFbXB0eUhVRENvbnRhaW5lci5uZXcocGFyZW50LCBoZWlnaHQpDQogICAgbG9jYWwgYyA9IHt9DQogICAgc2V0bWV0YXRhYmxlKGMsIEVtcHR5SFVEQ29udGFpbmVyX210KQ0KDQogICAgYy54ID0gMA0KICAgIGMueSA9IDAgDQogICAgYy5oZWlnaHQgPSBoZWlnaHQgb3IgSGlkZGVuQ29uZmlnLnlTdGFuZGFyZEhlaWdodA0KDQogICAgYy5odWRzID0ge30NCg0KICAgIHBhcmVudDphZGRDaGlsZChjKQ0KDQogICAgcmV0dXJuIGMNCmVuZA0KDQpzZXRtZXRhdGFibGUoRW1wdHlIVURDb250YWluZXIsIHsgX19pbmRleCA9IEhVRENvbnRhaW5lciwgX19jYWxsID0gZnVuY3Rpb24oXywgLi4uKSByZXR1cm4gRW1wdHlIVURDb250YWluZXIubmV3KC4uLikgZW5kIH0pDQoNCktleVZhbEhVRENvbnRhaW5lciA9IHt9DQpLZXlWYWxIVURDb250YWluZXJfbXQgPSB7X19pbmRleCA9IEtleVZhbEhVRENvbnRhaW5lcn0NCg0KZnVuY3Rpb24gS2V5VmFsSFVEQ29udGFpbmVyLm5ldyhkZXNjLCBwYXJlbnQpDQogICAgbG9jYWwgYyA9IHt9DQogICAgc2V0bWV0YXRhYmxlKGMsIEtleVZhbEhVRENvbnRhaW5lcl9tdCkNCg0KICAgIGMueCA9IDANCiAgICBjLnkgPSAwIA0KICAgIGMuaGVpZ2h0ID0gSGlkZGVuQ29uZmlnLnlTdGFuZGFyZEhlaWdodA0KICAgIGMuYWNjdW0gPSAwDQoNCiAgICBjLmh1ZHMgPSB7fQ0KDQogICAgYy5rZXlIVUQgPSBIVUQuTmV3KGMueCAsIGMueSwgZGVzYywgSGlkZGVuQ29uZmlnLmtleUNvbG9yLnIsIEhpZGRlbkNvbmZpZy5rZXlDb2xvci5nLCBIaWRkZW5Db25maWcua2V5Q29sb3IuYikNCiAgICBjLmh1ZHNbMF0gPSBjLmtleUhVRA0KICAgIGMudmFsSFVEID0gSFVELk5ldyhjLnggKyBIaWRkZW5Db25maWcueERlc2NXaWR0aCwgYy55LCAiIiwgSGlkZGVuQ29uZmlnLnZhbENvbG9yLnIsIEhpZGRlbkNvbmZpZy52YWxDb2xvci5nLCBIaWRkZW5Db25maWcudmFsQ29sb3IuYikNCiAgICBjLmh1ZHNbSGlkZGVuQ29uZmlnLnhEZXNjV2lkdGhdID0gYy52YWxIVUQNCg0KICAgIHBhcmVudDphZGRDaGlsZChjKQ0KDQogICAgcmV0dXJuIGMNCmVuZA0KDQpzZXRtZXRhdGFibGUoS2V5VmFsSFVEQ29udGFpbmVyLCB7X19pbmRleCA9IEhVRENvbnRhaW5lciwgX19jYWxsID0gZnVuY3Rpb24oXywgLi4uKSByZXR1cm4gS2V5VmFsSFVEQ29udGFpbmVyLm5ldyguLi4pIGVuZH0pDQoNCmZ1bmN0aW9uIEtleVZhbEhVRENvbnRhaW5lcjpzZXRWYWxUZXh0KG5ld1RleHQpDQogICAgc2VsZi52YWxIVUQ6U2V0VGV4dChuZXdUZXh0KQ0KZW5kDQoNCmZ1bmN0aW9uIEtleVZhbEhVRENvbnRhaW5lcjppbmNBY2N1bSh2YWwpDQogICAgc2VsZi5hY2N1bSA9IHNlbGYuYWNjdW0gKyB2YWwNCmVuZA0KDQpmdW5jdGlvbiBLZXlWYWxIVURDb250YWluZXI6Z2V0QWNjdW0obmV3VGV4dCkNCiAgICByZXR1cm4gc2VsZi5hY2N1bQ0KZW5kDQoNCkNvbnRhaW5lckNvbnRhaW5lciA9IHt9DQpDb250YWluZXJDb250YWluZXJfbXQgPSB7X19pbmRleCA9IENvbnRhaW5lckNvbnRhaW5lcn0NCg0KZnVuY3Rpb24gQ29udGFpbmVyQ29udGFpbmVyLm5ldyh4LCB5LCBwYXJlbnQpDQogICAgbG9jYWwgYyA9IHt9DQogICAgc2V0bWV0YXRhYmxlKGMsIENvbnRhaW5lckNvbnRhaW5lcl9tdCkNCg0KICAgIGMuaWQgPSAtMSAtLSBUbyBiZSBzZXQgYnkgdGhlIHBhcmVudA0KICAgIGMueCA9IHgNCiAgICBjLnkgPSB5DQogICAgYy5oZWlnaHQgPSAwDQogICAgYy5wYXJlbnQgPSBwYXJlbnQNCiAgICAtLSBPbmx5IHVzZWQgYnkgdGhvc2UgY29udGFpbmVycyB0aGF0IGNvbnRhaW4gaXRlbSBodWRzDQogICAgYy5jb250YWluZWRJdGVtSURzID0ge30NCg0KICAgIGMuY2hpbGRyZW4gPSB7fQ0KICAgIGMubmV4dENoaWxkSUQgPSAxDQoNCiAgICBpZiBwYXJlbnQgdGhlbg0KICAgICAgICBwYXJlbnQ6YWRkQ2hpbGQoYykNCiAgICBlbmQNCg0KICAgIHJldHVybiBjDQplbmQNCnNldG1ldGF0YWJsZShDb250YWluZXJDb250YWluZXIsIHtfX2NhbGwgPSBmdW5jdGlvbihfLCAuLi4pIHJldHVybiBDb250YWluZXJDb250YWluZXIubmV3KC4uLikgZW5kfSkNCg0KZnVuY3Rpb24gQ29udGFpbmVyQ29udGFpbmVyOmFkZENoaWxkKGNoaWxkKQ0KICAgIGNoaWxkLmlkID0gc2VsZi5uZXh0Q2hpbGRJRA0KICAgIHNlbGYubmV4dENoaWxkSUQgPSBzZWxmLm5leHRDaGlsZElEICsgMQ0KICAgIHRhYmxlLmluc2VydChzZWxmLmNoaWxkcmVuLCBjaGlsZCkNCiAgICBjaGlsZDptb3ZlKHNlbGYueCwgc2VsZi55ICsgc2VsZi5oZWlnaHQpDQogICAgc2VsZjpncm93KGNoaWxkLmhlaWdodCkNCmVuZA0KDQpmdW5jdGlvbiBDb250YWluZXJDb250YWluZXI6Z3JvdyhkaWZmeSkNCiAgICBzZWxmLmhlaWdodCA9IHNlbGYuaGVpZ2h0ICsgZGlmZnkNCiAgICBpZiBzZWxmLnBhcmVudCB0aGVuDQogICAgICAgIGZvciBpZCA9IHNlbGYuaWQgKyAxLCBzZWxmLnBhcmVudC5uZXh0Q2hpbGRJRCAtIDEgZG8NCiAgICAgICAgICAgIHNlbGYucGFyZW50LmNoaWxkcmVuW2lkXTptb3ZlUmVsYXRpdmUoMCwgZGlmZnkpDQogICAgICAgIGVuZA0KICAgICAgICBzZWxmLnBhcmVudDpncm93KGRpZmZ5KQ0KICAgIGVuZA0KZW5kDQoNCmZ1bmN0aW9uIENvbnRhaW5lckNvbnRhaW5lcjptb3ZlUmVsYXRpdmUoeCwgeSkNCiAgICBmb3IgXywgY2hpbGQgaW4gaXBhaXJzKHNlbGYuY2hpbGRyZW4pIGRvDQogICAgICAgIGNoaWxkOm1vdmVSZWxhdGl2ZSh4LCB5KQ0KICAgIGVuZA0KICAgIHNlbGYueCA9IHNlbGYueCArIHgNCiAgICBzZWxmLnkgPSBzZWxmLnkgKyB5DQplbmQNCg0KZnVuY3Rpb24gQ29udGFpbmVyQ29udGFpbmVyOm1vdmUoeCwgeSkNCiAgICBsb2NhbCBkaWZmeCA9IHggLSBzZWxmLngNCiAgICBsb2NhbCBkaWZmeSA9IHkgLSBzZWxmLnkNCiAgICBzZWxmOm1vdmVSZWxhdGl2ZShkaWZmeCwgZGlmZnkpDQplbmQNCg0KSXRlbUhVRENvbnRhaW5lciA9IHt9DQpJdGVtSFVEQ29udGFpbmVyX210ID0ge19faW5kZXggPSBJdGVtSFVEQ29udGFpbmVyfQ0KDQpmdW5jdGlvbiBJdGVtSFVEQ29udGFpbmVyLm5ldyhpZCwgcGFyZW50LCBmb3JtYXRGdW5jKQ0KICAgIGxvY2FsIGMgPSB7fQ0KICAgIHNldG1ldGF0YWJsZShjLCBJdGVtSFVEQ29udGFpbmVyX210KQ0KDQogICAgYy5mb3JtYXRGdW5jID0gZm9ybWF0RnVuYw0KICAgIGMueCA9IDANCiAgICBjLnkgPSAwDQogICAgYy5pdGVtSUQgPSBpZA0KICAgIGMuaGVpZ2h0ID0gSGlkZGVuQ29uZmlnLnlTdGFuZGFyZEhlaWdodA0KICAgIGMuYWNjdW0gPSAwDQoNCiAgICBjLmltYWdlSFVEID0gSFVELk5ldyhjLnggLSBIaWRkZW5Db25maWcueEltYWdlT2Zmc2V0LCBjLnkgKyBIaWRkZW5Db25maWcueUltYWdlT2Zmc2V0LCBpZCwgMCwgMCwgMCkNCiAgICBjLmltYWdlSFVEOlNldEl0ZW1TaXplKEhpZGRlbkNvbmZpZy5pbWFnZVNpemUpDQogICAgYy5rZXlIVUQgPSBIVUQuTmV3KGMueCAsIGMueSwgSXRlbS5HZXROYW1lKGlkKSwgSGlkZGVuQ29uZmlnLmtleUNvbG9yLnIsIEhpZGRlbkNvbmZpZy5rZXlDb2xvci5nLCBIaWRkZW5Db25maWcua2V5Q29sb3IuYikNCiAgICBjLnZhbEhVRCA9IEhVRC5OZXcoYy54ICsgSGlkZGVuQ29uZmlnLnhEZXNjV2lkdGgsIGMueSwgIiIsIEhpZGRlbkNvbmZpZy52YWxDb2xvci5yLCBIaWRkZW5Db25maWcudmFsQ29sb3IuZywgSGlkZGVuQ29uZmlnLnZhbENvbG9yLmIpDQogICAgYzphZGRDb3VudCgwKQ0KICAgIHBhcmVudDphZGRDaGlsZChjKQ0KDQogICAgcmV0dXJuIGMNCmVuZA0KDQpzZXRtZXRhdGFibGUoSXRlbUhVRENvbnRhaW5lciwge19faW5kZXggPSBIVURDb250YWluZXIsIF9fY2FsbCA9IGZ1bmN0aW9uKF8sIC4uLikgcmV0dXJuIEl0ZW1IVURDb250YWluZXIubmV3KC4uLikgZW5kfSkNCg0KZnVuY3Rpb24gSXRlbUhVRENvbnRhaW5lcjphZGRDb3VudChudW0pDQogICAgc2VsZi5hY2N1bSA9IHNlbGYuYWNjdW0gKyBudW0NCiAgICBzZWxmLnZhbEhVRDpTZXRUZXh0KHNlbGYuZm9ybWF0RnVuYyhzZWxmLml0ZW1JRCwgc2VsZi5hY2N1bSkpDQplbmQNCg0KZnVuY3Rpb24gSXRlbUhVRENvbnRhaW5lcjptb3ZlKG5ld3gsIG5ld3kpDQogICAgc2VsZi55ID0gbmV3eQ0KICAgIHNlbGYueCA9IG5ld3gNCiAgICBzZWxmLmltYWdlSFVEOlNldFBvc2l0aW9uKHNlbGYueCArIEhpZGRlbkNvbmZpZy54SW1hZ2VPZmZzZXQsIHNlbGYueSArIEhpZGRlbkNvbmZpZy55SW1hZ2VPZmZzZXQpDQogICAgc2VsZi5rZXlIVUQ6U2V0UG9zaXRpb24oc2VsZi54LCBzZWxmLnkpDQogICAgc2VsZi52YWxIVUQ6U2V0UG9zaXRpb24oc2VsZi54ICsgSGlkZGVuQ29uZmlnLnhEZXNjV2lkdGgsIHNlbGYueSkNCmVuZA0KDQpmdW5jdGlvbiBJdGVtSFVEQ29udGFpbmVyOm1vdmVSZWxhdGl2ZShkaWZmeCwgZGlmZnkpDQogICAgc2VsZjptb3ZlKHNlbGYueCArIGRpZmZ4LCBzZWxmLnkgKyBkaWZmeSkNCmVuZA0KDQpsb2NhbCBmdW5jdGlvbiBsb290Rm9ybWF0RnVuYyhpZCwgY291bnQpDQogICAgcmV0dXJuIHN0cmluZy5mb3JtYXQoIiVkICglZCBncCkiLCBjb3VudCwgY291bnQgKiBEYXRhLmdldFZhbHVlKGlkKSkNCmVuZA0KDQpsb2NhbCBmdW5jdGlvbiB3YXN0ZUZvcm1hdEZ1bmMoaWQsIGNvdW50KQ0KICAgIHJldHVybiBzdHJpbmcuZm9ybWF0KCIlZCAoJWQgZ3ApIiwgY291bnQsIGNvdW50ICogRGF0YS5nZXRDb3N0KGlkKSkNCmVuZA0KDQpsb2NhbCBmdW5jdGlvbiBhY3RpdmVXYXN0ZUZvcm1hdEZ1bmMoaWQsIGNvdW50KQ0KICAgIGxvY2FsIGhvdXIgPSBtYXRoLmZsb29yKGNvdW50IC8gMzYwMCkNCiAgICBsb2NhbCBtaW4gPSBtYXRoLmZsb29yKChjb3VudCAvIDYwKSAlIDYwKQ0KICAgIGxvY2FsIHNlYyA9IG1hdGguZmxvb3IoY291bnQgJSA2MCkNCiAgICByZXR1cm4gc3RyaW5nLmZvcm1hdCgiJTAyLmY6JTAyLmY6JTAyLmYgKCVkIGdwKSIsIGhvdXIsIG1pbiwgc2VjLCBjb3VudCAqIERhdGEuZ2V0Q29zdChpZCkgLyBEYXRhLmR1cmF0aW9uc1tpZF0pDQplbmQNCg0KZnVuY3Rpb24gTG9vdEl0ZW1IVURDb250YWluZXIoaWQsIHBhcmVudCkNCiAgICBsb2NhbCBjID0gSXRlbUhVRENvbnRhaW5lcihpZCwgcGFyZW50LCBsb290Rm9ybWF0RnVuYykNCiAgICBFdmVudHMuc3Vic2NyaWJlKGlkLCBmdW5jdGlvbihkaWZmKQ0KICAgICAgICBjOmFkZENvdW50KGRpZmYpDQogICAgZW5kKQ0KICAgIHJldHVybiBjDQplbmQNCg0KZnVuY3Rpb24gV2FzdGVJdGVtSFVEQ29udGFpbmVyKGlkLCBwYXJlbnQpDQogICAgbG9jYWwgYyA9IEl0ZW1IVURDb250YWluZXIoaWQsIHBhcmVudCwgd2FzdGVGb3JtYXRGdW5jKQ0KICAgIEV2ZW50cy5zdWJzY3JpYmUoaWQgKyBIaWRkZW5Db25maWcuV2FzdGVNb2QsIGZ1bmN0aW9uKGRpZmYpDQogICAgICAgIGM6YWRkQ291bnQoZGlmZikNCiAgICBlbmQpDQogICAgcmV0dXJuIGMNCmVuZA0KDQpmdW5jdGlvbiBBY3RpdmVXYXN0ZUl0ZW1IVURDb250YWluZXIoaWQsIHBhcmVudCkNCiAgICBsb2NhbCBjID0gSXRlbUhVRENvbnRhaW5lcihpZCwgcGFyZW50LCBhY3RpdmVXYXN0ZUZvcm1hdEZ1bmMpDQogICAgRXZlbnRzLnN1YnNjcmliZShpZCArIEhpZGRlbkNvbmZpZy5XYXN0ZU1vZCwgZnVuY3Rpb24oZGlmZikNCiAgICAgICAgYzphZGRDb3VudChkaWZmKQ0KICAgIGVuZCkNCiAgICByZXR1cm4gYw0KZW5kDQoNCkNvbmZpZy5sb2FkQ29uZmlnKCkNCg0KbG9jYWwgZnVuY3Rpb24gZm9ybWF0R2Fpbih0b3RhbCkNCiAgICBpZiB0b3RhbCA+IDFlKzYgdGhlbg0KICAgICAgICByZXR1cm4gc3RyaW5nLmZvcm1hdCgiJS4wMWZrayIsIHRvdGFsLzFlKzYpDQogICAgZWxzZWlmIHRvdGFsID4gMWUrMyB0aGVuDQogICAgICAgIHJldHVybiBzdHJpbmcuZm9ybWF0KCIlLjAxZmsiLCB0b3RhbC8xZSszKQ0KICAgIGVsc2UNCiAgICAgICAgcmV0dXJuIHRvc3RyaW5nKG1hdGguZmxvb3IodG90YWwpKQ0KICAgIGVuZA0KZW5kDQoNCmxvY2FsIGZ1bmN0aW9uIGxlZnRYKHNjcmVlbikNCiAgICByZXR1cm4gbWF0aC5tYXgobWF0aC5mbG9vcigoc2NyZWVuLmdhbWV3aW5kb3d4IC0gSGlkZGVuQ29uZmlnLnBhbmVsV2lkdGgpIC8gMiksIDEwKQ0KZW5kDQoNCmxvY2FsIGZ1bmN0aW9uIHJpZ2h0WChzY3JlZW4pDQogICAgbG9jYWwgeFJpZ2h0QmFzZSA9IHNjcmVlbi5nYW1ld2luZG93eCArIHNjcmVlbi5nYW1ld2luZG93dw0KICAgIHJldHVybiBtYXRoLmZsb29yKChzY3JlZW4uZXF3aW5kb3d4IC0gSGlkZGVuQ29uZmlnLnBhbmVsV2lkdGggLSB4UmlnaHRCYXNlKSAvIDIpICsgeFJpZ2h0QmFzZQ0KZW5kDQoNCmxvY2FsIHNjcmVlbiA9IEhVRC5HZXRNYWluV2luZG93RGltZW5zaW9ucygpDQpsb2NhbCBsZWZ0eCA9IGxlZnRYKHNjcmVlbikNCmxvY2FsIHJpZ2h0eCA9IHJpZ2h0WChzY3JlZW4pDQoNCi0tIENyZWF0ZSB0aGUgbGVmdCBjb2x1bW4gb2YgdGhlIEhVRA0KbG9jYWwgbGVmdENvbHVtbiA9IENvbnRhaW5lckNvbnRhaW5lcihsZWZ0eCwgSGlkZGVuQ29uZmlnLnlJbnNldCkNCmxvY2FsIHRpdGxlID0gSGVhZGVySFVEQ29udGFpbmVyKCJzaEFkT3dIVUQiLCBsZWZ0Q29sdW1uLCBIaWRkZW5Db25maWcueFRpdGxlSW5zZXQpDQpsb2NhbCBzY3JpcHQgPSBTY3JpcHROYW1lSFVEQ29udGFpbmVyKCIiLCBsZWZ0Q29sdW1uLCAwLCAic2NyaXB0IG5hbWUiKQ0KbG9jYWwgc2NyaXB0ID0gU2NyaXB0TmFtZUhVRENvbnRhaW5lcigiIiwgbGVmdENvbHVtbiwgMCwgInNjcmlwdCBhdXRob3IiLCBmdW5jdGlvbihhdXRob3IpDQogICAgcmV0dXJuICJieSAiIC4uIGF1dGhvcg0KZW5kKQ0KDQotLSBHZW5lcmFsIHN0YXRpc3RpY3MNCmxvY2FsIHBpbmcgPSBLZXlWYWxIVURDb250YWluZXIoIlBpbmc6IiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KICAgIHBpbmc6c2V0VmFsVGV4dChnZW5lcmFsLnBpbmcgLi4gIiBtcyIpDQplbmQpDQoNCmxvY2FsIGxldmVsID0gS2V5VmFsSFVEQ29udGFpbmVyKCJMZXZlbDoiLCBsZWZ0Q29sdW1uKQ0KRXZlbnRzLnN1YnNjcmliZSgiZ2VuZXJhbCIsIGZ1bmN0aW9uKGdlbmVyYWwpDQogICAgbGV2ZWw6c2V0VmFsVGV4dCh0b3N0cmluZyhnZW5lcmFsLmxldmVsKSkNCmVuZCkNCg0KbG9jYWwgc3RhbWluYSA9IEtleVZhbEhVRENvbnRhaW5lcigiU3RhbWluYToiLCBsZWZ0Q29sdW1uKQ0KRXZlbnRzLnN1YnNjcmliZSgiZ2VuZXJhbCIsIGZ1bmN0aW9uKGdlbmVyYWwpDQogICAgbG9jYWwgdG90YWxTdGFtaW5hID0gZ2VuZXJhbC5zdGFtaW5hDQogICAgbG9jYWwgc3RhbWluYUggPSBtYXRoLmZsb29yKHRvdGFsU3RhbWluYS82MCkNCiAgICBsb2NhbCBzdGFtaW5hTSA9IHRvdGFsU3RhbWluYSAlIDYwDQogICAgc3RhbWluYTpzZXRWYWxUZXh0KHN0cmluZy5mb3JtYXQoIiUwMi5mOiUwMi5mIiwgc3RhbWluYUgsIHN0YW1pbmFNKSkNCmVuZCkNCg0KbG9jYWwgc2Vzc2lvbiA9IEtleVZhbEhVRENvbnRhaW5lcigiU2Vzc2lvbiBMZW5ndGg6IiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KICAgIGxvY2FsIHRvdGFsU2Vjb25kcyA9IGdlbmVyYWwudXNlZFNlY29uZHMNCiAgICBsb2NhbCBzZWNvbmRzID0gbWF0aC5mbG9vcih0b3RhbFNlY29uZHMgJSA2MCkNCiAgICBsb2NhbCBtaW51dGVzID0gbWF0aC5mbG9vcih0b3RhbFNlY29uZHMvNjAgJSA2MCkNCiAgICBsb2NhbCBob3VycyA9IG1hdGguZmxvb3IodG90YWxTZWNvbmRzLzM2MDApDQogICAgbG9jYWwgZm9ybWF0dGVkID0gc3RyaW5nLmZvcm1hdCgiJTAyLmY6JTAyLmY6JTAyLmYiLCBob3VycywgbWludXRlcywgc2Vjb25kcykNCiAgICBzZXNzaW9uOnNldFZhbFRleHQoZm9ybWF0dGVkKQ0KZW5kKQ0KDQpsb2NhbCBiYW5rQmFsYW5jZSA9IEtleVZhbEhVRENvbnRhaW5lcigiQmFsYW5jZToiLCBsZWZ0Q29sdW1uKQ0KRXZlbnRzLnN1YnNjcmliZSgiZ2VuZXJhbCIsIGZ1bmN0aW9uKGdlbmVyYWwpDQogICAgYmFua0JhbGFuY2U6c2V0VmFsVGV4dChzdHJpbmcuZm9ybWF0KCIlcyBncCIsIGZvcm1hdEdhaW4oZ2VuZXJhbC5iYWxhbmNlKSkpDQplbmQpDQoNCmxvY2FsIHRpbWVUb0xldmVsID0gS2V5VmFsSFVEQ29udGFpbmVyKCJUaW1lIHRvIGxldmVsOiIsIGxlZnRDb2x1bW4pDQpFdmVudHMuc3Vic2NyaWJlKCJnZW5lcmFsIiwgZnVuY3Rpb24oZ2VuZXJhbCkNCiAgICBsb2NhbCB0b3RhbFNlY29uZHMgPSBnZW5lcmFsLnRpbWVUb0xldmVsDQogICAgbG9jYWwgbWludXRlcyA9IG1hdGguZmxvb3IodG90YWxTZWNvbmRzLzYwICUgNjApDQogICAgbG9jYWwgaG91cnMgPSBtYXRoLmZsb29yKHRvdGFsU2Vjb25kcy8zNjAwKQ0KICAgIGxvY2FsIGZvcm1hdHRlZCA9IHN0cmluZy5mb3JtYXQoIiUwMi5mOiUwMi5mIiwgaG91cnMsIG1pbnV0ZXMpDQogICAgdGltZVRvTGV2ZWw6c2V0VmFsVGV4dCh0b3RhbFNlY29uZHMgPT0gLTEgYW5kICItLSIgb3IgZm9ybWF0dGVkKQ0KZW5kKQ0KDQotLSBFeHAgZ2Fpbg0KRW1wdHlIVURDb250YWluZXIobGVmdENvbHVtbikNCmxvY2FsIGV4cFBlckggPSBLZXlWYWxIVURDb250YWluZXIoIkV4cDoiLCBsZWZ0Q29sdW1uKQ0KRXZlbnRzLnN1YnNjcmliZSgiZ2VuZXJhbCIsIGZ1bmN0aW9uKGdlbmVyYWwpDQogICAgbG9jYWwgZXhwSEsgPSBnZW5lcmFsLmV4cEggLyAxMDAwDQogICAgZXhwUGVySDpzZXRWYWxUZXh0KHN0cmluZy5mb3JtYXQoIiUuMDFmIGsvaCIsIGV4cEhLKSkNCmVuZCkNCmxvY2FsIGV4cFBlclNIID0gS2V5VmFsSFVEQ29udGFpbmVyKCIiLCBsZWZ0Q29sdW1uKQ0KRXZlbnRzLnN1YnNjcmliZSgiZ2VuZXJhbCIsIGZ1bmN0aW9uKGdlbmVyYWwpDQogICAgbG9jYWwgZXhwU0hLID0gZ2VuZXJhbC5leHBTSCAvIDEwMDANCiAgICBleHBQZXJTSDpzZXRWYWxUZXh0KHN0cmluZy5mb3JtYXQoIiUuMDFmIGsvc2giLCBleHBTSEspKQ0KZW5kKQ0KDQotLSBQcm9maXQgZ2Fpbg0KRW1wdHlIVURDb250YWluZXIobGVmdENvbHVtbikNCmxvY2FsIHByb2ZpdHNQZXJIID0gS2V5VmFsSFVEQ29udGFpbmVyKCJQcm9maXRzOiIsIGxlZnRDb2x1bW4pDQpFdmVudHMuc3Vic2NyaWJlKCJnZW5lcmFsIiwgZnVuY3Rpb24oZ2VuZXJhbCkNCiAgICBsb2NhbCBwcm9maXRzSEsgPSBnZW5lcmFsLnByb2ZpdHNIIC8gMTAwMA0KICAgIHByb2ZpdHNQZXJIOnNldFZhbFRleHQoc3RyaW5nLmZvcm1hdCgiJS4wMWYgay9oIiwgcHJvZml0c0hLKSkNCmVuZCkNCmxvY2FsIHByb2ZpdHNQZXJTSCA9IEtleVZhbEhVRENvbnRhaW5lcigiIiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KICAgIGxvY2FsIHByb2ZpdHNTSEsgPSBnZW5lcmFsLnByb2ZpdHNTSCAvIDEwMDANCiAgICBwcm9maXRzUGVyU0g6c2V0VmFsVGV4dChzdHJpbmcuZm9ybWF0KCIlLjAxZiBrL3NoIiwgcHJvZml0c1NISykpDQplbmQpDQoNCi0tIFRvdGFscw0KRW1wdHlIVURDb250YWluZXIobGVmdENvbHVtbikNCmxvY2FsIGV4cFRvdGFsID0gS2V5VmFsSFVEQ29udGFpbmVyKCJUb3RhbHM6IiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKSANCiAgICBleHBUb3RhbDpzZXRWYWxUZXh0KHN0cmluZy5mb3JtYXQoIiVzIGV4cCIsIGZvcm1hdEdhaW4oZ2VuZXJhbC5nYWluZWRFeHApKSkNCmVuZCkNCmxvY2FsIHByb2ZpdHNUb3RhbCA9IEtleVZhbEhVRENvbnRhaW5lcigiIiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KICAgIHByb2ZpdHNUb3RhbDpzZXRWYWxUZXh0KHN0cmluZy5mb3JtYXQoIiVzIGdwIiwgZm9ybWF0R2FpbihnZW5lcmFsLnRvdGFsUHJvZml0KSkpDQplbmQpDQoNCi0tIFJpZ2h0IENvbHVtbg0KbG9jYWwgcmlnaHRDb2x1bW4gPSBDb250YWluZXJDb250YWluZXIocmlnaHR4LCBIaWRkZW5Db25maWcueUluc2V0KQ0KbG9jYWwgbG9vdCA9IENvbnRhaW5lckNvbnRhaW5lcigwLCAwLCByaWdodENvbHVtbikNCmxvY2FsIHdhc3RlID0gQ29udGFpbmVyQ29udGFpbmVyKDAsIDAsIHJpZ2h0Q29sdW1uKQ0KDQotLSBXYXN0ZQ0KRW1wdHlIVURDb250YWluZXIod2FzdGUpDQpsb2NhbCB3YXN0ZUhlYWRlciA9IEhlYWRlckhVRENvbnRhaW5lcigiV0FTVEUiLCB3YXN0ZSkNCkVtcHR5SFVEQ29udGFpbmVyKHdhc3RlLCAxMCkNCg0KbG9jYWwgd2FzdGVQYXJ0cyA9IENvbnRhaW5lckNvbnRhaW5lcigwLCAwLCB3YXN0ZSkNCkV2ZW50cy5zdWJzY3JpYmUoIm5ld1dhc3RlSURzIiwgZnVuY3Rpb24obmV3aWRzKQ0KICAgIGZvciBfLCBpZCBpbiBpcGFpcnMobmV3aWRzKSBkbw0KICAgICAgICBpZiBub3Qgd2FzdGVQYXJ0cy5jb250YWluZWRJdGVtSURzW2lkXSB0aGVuDQogICAgICAgICAgICBpZiBEYXRhLmR1cmF0aW9uc1tpZF0gdGhlbg0KICAgICAgICAgICAgICAgIEFjdGl2ZVdhc3RlSXRlbUhVRENvbnRhaW5lcihpZCwgd2FzdGVQYXJ0cykNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICBXYXN0ZUl0ZW1IVURDb250YWluZXIoaWQsIHdhc3RlUGFydHMpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIHdhc3RlUGFydHMuY29udGFpbmVkSXRlbUlEc1tpZF0gPSB0cnVlDQogICAgICAgIGVuZA0KICAgIGVuZA0KZW5kKQ0KDQpsb2NhbCB3YXN0ZVN1bSA9IENvbnRhaW5lckNvbnRhaW5lcigwLCAwLCB3YXN0ZSkNCkVtcHR5SFVEQ29udGFpbmVyKHdhc3RlU3VtKQ0KbG9jYWwgdG90YWxXYXN0ZSA9IEtleVZhbEhVRENvbnRhaW5lcigiV2FzdGVkOiIsIHdhc3RlU3VtKQ0KRXZlbnRzLnN1YnNjcmliZSgiZ2VuZXJhbCIsIGZ1bmN0aW9uKGdlbmVyYWwpDQogICAgdG90YWxXYXN0ZTpzZXRWYWxUZXh0KHN0cmluZy5mb3JtYXQoIiVkIGdwIiwgZ2VuZXJhbC50b3RhbFdhc3RlKSkNCmVuZCkNCg0KLS0gTG9vdA0KbG9jYWwgbG9vdEhlYWRlciA9IEhlYWRlckhVRENvbnRhaW5lcigiTE9PVCIsIGxvb3QpDQpFbXB0eUhVRENvbnRhaW5lcih3YXN0ZSwgMTApDQoNCmxvY2FsIGxvb3RQYXJ0cyA9IENvbnRhaW5lckNvbnRhaW5lcigwLCAwLCBsb290KQ0KRXZlbnRzLnN1YnNjcmliZSgibmV3TG9vdElEcyIsIGZ1bmN0aW9uKG5ld2lkcykNCiAgICBmb3IgXywgaWQgaW4gaXBhaXJzKG5ld2lkcykgZG8NCiAgICAgICAgaWYgbm90IGxvb3RQYXJ0cy5jb250YWluZWRJdGVtSURzW2lkXSB0aGVuDQogICAgICAgICAgICBMb290SXRlbUhVRENvbnRhaW5lcihpZCwgbG9vdFBhcnRzKQ0KICAgICAgICAgICAgbG9vdFBhcnRzLmNvbnRhaW5lZEl0ZW1JRHNbaWRdID0gdHJ1ZQ0KICAgICAgICBlbmQNCiAgICBlbmQNCmVuZCkNCg0KbG9jYWwgbG9vdFN1bSA9IENvbnRhaW5lckNvbnRhaW5lcigwLCAwLCBsb290KQ0KRW1wdHlIVURDb250YWluZXIobG9vdFN1bSkNCmxvY2FsIHRvdGFsTG9vdCA9IEtleVZhbEhVRENvbnRhaW5lcigiTG9vdGVkOiIsIGxvb3RTdW0pDQpFdmVudHMuc3Vic2NyaWJlKCJnZW5lcmFsIiwgZnVuY3Rpb24oZ2VuZXJhbCkNCiAgICB0b3RhbExvb3Q6c2V0VmFsVGV4dChzdHJpbmcuZm9ybWF0KCIlZCBncCIsIGdlbmVyYWwudG90YWxMb290KSkNCmVuZCkNCg0KDQpNb2R1bGUoIlJlc2l6ZXIiLCBmdW5jdGlvbihtb2R1bGUpDQogICAgbG9jYWwgbmV3U2NyZWVuID0gSFVELkdldE1haW5XaW5kb3dEaW1lbnNpb25zKCkNCg0KICAgIGxvY2FsIG5ld0xlZnR4ID0gbGVmdFgobmV3U2NyZWVuKQ0KICAgIGlmIG5ld0xlZnR4IH49IGxlZnR4IHRoZW4NCiAgICAgICAgbGVmdHggPSBuZXdMZWZ0eA0KICAgICAgICBsZWZ0Q29sdW1uOm1vdmUobGVmdHgsIEhpZGRlbkNvbmZpZy55SW5zZXQpDQogICAgZW5kDQoNCiAgICBsb2NhbCBuZXdSaWdodHggPSByaWdodFgobmV3U2NyZWVuKQ0KICAgIGlmIG5ld1JpZ2h0eCB+PSByaWdodHggdGhlbg0KICAgICAgICByaWdodHggPSBuZXdSaWdodHgNCiAgICAgICAgcmlnaHRDb2x1bW46bW92ZShyaWdodHgsIEhpZGRlbkNvbmZpZy55SW5zZXQpDQogICAgZW5kDQoNCiAgICBtb2R1bGU6RGVsYXkoMTAwMCkNCmVuZCk=]]></script>
	</control>
</panel>
<panel name="Advertising">
	<control name="watchSellingWords" value="item, item2"/>
	<control name="watchSellingEnable" value="0"/>
	<control name="watchBuyingWords" value="item, item2"/>
	<control name="watchBuyingEnable" value="0"/>
	<control name="blockLinksEnable" value="0"/>
	<control name="reduceSpamEnable" value="0"/>
</panel>
