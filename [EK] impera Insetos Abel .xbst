<panel name="Spell Shooter">
	<control name="shooterList">
		<item spell="exori" rune="3155" srange="1" type="4" reason="2" minhp="0" maxhp="100" mana="10" count="2" creature="monster names" danger="0" targ="1" enabled="1"/>
		<item spell="exori gran" rune="3155" srange="3" type="4" reason="2" minhp="0" maxhp="100" mana="10" count="3" creature="exori gran" danger="0" targ="1" enabled="1"/>
		<item spell="exori gran ico" rune="3155" srange="1" type="4" reason="2" minhp="0" maxhp="100" mana="10" count="1" creature="monster names" danger="0" targ="1" enabled="1"/>
		<item spell="exori ico" rune="3155" srange="6" type="4" reason="2" minhp="0" maxhp="100" mana="10" count="1" creature="monster names" danger="0" targ="1" enabled="1"/>
		<item spell="utito tempo" rune="3155" srange="1" type="4" reason="2" minhp="0" maxhp="100" mana="70" count="2" creature="monster names" danger="0" targ="1" enabled="1"/>
	</control>
</panel>
<panel name="Dynamic Lure">
	<control name="LureList">
	</control>
	<control name="AttackWhileLuring" value="1"/>
</panel>
<panel name="Self Healer">
	<control name="SpellList">
		<item spell="exura ico" mana="0" vcomp="0" vsign="1" vrandom="0" vvalue="40" enabled="1"/>
		<item spell="exura ico" mana="0" vcomp="0" vsign="1" vrandom="0" vvalue="80" enabled="1"/>
		<item spell="exana pox" mana="0" vcomp="1" vsign="3" vrandom="0" vvalue="90" enabled="1"/>
		<item spell="exura gran ico" mana="0" vcomp="0" vsign="1" vrandom="0" vvalue="60" enabled="1"/>
		<item spell="utito tempo" mana="400" vcomp="1" vsign="3" vrandom="0" vvalue="80" enabled="1"/>
	</control>
	<control name="ItemList">
		<item id="7643" vcomp="0" vsign="1" vrandom="0" vvalue="50" enabled="1"/>
		<item id="268" vcomp="0" vsign="3" vrandom="0" vvalue="30" enabled="1"/>
	</control>
</panel>
<panel name="Support">
	<control name="HiHealSpell" value="Exura"/>
	<control name="HiHealHealth" value="90"/>
	<control name="HiHealRange" value="5"/>
	<control name="HiHealMana" value="20"/>
	<control name="HiHealEnable" value="0"/>
	<control name="LoHealSpell" value="Exura Gran"/>
	<control name="LoHealHealth" value="55"/>
	<control name="LoHealPerc" value="5"/>
	<control name="LoHealMana" value="70"/>
	<control name="LoHealEnable" value="0"/>
	<control name="PotHealID" value="266"/>
	<control name="PotHealHealth" value="50"/>
	<control name="PotHealRange" value="5"/>
	<control name="PotHealEnable" value="0"/>
	<control name="ManaRestoreID" value="268"/>
	<control name="ManaRestoreMana" value="50"/>
	<control name="ManaRestoreEnable" value="0"/>
</panel>
<panel name="Frag Helper">
	<control name="HoldTarg" value="1"/>
	<control name="ComboEnable" value="0"/>
</panel>
<panel name="Tools">
	<control name="EnableAntiIdle" value="1"/>
	<control name="EnableEatFood" value="1"/>
	<control name="EnableReconnect" value="0"/>
	<control name="LightEnable" value="0"/>
	<control name="XRayEnable" value="0"/>
	<control name="ShowLookIDs" value="0"/>
	<control name="ShowManaBar" value="0"/>
	<control name="ShowBPInfo" value="0"/>
	<control name="EnableAdvancedInfo" value="0"/>
</panel>
<panel name="Visuals">
	<control name="LightEnable" value="1"/>
	<control name="XRayEnable" value="0"/>
	<control name="ShowLookIDs" value="1"/>
	<control name="ShowManaBar" value="0"/>
	<control name="ShowBPInfo" value="1"/>
	<control name="EnableSmallBPs" value="1"/>
	<control name="EnableAdvancedInfo" value="0"/>
	<control name="ShowCleanWalls" value="0"/>
	<control name="ShowDiagnostics" value="0"/>
</panel>
<panel name="Get Scripts">
</panel>
<panel name="Combo Options">
	<control name="ComboSayLeader" value=""/>
	<control name="ComboSayPhrase" value=""/>
	<control name="ComboSayEnable" value="0"/>
	<control name="ComboShotLeader" value=""/>
	<control name="ComboShotType" value="0"/>
	<control name="ComboShotEnable" value="0"/>
	<control name="ComboExivaLeader" value=""/>
	<control name="ComboExivaEnable" value="0"/>
	<control name="ComboParaWatch" value="0"/>
	<control name="ComboParaEnable" value="0"/>
	<control name="ComboPartyWatch" value="0"/>
	<control name="ComboPartyEnable" value="0"/>
	<control name="ComboAttackSpell" value="Exevo Gran Mas Frigo"/>
	<control name="ComboAttackSpellEnable" value="0"/>
	<control name="ComboAttackRuneID" value="3155"/>
	<control name="ComboAttackRuneEnable" value="0"/>
	<control name="ComboFocusType" value="0"/>
</panel>
<panel name="HUD">
	<control name="HUDItemList">
		<item textColor="9" x="5" y="5" pos="4" checked="0"/>
		<item textColor="8" x="5" y="5" pos="6" checked="0"/>
		<item textColor="7" x="5" y="5" pos="0" checked="0"/>
		<item textColor="6" x="5" y="5" pos="8" checked="0"/>
		<item textColor="4" x="5" y="5" pos="10" checked="0"/>
		<item textColor="13" x="5" y="5" pos="0" checked="0"/>
		<item textColor="13" x="5" y="5" pos="2" checked="0"/>
		<item textColor="0" x="0" y="0" pos="0" checked="1"/>
	</control>
	<control name="HPPercOnClick" value="0"/>
	<control name="MPPercOnClick" value="0"/>
	<control name="MPPercClickEnable" value="0"/>
	<control name="MPPercClickEnable" value="0"/>
</panel>
<panel name="Recent Loot">
	<control name="LootMonsterList">
	</control>
	<control name="DisplaySelectLoot" value="0"/>
	<control name="HideNothingLoot" value="0"/>
</panel>
<panel name="Spell Timers">
	<control name="HUDSpellTimersList">
		<item textColor="9" x="5" y="5" pos="4" checked="1"/>
		<item textColor="8" x="5" y="5" pos="6" checked="1"/>
		<item textColor="7" x="5" y="5" pos="0" checked="1"/>
		<item textColor="6" x="5" y="5" pos="8" checked="1"/>
		<item textColor="4" x="5" y="5" pos="10" checked="1"/>
		<item textColor="13" x="5" y="5" pos="0" checked="1"/>
		<item textColor="13" x="5" y="5" pos="2" checked="1"/>
	</control>
</panel>
<panel name="Kill Counters">
	<control name="KillCounterBox">
	</control>
	<control name="DisplaySelectCounters" value="0"/>
	<control name="DisplayCountRatios" value="0"/>
</panel>
<panel name="Battle Information">
	<control name="ShowTakenDamage" value="1"/>
	<control name="ShowTakenAvgDamage" value="1"/>
	<control name="ShowTakenBurstDamage" value="1"/>
	<control name="ShowDealtDamage" value="1"/>
	<control name="ShowTarget" value="1"/>
	<control name="ShowFollow" value="1"/>
	<control name="ShowExiva" value="1"/>
</panel>
<panel name="Experience Information">
	<control name="ShowHourlyExp" value="1"/>
	<control name="ShowExpTogo" value="1"/>
	<control name="ShowTimeLeft" value="1"/>
</panel>
<panel name="Condition Manager">
	<control name="PoisonCureLimit" value="1"/>
	<control name="PoisonCureMana" value="20"/>
	<control name="PoisonCureEnable" value="1"/>
	<control name="DeathCureLimit" value="10"/>
	<control name="DeathCureMana" value="40"/>
	<control name="DeathCureEnable" value="0"/>
	<control name="PhysicalCureLimit" value="5"/>
	<control name="PhysicalCureMana" value="30"/>
	<control name="PhysicalCureEnable" value="0"/>
	<control name="FireCureLimit" value="20"/>
	<control name="FireCureMana" value="30"/>
	<control name="FireCureEnable" value="0"/>
	<control name="EnergyCureLimit" value="15"/>
	<control name="EnergyCureMana" value="30"/>
	<control name="EnergyCureEnable" value="0"/>
	<control name="ParaCureEnable" value="0"/>
	<control name="ParaCureMana" value="50"/>
	<control name="ParaCureSpell" value="Utani Hur"/>
	<control name="HasteCastMana" value="50"/>
	<control name="HasteCastSpell" value="Utani Hur"/>
	<control name="HasteCastEnable" value="1"/>
	<control name="InvisibleCastMana" value="50"/>
	<control name="InvisibleCastEnable" value="0"/>
	<control name="ShieldCastMana" value="50"/>
	<control name="ShieldCastEnable" value="0"/>
	<control name="RecoveryCastEnable" value="0"/>
	<control name="RecoveryCastType" value="1"/>
	<control name="RecoveryCastMana" value="75"/>
	<control name="RecoveryCheckPzEnable" value="1"/>
</panel>
<panel name="Equipment Manager">
	<control name="AmmoRefillID" value="3450"/>
	<control name="AmmoRefillEnable" value="0"/>
	<control name="WeaponRefillID" value="7368"/>
	<control name="WeaponRefillEnable" value="0"/>
</panel>
<panel name="Targeting">
	<control name="TargetingList" antiks="0">
		<item type="Spidris Elite" chs="0" max="100" min="0" prio="8" prox="7" count="1" elastic="0"/>
		<item type="Spidris" chs="0" max="100" min="0" prio="8" prox="7" count="1" elastic="0"/>
		<item type="Kollos" chs="0" max="100" min="0" prio="7" prox="7" count="1" elastic="0"/>
		<item type="Crawler" chs="0" max="100" min="0" prio="6" prox="7" count="1" elastic="0"/>
		<item type="Insectoid Worker" chs="0" max="100" min="0" prio="6" prox="7" count="1" elastic="0"/>
		<item type="Waspoid" chs="0" max="100" min="0" prio="6" prox="7" count="1" elastic="0"/>
		<item type="Spitter" chs="0" max="100" min="0" prio="6" prox="7" count="1" elastic="0"/>
		<item type="All Creatures" chs="5" max="100" min="0" prio="10" prox="1" count="1" elastic="0"/>
	</control>
</panel>
<panel name="Walker">
	<control name="WaypointList">
		<item text="Inicio:" tag="255"/>
		<item text="Stand (33446, 31316, 9)" tag="1"/>
		<item text="Stand (33443, 31315, 8)" tag="1"/>
		<item text="Dp:" tag="255"/>
		<item text="Stand (33451, 31309, 8)" tag="1"/>
		<item text="Bps:" tag="255"/>
		<item text="wait (2000)" tag="254"/>
		<item text="Banco:" tag="255"/>
		<item text="Node (33447, 31318, 8)" tag="0"/>
		<item text="Stand (33447, 31320, 8)" tag="1"/>
		<item text="Node (33459, 31310, 7)" tag="0"/>
		<item text="Stand (33460, 31307, 7)" tag="1"/>
		<item text="Stand (33458, 31303, 6)" tag="1"/>
		<item text="Shop:" tag="255"/>
		<item text="wait (1000)" tag="254"/>
		<item text="Shop:" tag="255"/>
		<item text="Stand (33457, 31297, 6)" tag="1"/>
		<item text="Node (33457, 31288, 7)" tag="0"/>
		<item text="Node (33466, 31281, 7)" tag="0"/>
		<item text="Node (33477, 31273, 7)" tag="0"/>
		<item text="Node (33493, 31273, 7)" tag="0"/>
		<item text="Node (33511, 31269, 7)" tag="0"/>
		<item text="Node (33528, 31264, 7)" tag="0"/>
		<item text="Node (33541, 31262, 7)" tag="0"/>
		<item text="Node (33546, 31250, 7)" tag="0"/>
		<item text="Node (33545, 31241, 7)" tag="0"/>
		<item text="Node (33531, 31228, 7)" tag="0"/>
		<item text="Node (33536, 31217, 7)" tag="0"/>
		<item text="Node (33519, 31210, 7)" tag="0"/>
		<item text="Stand (33519, 31209, 7)" tag="1"/>
		<item text="Node (33511, 31203, 6)" tag="0"/>
		<item text="Node (33507, 31195, 6)" tag="0"/>
		<item text="Node (33502, 31197, 6)" tag="0"/>
		<item text="Node (33493, 31203, 6)" tag="0"/>
		<item text="Node (33488, 31207, 6)" tag="0"/>
		<item text="Node (33482, 31201, 6)" tag="0"/>
		<item text="Stand (33482, 31200, 6)" tag="1"/>
		<item text="Hunt:" tag="255"/>
		<item text="Node (33482, 31199, 5)" tag="0"/>
		<item text="Node (33484, 31206, 5)" tag="0"/>
		<item text="Node (33500, 31202, 5)" tag="0"/>
		<item text="Node (33515, 31206, 5)" tag="0"/>
		<item text="Node (33523, 31201, 5)" tag="0"/>
		<item text="Node (33529, 31206, 5)" tag="0"/>
		<item text="Node (33512, 31215, 5)" tag="0"/>
		<item text="Node (33522, 31221, 5)" tag="0"/>
		<item text="Node (33529, 31221, 5)" tag="0"/>
		<item text="Node (33537, 31218, 5)" tag="0"/>
		<item text="Node (33520, 31218, 5)" tag="0"/>
		<item text="Node (33512, 31214, 5)" tag="0"/>
		<item text="Node (33517, 31207, 5)" tag="0"/>
		<item text="Node (33526, 31202, 5)" tag="0"/>
		<item text="Node (33532, 31197, 5)" tag="0"/>
		<item text="Node (33529, 31185, 5)" tag="0"/>
		<item text="Node (33523, 31185, 5)" tag="0"/>
		<item text="Node (33522, 31192, 5)" tag="0"/>
		<item text="Node (33514, 31189, 5)" tag="0"/>
		<item text="Node (33511, 31180, 5)" tag="0"/>
		<item text="Node (33519, 31172, 5)" tag="0"/>
		<item text="Node (33508, 31175, 5)" tag="0"/>
		<item text="Node (33512, 31184, 5)" tag="0"/>
		<item text="Node (33503, 31189, 5)" tag="0"/>
		<item text="Node (33491, 31190, 5)" tag="0"/>
		<item text="Node (33494, 31184, 5)" tag="0"/>
		<item text="Node (33518, 31194, 5)" tag="0"/>
		<item text="Stand (33518, 31193, 5)" tag="1"/>
		<item text="Node (33512, 31188, 4)" tag="0"/>
		<item text="Node (33498, 31180, 4)" tag="0"/>
		<item text="Node (33497, 31191, 4)" tag="0"/>
		<item text="Node (33491, 31188, 4)" tag="0"/>
		<item text="Node (33495, 31198, 4)" tag="0"/>
		<item text="Node (33501, 31198, 4)" tag="0"/>
		<item text="Node (33506, 31204, 4)" tag="0"/>
		<item text="Node (33495, 31210, 4)" tag="0"/>
		<item text="Node (33505, 31204, 4)" tag="0"/>
		<item text="Node (33495, 31198, 4)" tag="0"/>
		<item text="Node (33509, 31185, 4)" tag="0"/>
		<item text="Node (33522, 31185, 4)" tag="0"/>
		<item text="Node (33528, 31181, 4)" tag="0"/>
		<item text="Node (33518, 31198, 4)" tag="0"/>
		<item text="Node (33513, 31206, 4)" tag="0"/>
		<item text="Node (33506, 31215, 4)" tag="0"/>
		<item text="Node (33513, 31219, 4)" tag="0"/>
		<item text="Node (33513, 31219, 4)" tag="0"/>
		<item text="Node (33519, 31210, 4)" tag="0"/>
		<item text="Node (33518, 31219, 4)" tag="0"/>
		<item text="Node (33520, 31201, 4)" tag="0"/>
		<item text="Node (33537, 31203, 4)" tag="0"/>
		<item text="Node (33542, 31200, 4)" tag="0"/>
		<item text="Node (33539, 31217, 4)" tag="0"/>
		<item text="Node (33533, 31213, 4)" tag="0"/>
		<item text="Node (33527, 31221, 4)" tag="0"/>
		<item text="Node (33536, 31214, 4)" tag="0"/>
		<item text="Node (33534, 31206, 4)" tag="0"/>
		<item text="Node (33520, 31200, 4)" tag="0"/>
		<item text="Node (33518, 31194, 4)" tag="0"/>
		<item text="Stand (33518, 31193, 4)" tag="1"/>
		<item text="Node (33522, 31189, 5)" tag="0"/>
		<item text="Node (33527, 31204, 5)" tag="0"/>
		<item text="Node (33513, 31204, 5)" tag="0"/>
		<item text="Node (33502, 31208, 5)" tag="0"/>
		<item text="Node (33486, 31205, 5)" tag="0"/>
		<item text="Node (33482, 31199, 5)" tag="0"/>
		<item text="Check:" tag="255"/>
		<item text="City:" tag="255"/>
		<item text="SLure" tag="6"/>
		<item text="Stand (33482, 31200, 5)" tag="1"/>
		<item text="Node (33487, 31205, 6)" tag="0"/>
		<item text="Node (33498, 31211, 6)" tag="0"/>
		<item text="Node (33514, 31213, 6)" tag="0"/>
		<item text="Node (33493, 31202, 6)" tag="0"/>
		<item text="Node (33510, 31197, 6)" tag="0"/>
		<item text="Node (33512, 31204, 6)" tag="0"/>
		<item text="Node (33519, 31208, 6)" tag="0"/>
		<item text="Stand (33519, 31209, 6)" tag="1"/>
		<item text="Node (33538, 31218, 7)" tag="0"/>
		<item text="Node (33532, 31232, 7)" tag="0"/>
		<item text="Node (33548, 31258, 7)" tag="0"/>
		<item text="Node (33522, 31261, 7)" tag="0"/>
		<item text="Node (33506, 31259, 7)" tag="0"/>
		<item text="Node (33495, 31265, 7)" tag="0"/>
		<item text="Node (33483, 31273, 7)" tag="0"/>
		<item text="Node (33468, 31280, 7)" tag="0"/>
		<item text="Node (33457, 31291, 7)" tag="0"/>
		<item text="Stand (33457, 31295, 7)" tag="1"/>
		<item text="Stand (33457, 31297, 7)" tag="1"/>
		<item text="Node (33458, 31302, 6)" tag="0"/>
		<item text="Stand (33458, 31301, 6)" tag="1"/>
		<item text="Sell 2:" tag="255"/>
		<item text="Stand (33458, 31301, 6)" tag="1"/>
		<item text="Sell 1:" tag="255"/>
		<item text="Node (33460, 31306, 6)" tag="0"/>
		<item text="Stand (33460, 31307, 6)" tag="1"/>
		<item text="Node (33445, 31320, 7)" tag="0"/>
		<item text="Stand (33446, 31320, 7)" tag="1"/>
		<item text="Node (33446, 31317, 8)" tag="0"/>
		<item text="Stand (33446, 31316, 8)" tag="1"/>
		<item text="Bps:" tag="255"/>
		<item text="wait (1000)" tag="254"/>
	</control>
</panel>
<panel name="Walker Options">
	<control name="ropeOption" value="0"/>
	<control name="shovelOption" value="0"/>
</panel>
<panel name="Looter">
	<control name="LootList" mode="0" minimum="0" maximum="0" skinner="0" unlisted="1">
		<item ID="3554" action="1" deposit="0"/>
		<item ID="14088" action="1" deposit="0"/>
		<item ID="14087" action="1" deposit="0"/>
		<item ID="14089" action="1" deposit="0"/>
		<item ID="14086" action="1" deposit="0"/>
		<item ID="3031" action="0" deposit="0"/>
		<item ID="3035" action="0" deposit="0"/>
		<item ID="266" action="21" deposit="0"/>
		<item ID="3032" action="1" deposit="0"/>
		<item ID="9057" action="1" deposit="0"/>
		<item ID="3027" action="1" deposit="0"/>
		<item ID="14078" action="1" deposit="0"/>
		<item ID="14080" action="1" deposit="0"/>
		<item ID="14081" action="1" deposit="0"/>
		<item ID="14076" action="1" deposit="0"/>
		<item ID="14083" action="1" deposit="0"/>
		<item ID="14225" action="1" deposit="0"/>
		<item ID="14079" action="1" deposit="0"/>
		<item ID="14077" action="1" deposit="0"/>
		<item ID="9058" action="1" deposit="0"/>
		<item ID="3030" action="1" deposit="0"/>
		<item ID="14249" action="16" deposit="0"/>
		<item ID="3036" action="1" deposit="1"/>
		<item ID="281" action="1" deposit="1"/>
		<item ID="3326" action="1" deposit="1"/>
		<item ID="3055" action="1" deposit="1"/>
	</control>
</panel>
<panel name="Pathfinder">
	<control name="walkOnFireEnable" value="1"/>
	<control name="walkOnFurnitureEnable" value="1"/>
	<control name="walkOnMaroonGround" value="0"/>
	<control name="pathThroughRangedCreatures" value="0"/>
	<control name="walkWithMapclicks" value="0"/>
</panel>
<panel name="Mount">
</panel>
<panel name="Special Areas">
	<control name="AreaList">
	</control>
</panel>
<panel name="Alarms">
	<control name="disAlarm" value="0"/>
	<control name="damAlarm" value="0"/>
	<control name="lhpAlarm" value="0"/>
	<control name="lhpAlarmPercent" value="50"/>
	<control name="pmAlarm" value="1"/>
	<control name="creatureAlarm" value="0"/>
	<control name="attackAlarm" value="0"/>
	<control name="attackAlarmYellow" value="1"/>
	<control name="playerAlarm" value="0"/>
	<control name="playerAlarmLog" value="0"/>
	<control name="stuckAlarm" value="0"/>
	<control name="burstAlarm" value="0"/>
	<control name="burstAlarmPercent" value="500"/>
	<control name="averageAlarm" value="0"/>
	<control name="averageAlarmPercent" value="200"/>
	<control name="alarmPartyIgnore" value="0"/>
</panel>
<panel name="Scripter">
	<control name="RunningScriptList">
		<script name="Transforma gold.lua"><![CDATA[ZnVuY3Rpb24gdXNlQ29pbnMoaWQpICANCiAgICBsb2NhbCBjb250ID0gQ29udGFpbmVyLkdldEZpcnN0KCkgIA0KDQogICAgd2hpbGUgKGNvbnQ6aXNPcGVuKCkpIGRvICANCiAgICAgICAgZm9yIHNwb3QgPSAwLCBjb250Okl0ZW1Db3VudCgpIGRvICANCiAgICAgICAgICAgIGxvY2FsIGl0ZW0gPSBjb250OkdldEl0ZW1EYXRhKHNwb3QpICANCiAgICAgICAgICAgIGlmIChpdGVtLmlkID09IGlkKSB0aGVuICANCiAgICAgICAgICAgICAgICBpZiAoaXRlbS5jb3VudCA9PSAxMDApIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgY29udDpVc2VJdGVtKHNwb3QsIFRydWUpDQogICAgICAgICAgICAgICAgICAgIHNsZWVwKDEwMCkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZCAgDQogICAgICAgIGVuZCAgDQoNCiAgICAgICAgY29udCA9IGNvbnQ6R2V0TmV4dCgpICANCiAgICBlbmQgIA0KICAgICANCiAgICByZXR1cm4gZmFsc2UgIA0KZW5kICANCg0Kd2hpbGUgKHRydWUpIGRvDQogICAgdXNlQ29pbnMoMzAzMSktLWdvbGQNCiAgICBzbGVlcCg1MDApDQogICAgdXNlQ29pbnMoMzAzNSktLXBsYXRpbnVtDQogICAgc2xlZXAoNTAwKQ0KZW5k]]></script>
		<script name="ant red.lua"><![CDATA[R2VuZXJpY1RleHRNZXNzYWdlUHJveHkuT25SZWNlaXZlKCIiLCBmdW5jdGlvbihwcm94eSwgbWVzc2FnZSkNCmlmIChzdHJpbmcuZmluZChzdHJpbmcubG93ZXIobWVzc2FnZSksICJ0aGUgbXVyZGVyIG9mIikpIHRoZW4NCm9zLmV4aXQoKQ0KZW5kDQplbmQp]]></script>
		<script name="SolarysHUD.lua"><![CDATA[SGlkZGVuQ29uZmlnID0NCnsNCiAgICBwYW5lbFdpZHRoID0gMjAwLA0KICAgIHRpbWVUaWNrID0gMSwNCiAgICB5SW5zZXQgPSAzMCwNCiAgICB4RGVzY1dpZHRoID0gMTQ1LA0KICAgIHhUaXRsZUluc2V0ID0gNjAsDQogICAgeEhlYWRlckluc2V0ID0gODAsDQogICAgeEltYWdlT2Zmc2V0ID0gLTI1LA0KICAgIHlJbWFnZU9mZnNldCA9IC01LA0KICAgIHlTdGFuZGFyZEhlaWdodCA9IDE1LA0KICAgIGltYWdlU2l6ZSA9IDI1LA0KICAgIGhlYWRlckNvbG9yID0ge3I9MjUwLCBnPTAsIGI9MH0sDQogICAga2V5Q29sb3IgICAgPSB7cj0yNTAsIGc9MCwgYj0wfSwNCiAgICB2YWxDb2xvciAgICA9IHtyPTI1MCwgZz0wLCBiPTB9LA0KICAgIGdvbGRDaGFuZ2VMaW1pdCA9IDMwMCwNCiAgICBzdGFja2FibGVDaGFuZ2VMaW1pdCA9IDEwLA0KICAgIG5vblN0YWNrYWJsZUNoYW5nZUxpbWl0ID0gMywNCiAgICBXYXN0ZU1vZCA9IDEwMDAwLA0KfQ0KDQpDb25maWcgPSAoZnVuY3Rpb24oKQ0KICAgIGxvY2FsIG1hcmtldFByaWNlcyA9IHt9DQoNCiAgICBsb2NhbCBmdW5jdGlvbiBnZXRNYXJrZXRQcmljZShpdGVtKQ0KICAgICAgICBsb2NhbCBpZCA9IEl0ZW0uR2V0SXRlbUlERnJvbUR1YWxJbnB1dChpdGVtKQ0KICAgICAgICByZXR1cm4gbWFya2V0UHJpY2VzW2lkXQ0KICAgIGVuZA0KDQp3YWl0KDE5MCkNCiAgICBsb2NhbCBmdW5jdGlvbiBmaWxlRXhpc3RzKG5hbWUpDQogICAgICAgIGxvY2FsIGYgPSBpby5vcGVuKG5hbWUpDQogICAgICAgIGlmIG5vdCBmIHRoZW4NCiAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICBlbmQNCiAgICAgICAgZjpjbG9zZSgpDQogICAgICAgIHJldHVybiB0cnVlDQogICAgZW5kDQoNCg0KICAgIGxvY2FsIGNvbmZpZ1RleHQgPSBbWw0KLS0gQWNjdXJhdGUgbWFya2V0IHByaWNlcyBhcmUgbmVjZXNzYXJ5IGZvciBjb3JyZWN0IHByb2ZpdHMgY2FsY3VsYXRpb25zLg0KLS0gU29tZSBleGFtcGxlcyBoYXZlIGJlZW4gcHJvdmlkZWQgdG8gZGVtb25zdHJhdGUgdGhlIGZvcm1hdCwgYnV0IHlvdSBzaG91bGQgcHJvYmFibHkgZWRpdCB0aGVtIHRvIGZpdCB5b3VyIHdvcmxkLg0KTWFya2V0UHJpY2VzID0gew0KICAgIFsic3dvcmQgcmluZyJdID0gNTAwLA0KICAgIFsiZ3JlYXQgaGVhbHRoIHBvdGlvbiJdID0gMTUwLA0KICAgIFsibGlmZSByaW5nIl0gPSA5MDAsDQogICAgWyJzcGlkZXIgc2lsayJdID0gNzAwMCwNCn1dXQ0KICAgIGxvY2FsIGNvbmZpZ05hbWUgPSAiLi4vQ29uZmlncy9Tb2xhcnlzSFVELmluaSINCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGxvYWRDb25maWcoKQ0KICAgICAgICAtLSBJZiB0aGUgY29uZmlnIGZpbGUgZG9lcyBub3QgZXhpc3QsIGNyZWF0ZSBpdA0KICAgICAgICBpZiBub3QgZmlsZUV4aXN0cyhjb25maWdOYW1lKSB0aGVuDQogICAgICAgICAgICBsb2NhbCBmID0gaW8ub3Blbihjb25maWdOYW1lLCAidysiKQ0KICAgICAgICAgICAgaWYgZiB0aGVuDQogICAgICAgICAgICAgICAgZjp3cml0ZShjb25maWdUZXh0KQ0KICAgICAgICAgICAgICAgIGY6Y2xvc2UoKQ0KICAgICAgICAgICAgICAgIGxvY2FsIG5vQ29uZmlnTXNnID0gIkVkaXRlZCBCeSBFZHVTY3JpcHRzIg0KICAgICAgICAgICAgICAgIHByaW50KG5vQ29uZmlnTXNnKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KDQogICAgICAgIGRvZmlsZShjb25maWdOYW1lKQ0KDQogICAgICAgIGZvciBuYW1lLCBwcmljZSBpbiBwYWlycyhNYXJrZXRQcmljZXMpIGRvDQogICAgICAgICAgICBtYXJrZXRQcmljZXNbSXRlbS5HZXRJRChuYW1lKV0gPSBwcmljZQ0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIHJldHVybg0KICAgIHsNCiAgICAgICAgZ2V0TWFya2V0UHJpY2UgPSBnZXRNYXJrZXRQcmljZSwNCiAgICAgICAgbG9hZENvbmZpZyA9IGxvYWRDb25maWcsDQogICAgfQ0KZW5kKSgpDQoNCkRhdGEgPSAoZnVuY3Rpb24oKSANCiAgICBsb2NhbCB3b3JuU29mdElEID0gNjUzMA0KICAgIGxvY2FsIGFjdGl2ZVNvZnRJRCA9IDM1NDkNCiAgICBsb2NhbCBwYXNzaXZlU29mdElEID0gNjUyOQ0KICAgICAgICANCiAgICBsb2NhbCBkdXJhdGlvbnMgPSANCiAgICB7DQogICAgICAgIFtJdGVtLkdldElEKCJTd29yZCBSaW5nIildID0gMzAgKiA2MCwNCiAgICAgICAgW0l0ZW0uR2V0SUQoIkNsdWIgUmluZyIpXSA9IDMwICogNjAsDQogICAgICAgIFtJdGVtLkdldElEKCJBeGUgUmluZyIpXSA9IDMwICogNjAsDQogICAgICAgIFtJdGVtLkdldElEKCJFbmVyZ3kgUmluZyIpXSA9IDEwICogNjAsDQogICAgICAgIFtJdGVtLkdldElEKCJTdGVhbHRoIFJpbmciKV0gPSAxMCAqIDYwLA0KICAgICAgICBbSXRlbS5HZXRJRCgiTGlmZSBSaW5nIildID0gMjAgKiA2MCwNCiAgICAgICAgW0l0ZW0uR2V0SUQoIlJpbmcgb2YgSGVhbGluZyIpXSA9IDcuNSAqIDYwLA0KICAgICAgICBbSXRlbS5HZXRJRCgiUHJpc21hdGljIFJpbmciKV0gPSA2MCAqIDYwLA0KICAgICAgICBbSXRlbS5HZXRJRCgiVGltZSBSaW5nIildID0gMTAgKiA2MCwNCiAgICB9DQoNCiAgICAtLSBUcmFuc2xhdGlvbiBtYXAgZm9yIGdldHRpbmcgdGhlIHBhc3NpdmUgaWQgZnJvbSBhbiBhY3RpdmUgaWQNCiAgICBsb2NhbCBwYXNzaXZlSURzID0ge1thY3RpdmVTb2Z0SURdID0gcGFzc2l2ZVNvZnRJRCwgW3dvcm5Tb2Z0SURdID0gcGFzc2l2ZVNvZnRJRH0NCiAgICBmb3IgcGFzc2l2ZSwgXyBpbiBwYWlycyhkdXJhdGlvbnMpIGRvDQogICAgICAgIHBhc3NpdmVJRHNbSXRlbS5HZXRSaW5nQWN0aXZlSUQocGFzc2l2ZSldID0gcGFzc2l2ZQ0KICAgIGVuZA0KDQogICAgLS0gQWRkIHRoZSBzb2Z0IGJvb3RzIGR1cmF0aW9uIGFmdGVyIGRvaW5nIHRoZSByaW5nIHRyYW5zbGF0aW9ucw0KICAgIGR1cmF0aW9uc1twYXNzaXZlU29mdElEXSA9IDQgKiA2MCAqIDYwDQoNCg0KICAgIC0tIElmIHdlIGxvb3Qgb25lIG9mIHRoZXNlIGl0ZW1zIHNvbWV0aGluZyBmaXNoeSBpcyBnb2luZyBvbiwgc28gaW52YWxpZGF0ZSB0aGUgd2hvbGUgY291bnQuDQogICAgbG9jYWwgaW52YWxpZGF0aW9uSURzID0gDQogICAgew0KICAgICAgICBJdGVtLkdldElEKCJzaG92ZWwiKSwNCiAgICAgICAgSXRlbS5HZXRJRCgibGlnaHQgc2hvdmVsIiksDQogICAgICAgIEl0ZW0uR2V0SUQoInJvcGUiKSwNCiAgICAgICAgSXRlbS5HZXRJRCgiZWx2ZW5oYWlyIHJvcGUiKSwNCiAgICAgICAgSXRlbS5HZXRJRCgiZmlzaGluZyByb2QiKSwNCiAgICAgICAgU29mdElELA0KICAgICAgICBXb3JuU29mdElELA0KICAgICAgICBQYXNzaXZlU29mdElEDQogICAgfQ0KDQogICAgLS0gVGhlc2UgYXJlIGl0ZW1zIHdob3NlIGNvdW50IG1heSBkZWNyZWFzZSwgYW5kIHNob3VsZCB0aGVuIGJlIGNvdW50ZWQgYXMgd2FzdGUNCiAgICBsb2NhbCBzdXBwbGllcyA9IA0KICAgIHsNCiAgICAgICAgLS0gQXJyb3dzDQogICAgICAgIFtJdGVtLkdldElEKCJhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJidXJzdCBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJjcnlzdGFsbGluZSBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJlYXJ0aCBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJlbnZlbm9tZWQgYXJyb3ciKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgiZmxhbWluZyBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJmbGFzaCBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJvbnl4IGFycm93IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInBvaXNvbiBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJzaGl2ZXIgYXJyb3ciKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgic2ltcGxlIGFycm93IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInNuaXBlciBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJ0YXJzYWwgYXJyb3ciKV0gPSB0cnVlLA0KDQogICAgICAgIC0tIEJvbHRzDQogICAgICAgIFtJdGVtLkdldElEKCJib2x0IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoImRyaWxsIGJvbHQiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgiaW5mZXJuYWwgYm9sdCIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJwaWVyY2luZyBib2x0IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInBvd2VyIGJvbHQiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgicHJpc21hdGljIGJvbHQiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgidm9ydGV4IGJvbHQiKV0gPSB0cnVlLA0KDQogICAgICAgIC0tIFRocm93aW5nIHdlYXBvbnMNCiAgICAgICAgW0l0ZW0uR2V0SUQoImVuY2hhbnRlZCBzcGVhciIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJnbG9vdGggc3BlYXIiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgiaHVudGluZyBzcGVhciIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJtZWFuIHBhbGFkaW4gc3BlYXIiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgicm95YWwgc3BlYXIiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgic3BlYXIiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgiYXNzYXNzaW4gc3RhciIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJzbm93YmFsbCIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJzbWFsbCBzdG9uZSIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJ0aHJvd2luZyBrbmlmZSIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJ0aHJvd2luZyBzdGFyIildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInZpcGVyIHN0YXIiKV0gPSB0cnVlLA0KDQogICAgICAgIC0tIEFtdWxldHMNCiAgICAgICAgW0l0ZW0uR2V0SUQoImdpbGwgbmVja2xhY2UiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgicHJpc21hdGljIG5lY2tsYWNlIildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInByb3RlY3Rpb24gYW11bGV0IildID0gdHJ1ZSwNCg0KICAgICAgICAtLSBNaXNjDQogICAgICAgIFtJdGVtLkdldElEKCJzY2FyYWIgY29pbiIpXSA9IHRydWUsDQogICAgfQ0KDQogICAgbG9jYWwgc3VwcGx5UGF0dGVybnMgPSANCiAgICB7DQogICAgICAgICJydW5lIiwNCiAgICAgICAgIm1hbmEiLA0KICAgICAgICAiaGVhbHRoIiwNCiAgICAgICAgInNwaXJpdCBwb3Rpb24iLA0KICAgIH0NCiAgICAgICAgICAgICAgICBwcmludCgiQnkgRWR1IFNvbGFyeXMiKQ0KICAgIGxvY2FsIGZ1bmN0aW9uIGlzU3VwcGx5KGl0ZW0pDQogICAgICAgIGxvY2FsIG5hbWUgPSBJdGVtLkdldE5hbWUoaXRlbSk6bG93ZXIoKQ0KICAgICAgICBsb2NhbCBtYXRjaGVzU3VwcGx5UGF0dGVybiA9IGZhbHNlDQogICAgICAgIGZvciBfLCBwYXR0ZXJuIGluIGlwYWlycyhzdXBwbHlQYXR0ZXJucykgZG8NCiAgICAgICAgICAgIG1hdGNoZXNTdXBwbHlQYXR0ZXJuID0gbWF0Y2hlc1N1cHBseVBhdHRlcm4gb3IgbmFtZTptYXRjaChwYXR0ZXJuKQ0KICAgICAgICBlbmQNCg0KICAgICAgICBsb2NhbCBpZCA9IEl0ZW0uR2V0SXRlbUlERnJvbUR1YWxJbnB1dChpdGVtKQ0KICAgICAgICByZXR1cm4gbWF0Y2hlc1N1cHBseVBhdHRlcm4gb3Igc3VwcGxpZXNbaWRdDQogICAgZW5kDQoNCg0KICAgIGZ1bmN0aW9uIGdldENvc3QoaWQpDQogICAgICAgIGxvY2FsIHNob3BDb3N0ID0gSXRlbS5HZXRDb3N0KGlkKQ0KICAgICAgICByZXR1cm4gaWQgPT0gcGFzc2l2ZVNvZnRJRCBhbmQgMTAwMDAgb3IgKHNob3BDb3N0ID09IDAgYW5kIENvbmZpZy5nZXRNYXJrZXRQcmljZShpZCkgb3Igc2hvcENvc3QpDQogICAgZW5kDQoNCiAgICBmdW5jdGlvbiBnZXRWYWx1ZShpZCkNCiAgICAgICAgcmV0dXJuIENvbmZpZy5nZXRNYXJrZXRQcmljZShpZCkgb3IgKGlzU3VwcGx5KGlkKSBhbmQgZ2V0Q29zdChpZCkpIG9yIEl0ZW0uR2V0VmFsdWUoaWQpDQogICAgZW5kDQoNCg0KICAgIHJldHVybiANCiAgICB7DQogICAgICAgIHdvcm5Tb2Z0SUQgPSB3b3JuU29mdElELA0KICAgICAgICBhY3RpdmVTb2Z0SUQgPSBhY3RpdmVTb2Z0SUQsDQogICAgICAgIHBhc3NpdmVTb2Z0SUQgPSBwYXNzaXZlU29mdElELA0KDQogICAgICAgIGR1cmF0aW9ucyA9IGR1cmF0aW9ucywNCiAgICAgICAgcGFzc2l2ZUlEcyA9IHBhc3NpdmVJRHMsDQogICAgICAgIGludmFsaWRhdGlvbklEcyA9IGludmFsaWRhdGlvbklEcywNCg0KICAgICAgICBpc1N1cHBseSA9IGlzU3VwcGx5LA0KICAgICAgICBnZXRDb3N0ID0gZ2V0Q29zdCwNCiAgICAgICAgZ2V0VmFsdWUgPSBnZXRWYWx1ZSwNCiAgICB9DQplbmQpKCkNCiBIVUQuTmV3KDIsIDQxNSwgInwgIiAuLiBTZWxmLk5hbWUoKSAuLiAiIHwiLCAyNSwgMjUwLCAyMTApDQpIVUQuTmV3KDIsIDQzNSwgInwgU29sYXJ5cyBDYXZlQm90cyB8IiwgMjUwLCAyNTAsIDI1MCkgICAgDQpIVUREYXRhID0gKGZ1bmN0aW9uKCkNCiAgICAtLSBJbml0aWFsIGRhdGENCiAgICBsb2NhbCBzdGFydFRpbWUgPSBvcy50aW1lKCkNCiAgICBsb2NhbCBzdGFydEV4cCA9IFNlbGYuRXhwZXJpZW5jZSgpDQogICAgbG9jYWwgc3RhcnRTdGFtaW5hID0gU2VsZi5TdGFtaW5hKCkNCg0KICAgIC0tIFRoZSBkYXRhIHRoYXQgd2lsbCBiZSB2aXNpYmxlIHRvIHRoZSByZXN0IG9mIHRoZSBIVUQNCiAgICBsb2NhbCBkYXRhID0geyBjb3VudHNBcmVWYWxpZCA9IHRydWUsIGdlbmVyYWwgPSB7IGxhc3RUaWNrID0gb3MudGltZSgpIH0gfQ0KICAgIC0tIFRoZSBmdW5jdGlvbnMgdGhhdCB1cGRhdGUgdGhlIGRhdGEsIGluIHRoZSBvcmRlciB0aGV5IHdpbGwgYmUgY2FsbGVkLg0KICAgIGxvY2FsIHVwZGF0ZUZ1bmN0aW9ucyA9IHt9DQoNCiAgICAtLSBIZWxwZXIgZnVuY3Rpb25zIGFuZCB0aGVpciBhY2N1bXVsYXRpdmUgZGF0YQ0KICAgIGRhdGEuZ2VuZXJhbC5iYWxhbmNlID0gMA0KICAgIE5wY01lc3NhZ2VQcm94eS5PblJlY2VpdmUoIkdldHMgQmFuayBCYWxhbmNlIiwgZnVuY3Rpb24ocHJveHksIG5wY05hbWUsIG1lc3NhZ2UpDQogICAgICAgIGxvY2FsIGJhbGFuY2UgPSBzdHJpbmcubWF0Y2gobWVzc2FnZSwgIllvdXIgYWNjb3VudCBiYWxhbmNlIGlzICguKykgZ29sZC4iKQ0KICAgICAgICBpZiBiYWxhbmNlIGFuZCB0b251bWJlcihiYWxhbmNlKSB0aGVuDQogICAgICAgICAgICBkYXRhLmdlbmVyYWwuYmFsYW5jZSA9IHRvbnVtYmVyKGJhbGFuY2UpDQogICAgICAgIGVuZA0KICAgIGVuZCkNCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGlzRW1wdHlGbGFzayhpZCkNCiAgICAgICAgcmV0dXJuIHRhYmxlLmZpbmQoezI4MywgMjg0LCAyODV9LCBpZCkNCiAgICBlbmQNCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGlnbm9yZUl0ZW0oaWQpDQogICAgICAgIHJldHVybiBpZCA9PSAwIG9yIGlzRW1wdHlGbGFzayhpZCkgb3IgSXRlbS5pc0NvbnRhaW5lcihpZCkNCiAgICBlbmQNCiAgICANCiAgICBsb2NhbCBjb3Jwc2VOYW1lcyA9IHsidGhlIiwgImRlbW9uaWMiLCAiZGVhZCIsICJzbGFpbiIsICJkaXNzb2x2ZWQiLCAicmVtYWlucyIsICJlbGVtZW50YWwiLCAic3BsaXQifQ0KICAgIGxvY2FsIGZ1bmN0aW9uIGlzQ29ycHNlKGNvbnQpDQogICAgICAgIGlmIEl0ZW0uaXNDb3Jwc2UoY29udDpJRCgpKSB0aGVuIHJldHVybiB0cnVlIGVuZA0KICAgICAgICBsb2NhbCBuYW1lID0gY29udDpOYW1lKCk6bG93ZXIoKQ0KICAgICAgICBmb3IgXywgQ1BhcnROYW1lIGluIGlwYWlycyhjb3Jwc2VOYW1lcykgZG8NCiAgICAgICAgICAgIGlmIG5hbWU6ZmluZChDUGFydE5hbWUpIHRoZW4NCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICBlbmQNCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGNvdW50SXRlbXMoKQ0KICAgICAgICBuZXdDb3VudHMgPSB7fQ0KICAgICAgICANCiAgICAgICAgdmVyeVVuc2FmZUZ1bmN0aW9uRW50ZXJDcml0aWNhbE1vZGUoKQ0KICAgICAgICANCiAgICAgICAgLS0gQ291bnQgZXF1aXBwZWQNCiAgICAgICAgbG9jYWwgc2xvdHMgPSB7U2VsZi5IZWFkLCBTZWxmLkFybW9yLCBTZWxmLkxlZ3MsIFNlbGYuQW11bGV0LCBTZWxmLkZlZXQsIFNlbGYuUmluZywgU2VsZi5XZWFwb24sIFNlbGYuU2hpZWxkLCBTZWxmLkFtbW99DQogICAgICAgIGZvciBpID0gMSwgI3Nsb3RzIGRvDQogICAgICAgICAgICBsb2NhbCBzbG90ID0gc2xvdHNbaV0oKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiBub3QgaWdub3JlSXRlbShzbG90LmlkKSB0aGVuDQogICAgICAgICAgICAgICAgbmV3Q291bnRzW3Nsb3QuaWRdID0gKG5ld0NvdW50c1tzbG90LmlkXSBvciAwKSArICBtYXRoLm1heChzbG90LmNvdW50LCAxKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICANCiAgICAgICAgLS0gQ291bnQgaW4gYmFja3BhY2tzDQogICAgICAgIGZvciBpID0gMCwgMTYgZG8NCiAgICAgICAgICAgIGxvY2FsIGNvbnQgPSBDb250YWluZXIoaSkNCiAgICAgICAgICAgIGlmIGNvbnQ6aXNPcGVuKCkgYW5kIG5vdCBpc0NvcnBzZShjb250KSBhbmQgY29udDpOYW1lKCkgfj0gIkJyb3dzZSBGaWVsZCIgdGhlbg0KICAgICAgICAgICAgICAgIGZvciBzcG90ID0gMCwgY29udDpJdGVtQ291bnQoKSAtIDEgZG8NCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgaXRlbSA9IGNvbnQ6R2V0SXRlbURhdGEoc3BvdCkNCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGlnbm9yZUl0ZW0oaXRlbS5pZCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q291bnRzW2l0ZW0uaWRdID0gKG5ld0NvdW50c1tpdGVtLmlkXSBvciAwKSArIGl0ZW0uY291bnQNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQoNCiAgICAgICAgdmVyeVVuc2FmZUZ1bmN0aW9uRXhpdENyaXRpY2FsTW9kZSgpDQogICAgICAgIA0KICAgICAgICAtLSBIYW5kbGUgY2hhbmdpbmcgcmluZyBhbmQgZmVldCBpZHMNCiAgICAgICAgZm9yIGFjdGl2ZUlELCBwYXNzaXZlSUQgaW4gcGFpcnMoRGF0YS5wYXNzaXZlSURzKSBkbw0KICAgICAgICAgICAgbmV3Q291bnRzW3Bhc3NpdmVJRF0gPSAobmV3Q291bnRzW3Bhc3NpdmVJRF0gb3IgMCkgKyAobmV3Q291bnRzW2FjdGl2ZUlEXSBvciAwKQ0KICAgICAgICAgICAgbmV3Q291bnRzW2FjdGl2ZUlEXSA9IG5pbA0KICAgICAgICBlbmQNCg0KICAgICAgICAtLSBIYW5kbGUgd29ybiBzb2Z0IGJvb3RzDQogICAgICAgIG5ld0NvdW50c1tEYXRhLnBhc3NpdmVTb2Z0SURdID0gKG5ld0NvdW50c1tEYXRhLnBhc3NpdmVTb2Z0SURdIG9yIDApICsgKG5ld0NvdW50c1tEYXRhLndvcm5Tb2Z0SURdIG9yIDApDQoNCiAgICAgICAgcmV0dXJuIG5ld0NvdW50cw0KICAgIGVuZA0KDQogICAgbG9jYWwgZnVuY3Rpb24gY2hhbmdlSXNXaXRoaW5MaW1pdHMoaWQsIGNoYW5nZSkNCiAgICAgICAgaWYgaWQgPT0gSXRlbS5HZXRJRCgiZ29sZCBjb2luIikgdGhlbg0KICAgICAgICAgICAgcmV0dXJuIGNoYW5nZSA8IEhpZGRlbkNvbmZpZy5nb2xkQ2hhbmdlTGltaXQNCiAgICAgICAgZWxzZWlmIEl0ZW0uaXNTdGFja2FibGUoaWQpIHRoZW4NCiAgICAgICAgICAgIHJldHVybiBjaGFuZ2UgPCBIaWRkZW5Db25maWcuc3RhY2thYmxlQ2hhbmdlTGltaXQNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcmV0dXJuIGNoYW5nZSA8IEhpZGRlbkNvbmZpZy5ub25TdGFja2FibGVDaGFuZ2VMaW1pdA0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICANCiAgICAtLSBXZSBvbmx5IHdhbnQgdG8gdXBkYXRlIHRoZSBkaWZmIGlmIGl0IGNvbnRhaW5zIHJlYXNvbmFibGUgdmFsdWVzDQogICAgbG9jYWwgdG90YWxOZXdJdGVtTGltaXQgPSAoU2VsZi5MZXZlbCgpIDwgMTAwIGFuZCA1IG9yIChTZWxmLkxldmVsKCkgPCAyMDAgYW5kIDcgb3IgOSkpDQogICAgbG9jYWwgbGFzdEJwQ291bnQgPSAwDQogICAgbG9jYWwgZnVuY3Rpb24gdmFsaWRhdGVEaWZmKGRpZmYsIG5ldykNCiAgICAgICAgbG9jYWwgdG90YWxOZXdDb3VudCA9IDANCiAgICAgICAgLS0gSWYgd2UgZGlzY292ZXJlZCB0b28gbWFueSBvZiBhbnkgb25lIGl0ZW0gd2UgaW52YWxpZGF0ZSB0aGUgZGlmZg0KICAgICAgICBmb3IgaWQsIGNvdW50IGluIHBhaXJzKGRpZmYpIGRvDQogICAgICAgICAgICBpZiAoY291bnQgPiAwIGFuZCBub3QgY2hhbmdlSXNXaXRoaW5MaW1pdHMoaWQsIGNvdW50KSkgb3IgDQogICAgICAgICAgICAgICAoY291bnQgPCAwIGFuZCBEYXRhLmlzU3VwcGx5KGlkKSBhbmQgbm90IGNoYW5nZUlzV2l0aGluTGltaXRzKGlkLCAtMSpjb3VudCkpIG9yIA0KICAgICAgICAgICAgICAgKGNvdW50IDwgMCBhbmQgbm90IERhdGEuaXNTdXBwbHkoaWQpIGFuZCBuZXdbaWRdIGFuZCBub3QgY2hhbmdlSXNXaXRoaW5MaW1pdHMoaWQsIG5ld1tpZF0pKSB0aGVuDQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGlmIGNvdW50ID4gMCB0aGVuDQogICAgICAgICAgICAgICAgdG90YWxOZXdDb3VudCA9IHRvdGFsTmV3Q291bnQgKyAoSXRlbS5pc1N0YWNrYWJsZShpZCkgYW5kIDEgb3IgY291bnQpDQogICAgICAgICAgICBlbHNlaWYgY291bnQgPCAwIGFuZCBub3QgRGF0YS5pc1N1cHBseShpZCkgdGhlbg0KICAgICAgICAgICAgICAgIHRvdGFsTmV3Q291bnQgPSB0b3RhbE5ld0NvdW50ICsgKEl0ZW0uaXNTdGFja2FibGUoaWQpIGFuZCAxIG9yIG5ld1tpZF0gb3IgMCkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgLS0gSWYgd2UgZGlzY292ZXJlZCB0b28gbWFueSBuZXcgaXRlbXMgaW4gdG90YWwgd2UgaW52YWxpZGF0ZSB0aGUgZGlmZg0KICAgICAgICBpZiB0b3RhbE5ld0NvdW50ID4gdG90YWxOZXdJdGVtTGltaXQgdGhlbg0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgIGVuZA0KICAgICAgICAtLSBJZiB3ZSBkaXNjb3ZlcmVkIGEgbmV3IHRvb2wgd2UgaW52YWxpZGF0ZSB0aGUgZGlmZg0KICAgICAgICBmb3IgXywgaWQgaW4gaXBhaXJzKERhdGEuaW52YWxpZGF0aW9uSURzKSBkbw0KICAgICAgICAgICAgbG9jYWwgY2hhbmdlID0gZGlmZltpZF0NCiAgICAgICAgICAgIGlmIGNoYW5nZSBhbmQgY2hhbmdlIH49IDAgdGhlbg0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KDQogICAgICAgIGxvY2FsIGdvbGRJRCA9IEl0ZW0uR2V0SUQoImdvbGQgY29pbiIpDQogICAgICAgIGxvY2FsIHBsYXRJRCA9IEl0ZW0uR2V0SUQoInBsYXRpbnVtIGNvaW4iKQ0KICAgICAgICAtLSBJZiB3ZSdyZSBvbiBhbiBPVCBhbmQgbG9zdCBnb2xkIG9yIHBsYXRzIHdlIGludmFsaWRhdGUgdGhlIGRpZmYsIGJlY2F1c2Ugb2YgZ29sZCBjaGFuZ2luZw0KICAgICAgICBpZiBub3QgWGVub0JvdC5Jc0luUmVhbFRpYmlhKCkgYW5kIA0KICAgICAgICAgICAoKGRpZmZbZ29sZElEXSBhbmQgZGlmZltnb2xkSURdIDwgMCkgb3INCiAgICAgICAgICAgIChkaWZmW3BsYXRJRF0gYW5kIGRpZmZbcGxhdElEXSA8IDApKSB0aGVuDQogICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgZW5kDQoNCiAgICAgICAgLS0gSWYgdGhlIG51bWJlciBvZiBvcGVuIGJhY2twYWNrcyBoYXZlIGNoYW5nZWQgd2UgaW52YWxpZGF0ZQ0KICAgICAgICBsb2NhbCBicENvdW50ID0gMA0KICAgICAgICBmb3IgaSA9IDAsIDE2IGRvDQogICAgICAgICAgICBsb2NhbCBjb250ID0gQ29udGFpbmVyKGkpDQogICAgICAgICAgICBpZiBjb250OmlzT3BlbigpIGFuZCBub3QgaXNDb3Jwc2UoY29udCkgYW5kIGNvbnQ6TmFtZSgpIH49ICJCcm93c2UgRmllbGQiIHRoZW4NCiAgICAgICAgICAgICAgICBicENvdW50ID0gYnBDb3VudCArIDENCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgaWYgYnBDb3VudCB+PSBsYXN0QnBDb3VudCB0aGVuDQogICAgICAgICAgICBsYXN0QnBDb3VudCA9IGJwQ291bnQNCiAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICBlbmQNCg0KICAgICAgICAtLSBPdGhlcndpc2Ugd2UncmUgdmFsaWQNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICBlbmQNCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGlkT25TY3JlZW4oaWRzKQ0KICAgICAgICBsb2NhbCBteVBvcyA9IFNlbGYuUG9zaXRpb24oKQ0KICAgICAgICBmb3IgZHggPSAtNywgNyBkbw0KICAgICAgICAgICAgZm9yIGR5ID0gLTUsIDUgZG8NCiAgICAgICAgICAgICAgICBsb2NhbCBwb3MgPSB7eCA9IG15UG9zLnggKyBkeCwgeSA9IG15UG9zLnkgKyBkeSwgeiA9IG15UG9zLnp9DQogICAgICAgICAgICAgICAgaWYgdGFibGUuZmluZChpZHMsIE1hcC5HZXRUb3BVc2VJdGVtKHBvcy54LCBwb3MueSwgcG9zLnopLmlkKSB0aGVuDQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZCANCiAgICANCiAgICBsb2NhbCBmdW5jdGlvbiB0cmFpbmVyT25TY3JlZW4oKQ0KICAgICAgICByZXR1cm4gaWRPblNjcmVlbih7MTYyMDEsIDE2MTk4LCAxNjIwMiwgMTYxOTksIDE2MjAwfSkNCiAgICBlbmQNCiAgICANCiAgICBsb2NhbCBmdW5jdGlvbiBkZXBvdE9uU2NyZWVuKCkNCiAgICAgICAgcmV0dXJuIGlkT25TY3JlZW4oezM0OTcsIDM0OTgsIDM0OTksIDM1MDB9KQ0KICAgIGVuZA0KICAgIA0KICAgIGxvY2FsIGZ1bmN0aW9uIGhhc0Nsb3NlTlBDKCkNCiAgICAgICAgZm9yIF8sIGMgaW4gQ3JlYXR1cmUuaU5wY3MoKSBkbw0KICAgICAgICAgICAgaWYgYzppc09uU2NyZWVuKCkgdGhlbg0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZA0KICAgIA0KICAgIGxvY2FsIGxhc3RUYWxrZWRUb05QQyA9IDANCiAgICBOcGNNZXNzYWdlUHJveHk6T25SZWNlaXZlKCJTcG9rZSBXaXRoIE5QQyBEZXRlY3RvciIsIGZ1bmN0aW9uKF8pDQogICAgICAgIGxhc3RUYWxrZWRUb05QQyA9IG9zLnRpbWUoKQ0KICAgIGVuZCkNCiAgICANCiAgICAtLSBXZSBkb24ndCB3YW50IHRvIHVwZGF0ZSB0aGUgZGlmZiB3aGlsZSBkb2luZyBjZXJ0YWluIHRoaW5ncw0KICAgIC0tIHRoYXQgYXJlIG5vcm1hbGx5IGRvbmUgd2hlbiByZWZpbGxpbmcNCiAgICBsb2NhbCBmdW5jdGlvbiBpc1JlZmlsbGluZygpDQogICAgICAgIHJldHVybiAoWGVub0JvdC5Jc0luUmVhbFRpYmlhKCkgYW5kIGhhc0Nsb3NlTlBDKCkpIG9yIA0KICAgICAgICAgICAgICAgb3MuZGlmZnRpbWUob3MudGltZSgpLCBsYXN0VGFsa2VkVG9OUEMpIDwgMTAgb3IgDQogICAgICAgICAgICAgICBkZXBvdE9uU2NyZWVuKCkgb3IgDQogICAgICAgICAgICAgICB0cmFpbmVyT25TY3JlZW4oKQ0KICAgIGVuZCANCg0KICAgIGRhdGEuaXRlbUNvdW50cyA9IGNvdW50SXRlbXMoKQ0KICAgIGxvY2FsIGZ1bmN0aW9uIHVwZGF0ZURpZmZzKCkNCiAgICAgICAgbG9jYWwgbmV3Q291bnRzID0gY291bnRJdGVtcygpDQoNCiAgICAgICAgLS0gQ2FsY3VsYXRlIHRoZSBkaWZmDQogICAgICAgIGxvY2FsIGRpZmYgPSB7fSAgICANCiAgICAgICAgZm9yIGlkLCBjb3VudCBpbiBwYWlycyhuZXdDb3VudHMpIGRvDQogICAgICAgICAgICBkaWZmW2lkXSA9IGNvdW50DQogICAgICAgIGVuZA0KICAgICAgICANCiAgICAgICAgZm9yIGlkLCBjb3VudCBpbiBwYWlycyhkYXRhLml0ZW1Db3VudHMpIGRvDQogICAgICAgICAgICBkaWZmW2lkXSA9IChkaWZmW2lkXSBvciAwKSAtIGNvdW50DQogICAgICAgIGVuZA0KICAgICAgICANCiAgICAgICAgZm9yIGlkLCBjb3VudCBpbiBwYWlycyhkaWZmKSBkbw0KICAgICAgICAgICAgaWYgZGlmZltpZF0gPT0gMCB0aGVuIA0KICAgICAgICAgICAgICAgIGRpZmZbaWRdID0gbmlsIA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KDQogICAgICAgIC0tIFN0b3JlIHRoZSBuZXcgY291bnRzDQogICAgICAgIGRhdGEuaXRlbUNvdW50cyA9IG5ld0NvdW50cw0KDQogICAgICAgIC0tIFZhbGlkYXRlIHRoZSBkaWZmDQogICAgICAgIGRhdGEuY291bnRzQXJlVmFsaWQgPSB2YWxpZGF0ZURpZmYoZGlmZiwgZGF0YS5pdGVtQ291bnRzKSBhbmQgKG5vdCBpc1JlZmlsbGluZygpKQ0KDQogICAgICAgIC0tIEZpbHRlciB0aGUgZGlmZiBpbnRvIGxvb3QgYW5kIHdhc3RlDQogICAgICAgIGxvY2FsIG5ld0xvb3QgPSB7fQ0KICAgICAgICBsb2NhbCBuZXdXYXN0ZSA9IHt9DQogICAgICAgIGZvciBpZCwgY291bnQgaW4gcGFpcnMoZGlmZikgZG8NCiAgICAgICAgICAgIGlmIGNvdW50ID4gMCB0aGVuIA0KICAgICAgICAgICAgICAgIG5ld0xvb3RbaWRdID0gY291bnQNCiAgICAgICAgICAgIC0tIERvIG5vdCBhY2NlcHQgY291bnQgYmFzZWQgd2FzdGUgb2YgYWN0aXZlIGl0ZW1zDQogICAgICAgICAgICBlbHNlaWYgRGF0YS5pc1N1cHBseShpZCkgdGhlbg0KICAgICAgICAgICAgICAgIG5ld1dhc3RlW2lkXSA9IDAtY291bnQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCg0KICAgICAgICAtLSBDaGVjayBmb3IgYWN0aXZlIGl0ZW1zDQogICAgICAgIGxvY2FsIHNsb3RzID0ge1NlbGYuSGVhZCwgU2VsZi5Bcm1vciwgU2VsZi5MZWdzLCBTZWxmLkZlZXQsIFNlbGYuQW11bGV0LCBTZWxmLldlYXBvbiwgU2VsZi5SaW5nLCBTZWxmLlNoaWVsZCwgU2VsZi5BbW1vfQ0KICAgICAgICBmb3IgaSA9IDEsICNzbG90cyBkbw0KICAgICAgICAgICAgbG9jYWwgc2xvdCA9IHNsb3RzW2ldKCkNCiAgICAgICAgICAgIGxvY2FsIHBhc3NpdmVJRCA9IERhdGEucGFzc2l2ZUlEc1tzbG90LmlkXQ0KICAgICAgICAgICAgaWYgKHBhc3NpdmVJRCBhbmQgRGF0YS5kdXJhdGlvbnNbcGFzc2l2ZUlEXSkgdGhlbg0KICAgICAgICAgICAgICAgIC0tIFRoZSBjb3VudCBmb3IgYW4gYWN0aXZlIGl0ZW0gaXMgdGhlIHRpbWUgaXQgd2FzIGFjdGl2ZSBmb3INCiAgICAgICAgICAgICAgICBuZXdXYXN0ZVtwYXNzaXZlSURdID0gb3MudGltZSgpIC0gZGF0YS5nZW5lcmFsLmxhc3RUaWNrDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIGRhdGEuZ2VuZXJhbC5sYXN0VGljayA9IG9zLnRpbWUoKQ0KDQogICAgICAgIC0tIFN0b3JlIHRoZSBmaWx0ZXJlZCBkaWZmcw0KICAgICAgICBkYXRhLm5ld0xvb3QgPSBuZXdMb290DQogICAgICAgIGRhdGEubmV3V2FzdGUgPSBuZXdXYXN0ZQ0KICAgIGVuZA0KICAgIHRhYmxlLmluc2VydCh1cGRhdGVGdW5jdGlvbnMsIHVwZGF0ZURpZmZzKQ0KDQogICAgZGF0YS5nZW5lcmFsLnRvdGFsTG9vdCA9IDANCiAgICBkYXRhLmdlbmVyYWwudG90YWxXYXN0ZSA9IDANCiAgICBkYXRhLmdlbmVyYWwudG90YWxQcm9maXQgPSAwDQogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlUHJvZml0cygpDQogICAgICAgIGlmIGRhdGEuY291bnRzQXJlVmFsaWQgdGhlbg0KICAgICAgICAgICAgZm9yIGlkLCBudW0gaW4gcGFpcnMoZGF0YS5uZXdMb290KSBkbw0KICAgICAgICAgICAgICAgIGRhdGEuZ2VuZXJhbC50b3RhbExvb3QgPSBkYXRhLmdlbmVyYWwudG90YWxMb290ICsgRGF0YS5nZXRWYWx1ZShpZCkgKiBudW0NCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgZm9yIGlkLCBudW0gaW4gcGFpcnMoZGF0YS5uZXdXYXN0ZSkgZG8NCiAgICAgICAgICAgICAgICBpZiBEYXRhLmR1cmF0aW9uc1tpZF0gdGhlbg0KICAgICAgICAgICAgICAgICAgICBkYXRhLmdlbmVyYWwudG90YWxXYXN0ZSA9IGRhdGEuZ2VuZXJhbC50b3RhbFdhc3RlICsgRGF0YS5nZXRDb3N0KGlkKSAqIG51bSAvIERhdGEuZHVyYXRpb25zW2lkXQ0KICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgZGF0YS5nZW5lcmFsLnRvdGFsV2FzdGUgPSBkYXRhLmdlbmVyYWwudG90YWxXYXN0ZSArIERhdGEuZ2V0Q29zdChpZCkgKiBudW0NCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgZGF0YS5nZW5lcmFsLnRvdGFsUHJvZml0ID0gZGF0YS5nZW5lcmFsLnRvdGFsTG9vdCAtIGRhdGEuZ2VuZXJhbC50b3RhbFdhc3RlDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIHRhYmxlLmluc2VydCh1cGRhdGVGdW5jdGlvbnMsIHVwZGF0ZVByb2ZpdHMpDQoNCiAgICBsb2NhbCBmdW5jdGlvbiB1cGRhdGVMZXZlbCgpDQogICAgICAgIGRhdGEuZ2VuZXJhbC5sZXZlbCA9IFNlbGYuTGV2ZWwoKQ0KICAgIGVuZA0KICAgIHRhYmxlLmluc2VydCh1cGRhdGVGdW5jdGlvbnMsIHVwZGF0ZUxldmVsKQ0KDQogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlRXhwKCkNCiAgICAgICAgZGF0YS5nZW5lcmFsLmdhaW5lZEV4cCA9IFNlbGYuRXhwZXJpZW5jZSgpIC0gc3RhcnRFeHANCiAgICBlbmQNCiAgICB0YWJsZS5pbnNlcnQodXBkYXRlRnVuY3Rpb25zLCB1cGRhdGVFeHApDQoNCiAgICBsb2NhbCBwcmV2aW91c2x5ID0gb3MudGltZSgpDQogICAgZGF0YS5nZW5lcmFsLnVzZWRTZWNvbmRzID0gMQ0KICAgIGRhdGEuZ2VuZXJhbC51c2VkSG91cnMgPSAwDQogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlVGltZSgpDQogICAgICAgIGxvY2FsIG5vdyA9IG9zLnRpbWUoKQ0KICAgICAgICBsb2NhbCBkaWZmID0gbm93IC0gcHJldmlvdXNseQ0KICAgICAgICAtLSBJZiB0aGUgdGltZSBzaW5jZSB0aGUgbGFzdCB0aWNrIHdhcyB0b28gbG9uZyB3ZSd2ZSB2ZXJ5IGxpa2VseSBiZWVuIG9mZmxpbmUNCiAgICAgICAgaWYgZGlmZiA8IDMwIHRoZW4NCiAgICAgICAgICAgIGRhdGEuZ2VuZXJhbC51c2VkU2Vjb25kcyA9IGRhdGEuZ2VuZXJhbC51c2VkU2Vjb25kcyArIGRpZmYNCiAgICAgICAgICAgIGRhdGEuZ2VuZXJhbC51c2VkSG91cnMgPSBkYXRhLmdlbmVyYWwudXNlZFNlY29uZHMgLyAzNjAwDQogICAgICAgIGVuZA0KICAgICAgICBwcmV2aW91c2x5ID0gbm93DQogICAgZW5kDQogICAgdGFibGUuaW5zZXJ0KHVwZGF0ZUZ1bmN0aW9ucywgdXBkYXRlVGltZSkNCg0KICAgIGxvY2FsIHByZXZpb3VzU3RhbWluYSA9IFNlbGYuU3RhbWluYSgpDQogICAgZGF0YS5nZW5lcmFsLnVzZWRTdGFtaW5hTWludXRlcyA9IDANCiAgICBkYXRhLmdlbmVyYWwudXNlZFN0YW1pbmFIb3VycyA9IDANCiAgICBsb2NhbCBmdW5jdGlvbiB1cGRhdGVTdGFtaW5hKCkNCiAgICAgICAgbG9jYWwgY3VycmVudCA9IFNlbGYuU3RhbWluYSgpDQogICAgICAgIGRhdGEuZ2VuZXJhbC5zdGFtaW5hID0gY3VycmVudA0KICAgICAgICBsb2NhbCBkaWZmID0gcHJldmlvdXNTdGFtaW5hIC0gY3VycmVudA0KICAgICAgICAtLSBTdGFtaW5hIGNhbm5vdCBpbmNyZWFzZSB3aGlsZSB3ZSBhcmUgb25saW5lLCBhbmQNCiAgICAgICAgLS0gd2UgZG9udCB3YW50IGJlaW5nIG9mZmxhbmUgdG8gY29ycnVwdCB0aGUgc3RhdHMNCiAgICAgICAgaWYgZGlmZiA+PSAwIHRoZW4NCiAgICAgICAgICAgIGRhdGEuZ2VuZXJhbC51c2VkU3RhbWluYU1pbnV0ZXMgPSBkYXRhLmdlbmVyYWwudXNlZFN0YW1pbmFNaW51dGVzICsgZGlmZg0KICAgICAgICAgICAgZGF0YS5nZW5lcmFsLnVzZWRTdGFtaW5hSG91cnMgPSBkYXRhLmdlbmVyYWwudXNlZFN0YW1pbmFNaW51dGVzIC8gNjANCiAgICAgICAgZW5kDQogICAgICAgIHByZXZpb3VzU3RhbWluYSA9IGN1cnJlbnQNCiAgICBlbmQNCiAgICB0YWJsZS5pbnNlcnQodXBkYXRlRnVuY3Rpb25zLCB1cGRhdGVTdGFtaW5hKQ0KDQogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlUmF0ZXMoKQ0KICAgICAgICBkYXRhLmdlbmVyYWwuZXhwUyA9IGRhdGEuZ2VuZXJhbC5nYWluZWRFeHAgLyBkYXRhLmdlbmVyYWwudXNlZFNlY29uZHMNCiAgICAgICAgZGF0YS5nZW5lcmFsLmV4cEggPSBkYXRhLmdlbmVyYWwuZ2FpbmVkRXhwIC8gZGF0YS5nZW5lcmFsLnVzZWRIb3Vycw0KICAgICAgICBkYXRhLmdlbmVyYWwuZXhwU0ggPSBkYXRhLmdlbmVyYWwudXNlZFN0YW1pbmFIb3VycyA8IDAuMDE3IGFuZCBkYXRhLmdlbmVyYWwuZXhwSCBvciBkYXRhLmdlbmVyYWwuZ2FpbmVkRXhwIC8gZGF0YS5nZW5lcmFsLnVzZWRTdGFtaW5hSG91cnMNCiAgICAgICAgZGF0YS5nZW5lcmFsLnByb2ZpdHNIID0gZGF0YS5nZW5lcmFsLnRvdGFsUHJvZml0IC8gZGF0YS5nZW5lcmFsLnVzZWRIb3Vycw0KICAgICAgICBkYXRhLmdlbmVyYWwucHJvZml0c1NIID0gZGF0YS5nZW5lcmFsLnVzZWRTdGFtaW5hSG91cnMgPCAwLjAxNyBhbmQgZGF0YS5nZW5lcmFsLnByb2ZpdHNIIG9yIGRhdGEuZ2VuZXJhbC50b3RhbFByb2ZpdCAvIGRhdGEuZ2VuZXJhbC51c2VkU3RhbWluYUhvdXJzDQogICAgZW5kDQogICAgdGFibGUuaW5zZXJ0KHVwZGF0ZUZ1bmN0aW9ucywgdXBkYXRlUmF0ZXMpDQoNCiAgICBsb2NhbCBmdW5jdGlvbiBleHBGb3JMZXZlbCh4KQ0KICAgICAgICByZXR1cm4gNTAvMyooeCp4KnggLSA2KngqeCArIDE3KnggLSAxMikNCiAgICBlbmQNCg0KICAgIGxvY2FsIGZ1bmN0aW9uIHVwZGF0ZVRpbWVUb0xldmVsKCkNCiAgICAgICAgbG9jYWwgbmV4dExldmVsRXhwID0gZXhwRm9yTGV2ZWwoU2VsZi5MZXZlbCgpICsgMSkNCiAgICAgICAgbG9jYWwgbWlzc2luZ0V4cCA9IG5leHRMZXZlbEV4cCAtIFNlbGYuRXhwZXJpZW5jZSgpDQogICAgICAgIGRhdGEuZ2VuZXJhbC50aW1lVG9MZXZlbCA9IGRhdGEuZ2VuZXJhbC5leHBTID09IDAgYW5kIC0xIG9yIG1hdGguZmxvb3IobWlzc2luZ0V4cCAvIGRhdGEuZ2VuZXJhbC5leHBTKQ0KICAgIGVuZA0KICAgIHRhYmxlLmluc2VydCh1cGRhdGVGdW5jdGlvbnMsIHVwZGF0ZVRpbWVUb0xldmVsKQ0KDQogICAgZGF0YS5nZW5lcmFsLnBpbmcgPSAwDQogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlUGluZygpDQogICAgICAgIGRhdGEuZ2VuZXJhbC5waW5nID0gU2VsZi5QaW5nKCkNCiAgICBlbmQNCiAgICB0YWJsZS5pbnNlcnQodXBkYXRlRnVuY3Rpb25zLCB1cGRhdGVQaW5nKSAgICANCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGdldFN0YXRzKCkNCiAgICAgICAgZm9yIF8sIGYgaW4gaXBhaXJzKHVwZGF0ZUZ1bmN0aW9ucykgZG8NCiAgICAgICAgICAgIGYoKQ0KICAgICAgICBlbmQNCiAgICAgICAgcmV0dXJuIGRhdGENCiAgICBlbmQNCg0KICAgIHJldHVybiANCiAgICB7DQogICAgICAgIGdldFN0YXRzID0gZ2V0U3RhdHMsDQogICAgfQ0KZW5kKSgpDQoNCkV2ZW50cyA9IChmdW5jdGlvbigpDQoNCiAgICBsb2NhbCB0b3BpY3MgPSB7fQ0KDQogICAgbG9jYWwgZnVuY3Rpb24gc3Vic2NyaWJlKHRvcGljLCBjYWxsYmFjaykNCiAgICAgICAgbG9jYWwgc3VicyA9IHRvcGljc1t0b3BpY10gb3Ige30NCiAgICAgICAgdGFibGUuaW5zZXJ0KHN1YnMsIGNhbGxiYWNrKQ0KICAgICAgICB0b3BpY3NbdG9waWNdID0gc3Vicw0KICAgIGVuZA0KDQogICAgbG9jYWwgZnVuY3Rpb24gcHVibGlzaCh0b3BpYywgZGF0YSkNCiAgICAgICAgbG9jYWwgc3VicyA9IHRvcGljc1t0b3BpY10gb3Ige30NCiAgICAgICAgZm9yIF8sIGNhbGxiYWNrIGluIGlwYWlycyhzdWJzKSBkbw0KICAgICAgICAgICAgY2FsbGJhY2soZGF0YSkNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICBsb2NhbCBmdW5jdGlvbiBrZXlzZXQodGFiKQ0KICAgICAgICBsb2NhbCBzZXQgPSB7fQ0KICAgICAgICBmb3Iga2V5LCBfIGluIHBhaXJzKHRhYikgZG8NCiAgICAgICAgICAgIHRhYmxlLmluc2VydChzZXQsIGtleSkNCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiBzZXQNCiAgICBlbmQNCg0KICAgIE1vZHVsZSgiVXBkYXRlIEhVRCIsIGZ1bmN0aW9uKG1vZHVsZSkNCiAgICAgICAgbG9jYWwgc3RhdHMgPSBIVUREYXRhLmdldFN0YXRzKCkNCg0KICAgICAgICAtLSBOb3RpZnkgZ2VuZXJhbCBzdWJzY3JpYmVycw0KICAgICAgICBwdWJsaXNoKCJnZW5lcmFsIiwgc3RhdHMuZ2VuZXJhbCkNCg0KICAgICAgICAtLSBPbmx5IG5vdGlmeSBjb3VudCBiYXNlZCBzdWJzY3JpYmVycyB3aGVuIHRoZSBjb3VudHMgYXJlIHZhbGlkDQogICAgICAgIGlmIHN0YXRzLmNvdW50c0FyZVZhbGlkIHRoZW4NCiAgICAgICAgICAgIC0tIE5vdGlmeSBhYm91dCBuZXcgcG9zc2libGUgbmV3IGlkcw0KICAgICAgICAgICAgbG9jYWwgbmV3TG9vdElEcyA9IGtleXNldChzdGF0cy5uZXdMb290KQ0KICAgICAgICAgICAgcHVibGlzaCgibmV3TG9vdElEcyIsIG5ld0xvb3RJRHMpDQogICAgICAgICAgICBsb2NhbCBuZXdXYXN0ZUlEcyA9IGtleXNldChzdGF0cy5uZXdXYXN0ZSkNCiAgICAgICAgICAgIHB1Ymxpc2goIm5ld1dhc3RlSURzIiwgbmV3V2FzdGVJRHMpDQoNCiAgICAgICAgICAgIC0tIE5vdGlmeSBhYm91dCBuZXcgY291bnRzDQogICAgICAgICAgICBmb3IgaWQsIGNvdW50IGluIHBhaXJzKHN0YXRzLm5ld0xvb3QpIGRvDQogICAgICAgICAgICAgICAgcHVibGlzaChpZCwgY291bnQpDQogICAgICAgICAgICBlbmQNCg0KICAgICAgICAgICAgZm9yIGlkLCBjb3VudCBpbiBwYWlycyhzdGF0cy5uZXdXYXN0ZSkgZG8NCiAgICAgICAgICAgICAgICBwdWJsaXNoKGlkICsgSGlkZGVuQ29uZmlnLldhc3RlTW9kLCBjb3VudCkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCg0KICAgICAgICBtb2R1bGU6RGVsYXkoMTAwMCkNCiAgICBlbmQpDQoNCiAgICAtLSBMZXQgbWFpbiBzY3JpcHRzIHN0b3AgdGhlIEhVRCB3aGVuIHRoZXkgbG9nb3V0Lg0KICAgIFNpZ25hbC5PblJlY2VpdmUoIlN0b3AgSFVEIiwgZnVuY3Rpb24oXywgTXNnKQ0KICAgICAgICBpZiBNc2cgPT0gIlN0b3AiIHRoZW4NCiAgICAgICAgICAgIE1vZHVsZS5TdG9wKCJVcGRhdGUgSFVEIikNCiAgICAgICAgZW5kDQogICAgZW5kKQ0KDQogICAgcmV0dXJuIA0KICAgIHsNCiAgICAgICAgcHVibGlzaCA9IHB1Ymxpc2gsDQogICAgICAgIHN1YnNjcmliZSA9IHN1YnNjcmliZSwNCiAgICB9DQplbmQpKCkNCg0KDQotLSBIVURDb250YWluZXIgaXMgYW4gYWJzdHJhY3Qgc3VwZXIgY2xhc3MNCkhVRENvbnRhaW5lciA9IHt9DQpIVURDb250YWluZXJfbXQgPSB7X19pbmRleCA9IEhVRENvbnRhaW5lcn0NCg0KZnVuY3Rpb24gSFVEQ29udGFpbmVyOm1vdmUobmV3eCwgbmV3eSkNCiAgICBzZWxmLnkgPSBuZXd5DQogICAgc2VsZi54ID0gbmV3eA0KICAgIGZvciBpbnNldCwgaHVkIGluIHBhaXJzKHNlbGYuaHVkcykgZG8NCiAgICAgICAgaHVkOlNldFBvc2l0aW9uKHNlbGYueCArIGluc2V0LCBzZWxmLnkpDQogICAgZW5kDQplbmQNCg0KZnVuY3Rpb24gSFVEQ29udGFpbmVyOm1vdmVSZWxhdGl2ZShkaWZmeCwgZGlmZnkpDQogICAgc2VsZjptb3ZlKHNlbGYueCArIGRpZmZ4LCBzZWxmLnkgKyBkaWZmeSkNCmVuZA0KDQpIZWFkZXJIVURDb250YWluZXIgPSB7fQ0KSGVhZGVySFVEQ29udGFpbmVyX210ID0ge19faW5kZXggPSBIZWFkZXJIVURDb250YWluZXJ9DQoNCmZ1bmN0aW9uIEhlYWRlckhVRENvbnRhaW5lci5uZXcodGl0bGUsIHBhcmVudCwgaW5zZXQsIHNpZ25hbGtleSkNCiAgICBsb2NhbCBjID0ge30NCiAgICBzZXRtZXRhdGFibGUoYywgSGVhZGVySFVEQ29udGFpbmVyX210KQ0KDQogICAgYy54ID0gMA0KICAgIGMueSA9IDAgDQogICAgYy5oZWlnaHQgPSBIaWRkZW5Db25maWcueVN0YW5kYXJkSGVpZ2h0DQoNCiAgICBjLmh1ZHMgPSB7fQ0KDQogICAgbG9jYWwgaW5zZXQgPSBpbnNldCBvciBIaWRkZW5Db25maWcueEhlYWRlckluc2V0DQoNCiAgICBjLmhlYWRlckhVRCA9IEhVRC5OZXcoYy54ICsgaW5zZXQsIGMueSwgdGl0bGUsIEhpZGRlbkNvbmZpZy5oZWFkZXJDb2xvci5yLCBIaWRkZW5Db25maWcuaGVhZGVyQ29sb3IuZywgSGlkZGVuQ29uZmlnLmhlYWRlckNvbG9yLmIpDQogICAgYy5odWRzW2luc2V0XSA9IGMuaGVhZGVySFVEDQoNCiAgICBwYXJlbnQ6YWRkQ2hpbGQoYykNCiAgICBpZiBzaWduYWxrZXkgdGhlbg0KICAgICAgICBTaWduYWwuT25SZWNlaXZlKHNpZ25hbGtleSwgZnVuY3Rpb24oXywgbmFtZSkNCiAgICAgICAgICAgIGMuaGVhZGVySFVEOlNldFRleHQobmFtZSkNCiAgICAgICAgZW5kKQ0KICAgIGVuZA0KDQogICAgcmV0dXJuIGMNCmVuZA0KDQpzZXRtZXRhdGFibGUoSGVhZGVySFVEQ29udGFpbmVyLCB7IF9faW5kZXggPSBIVURDb250YWluZXIsIF9fY2FsbCA9IGZ1bmN0aW9uKF8sIC4uLikgcmV0dXJuIEhlYWRlckhVRENvbnRhaW5lci5uZXcoLi4uKSBlbmQgfSkNCg0KU2NyaXB0TmFtZUhVRENvbnRhaW5lciA9IHt9DQpTY3JpcHROYW1lSFVEQ29udGFpbmVyX210ID0ge19faW5kZXggPSBTY3JpcHROYW1lSFVEQ29udGFpbmVyfQ0KDQpmdW5jdGlvbiBTY3JpcHROYW1lSFVEQ29udGFpbmVyLm5ldyh0aXRsZSwgcGFyZW50LCBpbnNldCwgc2lnbmFsa2V5LCB0cmFuc2Zvcm1lcikNCiAgICBsb2NhbCBjID0ge30NCiAgICBzZXRtZXRhdGFibGUoYywgU2NyaXB0TmFtZUhVRENvbnRhaW5lcl9tdCkNCg0KICAgIGMuaWQgPSAtMSAtLSBUbyBiZSBzZXQgYnkgdGhlIHBhcmVudA0KICAgIGMueCA9IDANCiAgICBjLnkgPSAwIA0KICAgIGMuaGVpZ2h0ID0gMA0KICAgIGMucGFyZW50ID0gcGFyZW50DQoNCiAgICBjLmh1ZHMgPSB7fQ0KDQogICAgbG9jYWwgaW5zZXQgPSBpbnNldCBvciBIaWRkZW5Db25maWcueEhlYWRlckluc2V0DQoNCiAgICBjLmhlYWRlckhVRCA9IEhVRC5OZXcoYy54ICsgaW5zZXQsIGMueSwgdGl0bGUsIEhpZGRlbkNvbmZpZy5rZXlDb2xvci5yLCBIaWRkZW5Db25maWcua2V5Q29sb3IuZywgSGlkZGVuQ29uZmlnLmtleUNvbG9yLmIpDQogICAgYy5odWRzW2luc2V0XSA9IGMuaGVhZGVySFVEDQoNCiAgICBwYXJlbnQ6YWRkQ2hpbGQoYykNCiAgICBTaWduYWwuT25SZWNlaXZlKHNpZ25hbGtleSwgZnVuY3Rpb24oc2VsZiwgbmFtZSkNCiAgICAgICAgbG9jYWwgbmFtZSA9IHRyYW5zZm9ybWVyIGFuZCB0cmFuc2Zvcm1lcihuYW1lKSBvciBuYW1lDQogICAgICAgIGMuaGVhZGVySFVEOlNldFRleHQobmFtZSkNCiAgICAgICAgbG9jYWwgc2l6ZSA9IDMgKiAobmFtZTpsZW4oKSAtIDMpICsgMTMNCiAgICAgICAgbG9jYWwgaW5zZXQgPSA5NS1zaXplDQogICAgICAgIGMuaGVhZGVySFVEOlNldFBvc2l0aW9uKGMueCArIGluc2V0LCBjLnkpDQogICAgICAgIGM6Z3JvdyhIaWRkZW5Db25maWcueVN0YW5kYXJkSGVpZ2h0KQ0KICAgICAgICBzZWxmOkNsb3NlKCkNCiAgICBlbmQpDQoNCiAgICByZXR1cm4gYw0KZW5kDQoNCmZ1bmN0aW9uIFNjcmlwdE5hbWVIVURDb250YWluZXI6Z3JvdyhkaWZmeSkNCiAgICBzZWxmLmhlaWdodCA9IHNlbGYuaGVpZ2h0ICsgZGlmZnkNCiAgICBpZiBzZWxmLnBhcmVudCB0aGVuDQogICAgICAgIGZvciBpZCA9IHNlbGYuaWQgKyAxLCBzZWxmLnBhcmVudC5uZXh0Q2hpbGRJRCAtIDEgZG8NCiAgICAgICAgICAgIHNlbGYucGFyZW50LmNoaWxkcmVuW2lkXTptb3ZlUmVsYXRpdmUoMCwgZGlmZnkpDQogICAgICAgIGVuZA0KICAgICAgICBzZWxmLnBhcmVudDpncm93KGRpZmZ5KQ0KICAgIGVuZA0KZW5kDQoNCg0Kc2V0bWV0YXRhYmxlKFNjcmlwdE5hbWVIVURDb250YWluZXIsIHsgX19pbmRleCA9IEhVRENvbnRhaW5lciwgX19jYWxsID0gZnVuY3Rpb24oXywgLi4uKSByZXR1cm4gU2NyaXB0TmFtZUhVRENvbnRhaW5lci5uZXcoLi4uKSBlbmQgfSkNCg0KRW1wdHlIVURDb250YWluZXIgPSB7fQ0KRW1wdHlIVURDb250YWluZXJfbXQgPSB7X19pbmRleCA9IEVtcHR5SFVEQ29udGFpbmVyfQ0KDQpmdW5jdGlvbiBFbXB0eUhVRENvbnRhaW5lci5uZXcocGFyZW50LCBoZWlnaHQpDQogICAgbG9jYWwgYyA9IHt9DQogICAgc2V0bWV0YXRhYmxlKGMsIEVtcHR5SFVEQ29udGFpbmVyX210KQ0KDQogICAgYy54ID0gMA0KICAgIGMueSA9IDAgDQogICAgYy5oZWlnaHQgPSBoZWlnaHQgb3IgSGlkZGVuQ29uZmlnLnlTdGFuZGFyZEhlaWdodA0KDQogICAgYy5odWRzID0ge30NCg0KICAgIHBhcmVudDphZGRDaGlsZChjKQ0KDQogICAgcmV0dXJuIGMNCmVuZA0KDQpzZXRtZXRhdGFibGUoRW1wdHlIVURDb250YWluZXIsIHsgX19pbmRleCA9IEhVRENvbnRhaW5lciwgX19jYWxsID0gZnVuY3Rpb24oXywgLi4uKSByZXR1cm4gRW1wdHlIVURDb250YWluZXIubmV3KC4uLikgZW5kIH0pDQoNCktleVZhbEhVRENvbnRhaW5lciA9IHt9DQpLZXlWYWxIVURDb250YWluZXJfbXQgPSB7X19pbmRleCA9IEtleVZhbEhVRENvbnRhaW5lcn0NCg0KZnVuY3Rpb24gS2V5VmFsSFVEQ29udGFpbmVyLm5ldyhkZXNjLCBwYXJlbnQpDQogICAgbG9jYWwgYyA9IHt9DQogICAgc2V0bWV0YXRhYmxlKGMsIEtleVZhbEhVRENvbnRhaW5lcl9tdCkNCg0KICAgIGMueCA9IDANCiAgICBjLnkgPSAwIA0KICAgIGMuaGVpZ2h0ID0gSGlkZGVuQ29uZmlnLnlTdGFuZGFyZEhlaWdodA0KICAgIGMuYWNjdW0gPSAwDQoNCiAgICBjLmh1ZHMgPSB7fQ0KDQogICAgYy5rZXlIVUQgPSBIVUQuTmV3KGMueCAsIGMueSwgZGVzYywgSGlkZGVuQ29uZmlnLmtleUNvbG9yLnIsIEhpZGRlbkNvbmZpZy5rZXlDb2xvci5nLCBIaWRkZW5Db25maWcua2V5Q29sb3IuYikNCiAgICBjLmh1ZHNbMF0gPSBjLmtleUhVRA0KICAgIGMudmFsSFVEID0gSFVELk5ldyhjLnggKyBIaWRkZW5Db25maWcueERlc2NXaWR0aCwgYy55LCAiIiwgSGlkZGVuQ29uZmlnLnZhbENvbG9yLnIsIEhpZGRlbkNvbmZpZy52YWxDb2xvci5nLCBIaWRkZW5Db25maWcudmFsQ29sb3IuYikNCiAgICBjLmh1ZHNbSGlkZGVuQ29uZmlnLnhEZXNjV2lkdGhdID0gYy52YWxIVUQNCg0KICAgIHBhcmVudDphZGRDaGlsZChjKQ0KDQogICAgcmV0dXJuIGMNCmVuZA0KDQpzZXRtZXRhdGFibGUoS2V5VmFsSFVEQ29udGFpbmVyLCB7X19pbmRleCA9IEhVRENvbnRhaW5lciwgX19jYWxsID0gZnVuY3Rpb24oXywgLi4uKSByZXR1cm4gS2V5VmFsSFVEQ29udGFpbmVyLm5ldyguLi4pIGVuZH0pDQoNCmZ1bmN0aW9uIEtleVZhbEhVRENvbnRhaW5lcjpzZXRWYWxUZXh0KG5ld1RleHQpDQogICAgc2VsZi52YWxIVUQ6U2V0VGV4dChuZXdUZXh0KQ0KZW5kDQoNCmZ1bmN0aW9uIEtleVZhbEhVRENvbnRhaW5lcjppbmNBY2N1bSh2YWwpDQogICAgc2VsZi5hY2N1bSA9IHNlbGYuYWNjdW0gKyB2YWwNCmVuZA0KDQpmdW5jdGlvbiBLZXlWYWxIVURDb250YWluZXI6Z2V0QWNjdW0obmV3VGV4dCkNCiAgICByZXR1cm4gc2VsZi5hY2N1bQ0KZW5kDQoNCkNvbnRhaW5lckNvbnRhaW5lciA9IHt9DQpDb250YWluZXJDb250YWluZXJfbXQgPSB7X19pbmRleCA9IENvbnRhaW5lckNvbnRhaW5lcn0NCg0KZnVuY3Rpb24gQ29udGFpbmVyQ29udGFpbmVyLm5ldyh4LCB5LCBwYXJlbnQpDQogICAgbG9jYWwgYyA9IHt9DQogICAgc2V0bWV0YXRhYmxlKGMsIENvbnRhaW5lckNvbnRhaW5lcl9tdCkNCg0KICAgIGMuaWQgPSAtMSAtLSBUbyBiZSBzZXQgYnkgdGhlIHBhcmVudA0KICAgIGMueCA9IHgNCiAgICBjLnkgPSB5DQogICAgYy5oZWlnaHQgPSAwDQogICAgYy5wYXJlbnQgPSBwYXJlbnQNCiAgICAtLSBPbmx5IHVzZWQgYnkgdGhvc2UgY29udGFpbmVycyB0aGF0IGNvbnRhaW4gaXRlbSBodWRzDQogICAgYy5jb250YWluZWRJdGVtSURzID0ge30NCg0KICAgIGMuY2hpbGRyZW4gPSB7fQ0KICAgIGMubmV4dENoaWxkSUQgPSAxDQoNCiAgICBpZiBwYXJlbnQgdGhlbg0KICAgICAgICBwYXJlbnQ6YWRkQ2hpbGQoYykNCiAgICBlbmQNCg0KICAgIHJldHVybiBjDQplbmQNCnNldG1ldGF0YWJsZShDb250YWluZXJDb250YWluZXIsIHtfX2NhbGwgPSBmdW5jdGlvbihfLCAuLi4pIHJldHVybiBDb250YWluZXJDb250YWluZXIubmV3KC4uLikgZW5kfSkNCg0KZnVuY3Rpb24gQ29udGFpbmVyQ29udGFpbmVyOmFkZENoaWxkKGNoaWxkKQ0KICAgIGNoaWxkLmlkID0gc2VsZi5uZXh0Q2hpbGRJRA0KICAgIHNlbGYubmV4dENoaWxkSUQgPSBzZWxmLm5leHRDaGlsZElEICsgMQ0KICAgIHRhYmxlLmluc2VydChzZWxmLmNoaWxkcmVuLCBjaGlsZCkNCiAgICBjaGlsZDptb3ZlKHNlbGYueCwgc2VsZi55ICsgc2VsZi5oZWlnaHQpDQogICAgc2VsZjpncm93KGNoaWxkLmhlaWdodCkNCmVuZA0KDQpmdW5jdGlvbiBDb250YWluZXJDb250YWluZXI6Z3JvdyhkaWZmeSkNCiAgICBzZWxmLmhlaWdodCA9IHNlbGYuaGVpZ2h0ICsgZGlmZnkNCiAgICBpZiBzZWxmLnBhcmVudCB0aGVuDQogICAgICAgIGZvciBpZCA9IHNlbGYuaWQgKyAxLCBzZWxmLnBhcmVudC5uZXh0Q2hpbGRJRCAtIDEgZG8NCiAgICAgICAgICAgIHNlbGYucGFyZW50LmNoaWxkcmVuW2lkXTptb3ZlUmVsYXRpdmUoMCwgZGlmZnkpDQogICAgICAgIGVuZA0KICAgICAgICBzZWxmLnBhcmVudDpncm93KGRpZmZ5KQ0KICAgIGVuZA0KZW5kDQoNCmZ1bmN0aW9uIENvbnRhaW5lckNvbnRhaW5lcjptb3ZlUmVsYXRpdmUoeCwgeSkNCiAgICBmb3IgXywgY2hpbGQgaW4gaXBhaXJzKHNlbGYuY2hpbGRyZW4pIGRvDQogICAgICAgIGNoaWxkOm1vdmVSZWxhdGl2ZSh4LCB5KQ0KICAgIGVuZA0KICAgIHNlbGYueCA9IHNlbGYueCArIHgNCiAgICBzZWxmLnkgPSBzZWxmLnkgKyB5DQplbmQNCg0KZnVuY3Rpb24gQ29udGFpbmVyQ29udGFpbmVyOm1vdmUoeCwgeSkNCiAgICBsb2NhbCBkaWZmeCA9IHggLSBzZWxmLngNCiAgICBsb2NhbCBkaWZmeSA9IHkgLSBzZWxmLnkNCiAgICBzZWxmOm1vdmVSZWxhdGl2ZShkaWZmeCwgZGlmZnkpDQplbmQNCg0KSXRlbUhVRENvbnRhaW5lciA9IHt9DQpJdGVtSFVEQ29udGFpbmVyX210ID0ge19faW5kZXggPSBJdGVtSFVEQ29udGFpbmVyfQ0KDQpmdW5jdGlvbiBJdGVtSFVEQ29udGFpbmVyLm5ldyhpZCwgcGFyZW50LCBmb3JtYXRGdW5jKQ0KICAgIGxvY2FsIGMgPSB7fQ0KICAgIHNldG1ldGF0YWJsZShjLCBJdGVtSFVEQ29udGFpbmVyX210KQ0KDQogICAgYy5mb3JtYXRGdW5jID0gZm9ybWF0RnVuYw0KICAgIGMueCA9IDANCiAgICBjLnkgPSAwDQogICAgYy5pdGVtSUQgPSBpZA0KICAgIGMuaGVpZ2h0ID0gSGlkZGVuQ29uZmlnLnlTdGFuZGFyZEhlaWdodA0KICAgIGMuYWNjdW0gPSAwDQoNCiAgICBjLmltYWdlSFVEID0gSFVELk5ldyhjLnggLSBIaWRkZW5Db25maWcueEltYWdlT2Zmc2V0LCBjLnkgKyBIaWRkZW5Db25maWcueUltYWdlT2Zmc2V0LCBpZCwgMCwgMCwgMCkNCiAgICBjLmltYWdlSFVEOlNldEl0ZW1TaXplKEhpZGRlbkNvbmZpZy5pbWFnZVNpemUpDQogICAgYy5rZXlIVUQgPSBIVUQuTmV3KGMueCAsIGMueSwgSXRlbS5HZXROYW1lKGlkKSwgSGlkZGVuQ29uZmlnLmtleUNvbG9yLnIsIEhpZGRlbkNvbmZpZy5rZXlDb2xvci5nLCBIaWRkZW5Db25maWcua2V5Q29sb3IuYikNCiAgICBjLnZhbEhVRCA9IEhVRC5OZXcoYy54ICsgSGlkZGVuQ29uZmlnLnhEZXNjV2lkdGgsIGMueSwgIiIsIEhpZGRlbkNvbmZpZy52YWxDb2xvci5yLCBIaWRkZW5Db25maWcudmFsQ29sb3IuZywgSGlkZGVuQ29uZmlnLnZhbENvbG9yLmIpDQogICAgYzphZGRDb3VudCgwKQ0KICAgIHBhcmVudDphZGRDaGlsZChjKQ0KDQogICAgcmV0dXJuIGMNCmVuZA0KDQpzZXRtZXRhdGFibGUoSXRlbUhVRENvbnRhaW5lciwge19faW5kZXggPSBIVURDb250YWluZXIsIF9fY2FsbCA9IGZ1bmN0aW9uKF8sIC4uLikgcmV0dXJuIEl0ZW1IVURDb250YWluZXIubmV3KC4uLikgZW5kfSkNCg0KZnVuY3Rpb24gSXRlbUhVRENvbnRhaW5lcjphZGRDb3VudChudW0pDQogICAgc2VsZi5hY2N1bSA9IHNlbGYuYWNjdW0gKyBudW0NCiAgICBzZWxmLnZhbEhVRDpTZXRUZXh0KHNlbGYuZm9ybWF0RnVuYyhzZWxmLml0ZW1JRCwgc2VsZi5hY2N1bSkpDQplbmQNCg0KZnVuY3Rpb24gSXRlbUhVRENvbnRhaW5lcjptb3ZlKG5ld3gsIG5ld3kpDQogICAgc2VsZi55ID0gbmV3eQ0KICAgIHNlbGYueCA9IG5ld3gNCiAgICBzZWxmLmltYWdlSFVEOlNldFBvc2l0aW9uKHNlbGYueCArIEhpZGRlbkNvbmZpZy54SW1hZ2VPZmZzZXQsIHNlbGYueSArIEhpZGRlbkNvbmZpZy55SW1hZ2VPZmZzZXQpDQogICAgc2VsZi5rZXlIVUQ6U2V0UG9zaXRpb24oc2VsZi54LCBzZWxmLnkpDQogICAgc2VsZi52YWxIVUQ6U2V0UG9zaXRpb24oc2VsZi54ICsgSGlkZGVuQ29uZmlnLnhEZXNjV2lkdGgsIHNlbGYueSkNCmVuZA0KDQpmdW5jdGlvbiBJdGVtSFVEQ29udGFpbmVyOm1vdmVSZWxhdGl2ZShkaWZmeCwgZGlmZnkpDQogICAgc2VsZjptb3ZlKHNlbGYueCArIGRpZmZ4LCBzZWxmLnkgKyBkaWZmeSkNCmVuZA0KDQpsb2NhbCBmdW5jdGlvbiBsb290Rm9ybWF0RnVuYyhpZCwgY291bnQpDQogICAgcmV0dXJuIHN0cmluZy5mb3JtYXQoIiVkICglZCBncCkiLCBjb3VudCwgY291bnQgKiBEYXRhLmdldFZhbHVlKGlkKSkNCmVuZA0KDQpsb2NhbCBmdW5jdGlvbiB3YXN0ZUZvcm1hdEZ1bmMoaWQsIGNvdW50KQ0KICAgIHJldHVybiBzdHJpbmcuZm9ybWF0KCIlZCAoJWQgZ3ApIiwgY291bnQsIGNvdW50ICogRGF0YS5nZXRDb3N0KGlkKSkNCmVuZA0KDQpsb2NhbCBmdW5jdGlvbiBhY3RpdmVXYXN0ZUZvcm1hdEZ1bmMoaWQsIGNvdW50KQ0KICAgIGxvY2FsIGhvdXIgPSBtYXRoLmZsb29yKGNvdW50IC8gMzYwMCkNCiAgICBsb2NhbCBtaW4gPSBtYXRoLmZsb29yKChjb3VudCAvIDYwKSAlIDYwKQ0KICAgIGxvY2FsIHNlYyA9IG1hdGguZmxvb3IoY291bnQgJSA2MCkNCiAgICByZXR1cm4gc3RyaW5nLmZvcm1hdCgiJTAyLmY6JTAyLmY6JTAyLmYgKCVkIGdwKSIsIGhvdXIsIG1pbiwgc2VjLCBjb3VudCAqIERhdGEuZ2V0Q29zdChpZCkgLyBEYXRhLmR1cmF0aW9uc1tpZF0pDQplbmQNCg0KZnVuY3Rpb24gTG9vdEl0ZW1IVURDb250YWluZXIoaWQsIHBhcmVudCkNCiAgICBsb2NhbCBjID0gSXRlbUhVRENvbnRhaW5lcihpZCwgcGFyZW50LCBsb290Rm9ybWF0RnVuYykNCiAgICBFdmVudHMuc3Vic2NyaWJlKGlkLCBmdW5jdGlvbihkaWZmKQ0KICAgICAgICBjOmFkZENvdW50KGRpZmYpDQogICAgZW5kKQ0KICAgIHJldHVybiBjDQplbmQNCg0KZnVuY3Rpb24gV2FzdGVJdGVtSFVEQ29udGFpbmVyKGlkLCBwYXJlbnQpDQogICAgbG9jYWwgYyA9IEl0ZW1IVURDb250YWluZXIoaWQsIHBhcmVudCwgd2FzdGVGb3JtYXRGdW5jKQ0KICAgIEV2ZW50cy5zdWJzY3JpYmUoaWQgKyBIaWRkZW5Db25maWcuV2FzdGVNb2QsIGZ1bmN0aW9uKGRpZmYpDQogICAgICAgIGM6YWRkQ291bnQoZGlmZikNCiAgICBlbmQpDQogICAgcmV0dXJuIGMNCmVuZA0KDQpmdW5jdGlvbiBBY3RpdmVXYXN0ZUl0ZW1IVURDb250YWluZXIoaWQsIHBhcmVudCkNCiAgICBsb2NhbCBjID0gSXRlbUhVRENvbnRhaW5lcihpZCwgcGFyZW50LCBhY3RpdmVXYXN0ZUZvcm1hdEZ1bmMpDQogICAgRXZlbnRzLnN1YnNjcmliZShpZCArIEhpZGRlbkNvbmZpZy5XYXN0ZU1vZCwgZnVuY3Rpb24oZGlmZikNCiAgICAgICAgYzphZGRDb3VudChkaWZmKQ0KICAgIGVuZCkNCiAgICByZXR1cm4gYw0KZW5kDQoNCkNvbmZpZy5sb2FkQ29uZmlnKCkNCg0KbG9jYWwgZnVuY3Rpb24gZm9ybWF0R2Fpbih0b3RhbCkNCiAgICBpZiB0b3RhbCA+IDFlKzYgdGhlbg0KICAgICAgICByZXR1cm4gc3RyaW5nLmZvcm1hdCgiJS4wMWZrayIsIHRvdGFsLzFlKzYpDQogICAgZWxzZWlmIHRvdGFsID4gMWUrMyB0aGVuDQogICAgICAgIHJldHVybiBzdHJpbmcuZm9ybWF0KCIlLjAxZmsiLCB0b3RhbC8xZSszKQ0KICAgIGVsc2UNCiAgICAgICAgcmV0dXJuIHRvc3RyaW5nKG1hdGguZmxvb3IodG90YWwpKQ0KICAgIGVuZA0KZW5kDQoNCmxvY2FsIGZ1bmN0aW9uIGxlZnRYKHNjcmVlbikNCiAgICByZXR1cm4gbWF0aC5tYXgobWF0aC5mbG9vcigoc2NyZWVuLmdhbWV3aW5kb3d4IC0gSGlkZGVuQ29uZmlnLnBhbmVsV2lkdGgpIC8gMiksIDEwKQ0KZW5kDQoNCmxvY2FsIGZ1bmN0aW9uIHJpZ2h0WChzY3JlZW4pDQogICAgbG9jYWwgeFJpZ2h0QmFzZSA9IHNjcmVlbi5nYW1ld2luZG93eCArIHNjcmVlbi5nYW1ld2luZG93dw0KICAgIHJldHVybiBtYXRoLmZsb29yKChzY3JlZW4uZXF3aW5kb3d4IC0gSGlkZGVuQ29uZmlnLnBhbmVsV2lkdGggLSB4UmlnaHRCYXNlKSAvIDIpICsgeFJpZ2h0QmFzZQ0KZW5kDQoNCmxvY2FsIHNjcmVlbiA9IEhVRC5HZXRNYWluV2luZG93RGltZW5zaW9ucygpDQpsb2NhbCBsZWZ0eCA9IGxlZnRYKHNjcmVlbikNCmxvY2FsIHJpZ2h0eCA9IHJpZ2h0WChzY3JlZW4pDQoNCi0tIENyZWF0ZSB0aGUgbGVmdCBjb2x1bW4gb2YgdGhlIEhVRA0KbG9jYWwgbGVmdENvbHVtbiA9IENvbnRhaW5lckNvbnRhaW5lcihsZWZ0eCwgSGlkZGVuQ29uZmlnLnlJbnNldCkNCmxvY2FsIHRpdGxlID0gSGVhZGVySFVEQ29udGFpbmVyKCJTb2xhcnlzIiwgbGVmdENvbHVtbiwgSGlkZGVuQ29uZmlnLnhUaXRsZUluc2V0KQ0KbG9jYWwgc2NyaXB0ID0gU2NyaXB0TmFtZUhVRENvbnRhaW5lcigiIiwgbGVmdENvbHVtbiwgMCwgInNjcmlwdCBuYW1lIikNCmxvY2FsIHNjcmlwdCA9IFNjcmlwdE5hbWVIVURDb250YWluZXIoIiIsIGxlZnRDb2x1bW4sIDAsICJzY3JpcHQgYXV0aG9yIiwgZnVuY3Rpb24oYXV0aG9yKQ0KICAgIHJldHVybiAiYnkgIiAuLiBhdXRob3INCmVuZCkNCg0KLS0gR2VuZXJhbCBzdGF0aXN0aWNzDQpsb2NhbCBwaW5nID0gS2V5VmFsSFVEQ29udGFpbmVyKCJQaW5nOiIsIGxlZnRDb2x1bW4pDQpFdmVudHMuc3Vic2NyaWJlKCJnZW5lcmFsIiwgZnVuY3Rpb24oZ2VuZXJhbCkNCiAgICBwaW5nOnNldFZhbFRleHQoZ2VuZXJhbC5waW5nIC4uICIgbXMiKQ0KZW5kKQ0KDQpsb2NhbCBsZXZlbCA9IEtleVZhbEhVRENvbnRhaW5lcigiTGV2ZWw6IiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KICAgIGxldmVsOnNldFZhbFRleHQodG9zdHJpbmcoZ2VuZXJhbC5sZXZlbCkpDQplbmQpDQoNCmxvY2FsIHN0YW1pbmEgPSBLZXlWYWxIVURDb250YWluZXIoIlN0YW1pbmE6IiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KICAgIGxvY2FsIHRvdGFsU3RhbWluYSA9IGdlbmVyYWwuc3RhbWluYQ0KICAgIGxvY2FsIHN0YW1pbmFIID0gbWF0aC5mbG9vcih0b3RhbFN0YW1pbmEvNjApDQogICAgbG9jYWwgc3RhbWluYU0gPSB0b3RhbFN0YW1pbmEgJSA2MA0KICAgIHN0YW1pbmE6c2V0VmFsVGV4dChzdHJpbmcuZm9ybWF0KCIlMDIuZjolMDIuZiIsIHN0YW1pbmFILCBzdGFtaW5hTSkpDQplbmQpDQoNCmxvY2FsIHNlc3Npb24gPSBLZXlWYWxIVURDb250YWluZXIoIlNlc3Npb24gTGVuZ3RoOiIsIGxlZnRDb2x1bW4pDQpFdmVudHMuc3Vic2NyaWJlKCJnZW5lcmFsIiwgZnVuY3Rpb24oZ2VuZXJhbCkNCiAgICBsb2NhbCB0b3RhbFNlY29uZHMgPSBnZW5lcmFsLnVzZWRTZWNvbmRzDQogICAgbG9jYWwgc2Vjb25kcyA9IG1hdGguZmxvb3IodG90YWxTZWNvbmRzICUgNjApDQogICAgbG9jYWwgbWludXRlcyA9IG1hdGguZmxvb3IodG90YWxTZWNvbmRzLzYwICUgNjApDQogICAgbG9jYWwgaG91cnMgPSBtYXRoLmZsb29yKHRvdGFsU2Vjb25kcy8zNjAwKQ0KICAgIGxvY2FsIGZvcm1hdHRlZCA9IHN0cmluZy5mb3JtYXQoIiUwMi5mOiUwMi5mOiUwMi5mIiwgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMpDQogICAgc2Vzc2lvbjpzZXRWYWxUZXh0KGZvcm1hdHRlZCkNCmVuZCkNCg0KbG9jYWwgYmFua0JhbGFuY2UgPSBLZXlWYWxIVURDb250YWluZXIoIkJhbGFuY2U6IiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KICAgIGJhbmtCYWxhbmNlOnNldFZhbFRleHQoc3RyaW5nLmZvcm1hdCgiJXMgZ3AiLCBmb3JtYXRHYWluKGdlbmVyYWwuYmFsYW5jZSkpKQ0KZW5kKQ0KDQpsb2NhbCB0aW1lVG9MZXZlbCA9IEtleVZhbEhVRENvbnRhaW5lcigiVGltZSB0byBsZXZlbDoiLCBsZWZ0Q29sdW1uKQ0KRXZlbnRzLnN1YnNjcmliZSgiZ2VuZXJhbCIsIGZ1bmN0aW9uKGdlbmVyYWwpDQogICAgbG9jYWwgdG90YWxTZWNvbmRzID0gZ2VuZXJhbC50aW1lVG9MZXZlbA0KICAgIGxvY2FsIG1pbnV0ZXMgPSBtYXRoLmZsb29yKHRvdGFsU2Vjb25kcy82MCAlIDYwKQ0KICAgIGxvY2FsIGhvdXJzID0gbWF0aC5mbG9vcih0b3RhbFNlY29uZHMvMzYwMCkNCiAgICBsb2NhbCBmb3JtYXR0ZWQgPSBzdHJpbmcuZm9ybWF0KCIlMDIuZjolMDIuZiIsIGhvdXJzLCBtaW51dGVzKQ0KICAgIHRpbWVUb0xldmVsOnNldFZhbFRleHQodG90YWxTZWNvbmRzID09IC0xIGFuZCAiLS0iIG9yIGZvcm1hdHRlZCkNCmVuZCkNCg0KLS0gRXhwIGdhaW4NCkVtcHR5SFVEQ29udGFpbmVyKGxlZnRDb2x1bW4pDQpsb2NhbCBleHBQZXJIID0gS2V5VmFsSFVEQ29udGFpbmVyKCJFeHA6IiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KICAgIGxvY2FsIGV4cEhLID0gZ2VuZXJhbC5leHBIIC8gMTAwMA0KICAgIGV4cFBlckg6c2V0VmFsVGV4dChzdHJpbmcuZm9ybWF0KCIlLjAxZiBrL2giLCBleHBISykpDQplbmQpDQpsb2NhbCBleHBQZXJTSCA9IEtleVZhbEhVRENvbnRhaW5lcigiIiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KICAgIGxvY2FsIGV4cFNISyA9IGdlbmVyYWwuZXhwU0ggLyAxMDAwDQogICAgZXhwUGVyU0g6c2V0VmFsVGV4dChzdHJpbmcuZm9ybWF0KCIlLjAxZiBrL3NoIiwgZXhwU0hLKSkNCmVuZCkNCg0KLS0gUHJvZml0IGdhaW4NCkVtcHR5SFVEQ29udGFpbmVyKGxlZnRDb2x1bW4pDQpsb2NhbCBwcm9maXRzUGVySCA9IEtleVZhbEhVRENvbnRhaW5lcigiUHJvZml0czoiLCBsZWZ0Q29sdW1uKQ0KRXZlbnRzLnN1YnNjcmliZSgiZ2VuZXJhbCIsIGZ1bmN0aW9uKGdlbmVyYWwpDQogICAgbG9jYWwgcHJvZml0c0hLID0gZ2VuZXJhbC5wcm9maXRzSCAvIDEwMDANCiAgICBwcm9maXRzUGVySDpzZXRWYWxUZXh0KHN0cmluZy5mb3JtYXQoIiUuMDFmIGsvaCIsIHByb2ZpdHNISykpDQplbmQpDQpsb2NhbCBwcm9maXRzUGVyU0ggPSBLZXlWYWxIVURDb250YWluZXIoIiIsIGxlZnRDb2x1bW4pDQpFdmVudHMuc3Vic2NyaWJlKCJnZW5lcmFsIiwgZnVuY3Rpb24oZ2VuZXJhbCkNCiAgICBsb2NhbCBwcm9maXRzU0hLID0gZ2VuZXJhbC5wcm9maXRzU0ggLyAxMDAwDQogICAgcHJvZml0c1BlclNIOnNldFZhbFRleHQoc3RyaW5nLmZvcm1hdCgiJS4wMWYgay9zaCIsIHByb2ZpdHNTSEspKQ0KZW5kKQ0KDQotLSBUb3RhbHMNCkVtcHR5SFVEQ29udGFpbmVyKGxlZnRDb2x1bW4pDQpsb2NhbCBleHBUb3RhbCA9IEtleVZhbEhVRENvbnRhaW5lcigiSHVudCBFWFA6IiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKSANCiAgICBleHBUb3RhbDpzZXRWYWxUZXh0KHN0cmluZy5mb3JtYXQoIiVzIEV4cCIsIGZvcm1hdEdhaW4oZ2VuZXJhbC5nYWluZWRFeHApKSkNCmVuZCkNCmxvY2FsIHByb2ZpdHNUb3RhbCA9IEtleVZhbEhVRENvbnRhaW5lcigiTHVjcm8gRGEgSHVudDoiLCBsZWZ0Q29sdW1uKQ0KRXZlbnRzLnN1YnNjcmliZSgiZ2VuZXJhbCIsIGZ1bmN0aW9uKGdlbmVyYWwpDQogICAgcHJvZml0c1RvdGFsOnNldFZhbFRleHQoc3RyaW5nLmZvcm1hdCgiJXMiLCBmb3JtYXRHYWluKGdlbmVyYWwudG90YWxQcm9maXQpKSkNCmVuZCkNCg0KLS0gUmlnaHQgQ29sdW1uDQpsb2NhbCByaWdodENvbHVtbiA9IENvbnRhaW5lckNvbnRhaW5lcihyaWdodHgsIEhpZGRlbkNvbmZpZy55SW5zZXQpDQpsb2NhbCBsb290ID0gQ29udGFpbmVyQ29udGFpbmVyKDAsIDAsIHJpZ2h0Q29sdW1uKQ0KbG9jYWwgd2FzdGUgPSBDb250YWluZXJDb250YWluZXIoMCwgMCwgcmlnaHRDb2x1bW4pDQoNCi0tIFdhc3RlDQpFbXB0eUhVRENvbnRhaW5lcih3YXN0ZSkNCmxvY2FsIHdhc3RlSGVhZGVyID0gSGVhZGVySFVEQ29udGFpbmVyKCJXQVNURUQiLCB3YXN0ZSkNCkVtcHR5SFVEQ29udGFpbmVyKHdhc3RlLCAxMCkNCg0KbG9jYWwgd2FzdGVQYXJ0cyA9IENvbnRhaW5lckNvbnRhaW5lcigwLCAwLCB3YXN0ZSkNCkV2ZW50cy5zdWJzY3JpYmUoIm5ld1dhc3RlSURzIiwgZnVuY3Rpb24obmV3aWRzKQ0KICAgIGZvciBfLCBpZCBpbiBpcGFpcnMobmV3aWRzKSBkbw0KICAgICAgICBpZiBub3Qgd2FzdGVQYXJ0cy5jb250YWluZWRJdGVtSURzW2lkXSB0aGVuDQogICAgICAgICAgICBpZiBEYXRhLmR1cmF0aW9uc1tpZF0gdGhlbg0KICAgICAgICAgICAgICAgIEFjdGl2ZVdhc3RlSXRlbUhVRENvbnRhaW5lcihpZCwgd2FzdGVQYXJ0cykNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICBXYXN0ZUl0ZW1IVURDb250YWluZXIoaWQsIHdhc3RlUGFydHMpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIHdhc3RlUGFydHMuY29udGFpbmVkSXRlbUlEc1tpZF0gPSB0cnVlDQogICAgICAgIGVuZA0KICAgIGVuZA0KZW5kKQ0KDQpsb2NhbCB3YXN0ZVN1bSA9IENvbnRhaW5lckNvbnRhaW5lcigwLCAwLCB3YXN0ZSkNCkVtcHR5SFVEQ29udGFpbmVyKHdhc3RlU3VtKQ0KbG9jYWwgdG90YWxXYXN0ZSA9IEtleVZhbEhVRENvbnRhaW5lcigiV2FzdGVkOiIsIHdhc3RlU3VtKQ0KRXZlbnRzLnN1YnNjcmliZSgiZ2VuZXJhbCIsIGZ1bmN0aW9uKGdlbmVyYWwpDQogICAgdG90YWxXYXN0ZTpzZXRWYWxUZXh0KHN0cmluZy5mb3JtYXQoIiVkIGdwIiwgZ2VuZXJhbC50b3RhbFdhc3RlKSkNCmVuZCkNCg0KLS0gTG9vdA0KbG9jYWwgbG9vdEhlYWRlciA9IEhlYWRlckhVRENvbnRhaW5lcigiTE9PVCIsIGxvb3QpDQpFbXB0eUhVRENvbnRhaW5lcih3YXN0ZSwgMTApDQoNCmxvY2FsIGxvb3RQYXJ0cyA9IENvbnRhaW5lckNvbnRhaW5lcigwLCAwLCBsb290KQ0KRXZlbnRzLnN1YnNjcmliZSgibmV3TG9vdElEcyIsIGZ1bmN0aW9uKG5ld2lkcykNCiAgICBmb3IgXywgaWQgaW4gaXBhaXJzKG5ld2lkcykgZG8NCiAgICAgICAgaWYgbm90IGxvb3RQYXJ0cy5jb250YWluZWRJdGVtSURzW2lkXSB0aGVuDQogICAgICAgICAgICBMb290SXRlbUhVRENvbnRhaW5lcihpZCwgbG9vdFBhcnRzKQ0KICAgICAgICAgICAgbG9vdFBhcnRzLmNvbnRhaW5lZEl0ZW1JRHNbaWRdID0gdHJ1ZQ0KICAgICAgICBlbmQNCiAgICBlbmQNCmVuZCkNCg0KbG9jYWwgbG9vdFN1bSA9IENvbnRhaW5lckNvbnRhaW5lcigwLCAwLCBsb290KQ0KRW1wdHlIVURDb250YWluZXIobG9vdFN1bSkNCmxvY2FsIHRvdGFsTG9vdCA9IEtleVZhbEhVRENvbnRhaW5lcigiTG9vdGVkOiIsIGxvb3RTdW0pDQpFdmVudHMuc3Vic2NyaWJlKCJnZW5lcmFsIiwgZnVuY3Rpb24oZ2VuZXJhbCkNCiAgICB0b3RhbExvb3Q6c2V0VmFsVGV4dChzdHJpbmcuZm9ybWF0KCIlZCBncCIsIGdlbmVyYWwudG90YWxMb290KSkNCmVuZCkNCg0KDQpNb2R1bGUoIlJlc2l6ZXIiLCBmdW5jdGlvbihtb2R1bGUpDQogICAgbG9jYWwgbmV3U2NyZWVuID0gSFVELkdldE1haW5XaW5kb3dEaW1lbnNpb25zKCkNCg0KICAgIGxvY2FsIG5ld0xlZnR4ID0gbGVmdFgobmV3U2NyZWVuKQ0KICAgIGlmIG5ld0xlZnR4IH49IGxlZnR4IHRoZW4NCiAgICAgICAgbGVmdHggPSBuZXdMZWZ0eA0KICAgICAgICBsZWZ0Q29sdW1uOm1vdmUobGVmdHgsIEhpZGRlbkNvbmZpZy55SW5zZXQpDQogICAgZW5kDQoNCiAgICBsb2NhbCBuZXdSaWdodHggPSByaWdodFgobmV3U2NyZWVuKQ0KICAgIGlmIG5ld1JpZ2h0eCB+PSByaWdodHggdGhlbg0KICAgICAgICByaWdodHggPSBuZXdSaWdodHgNCiAgICAgICAgcmlnaHRDb2x1bW46bW92ZShyaWdodHgsIEhpZGRlbkNvbmZpZy55SW5zZXQpDQogICAgZW5kDQoNCiAgICBtb2R1bGU6RGVsYXkoMTAwMCkNCmVuZCkNCg==]]></script>
		<script name="Bps fidera.lua"><![CDATA[bG9jYWwgTWFpbkJQbmFtZSA9ICJiYWNrcGFjayINCmxvY2FsIEl0ZW1uYW1lID0gIm9yYW5nZSBiYWNrcGFjayINCmxvY2FsIEdvbGRuYW1lID0gIiINCg0KZnVuY3Rpb24gb3BlbkJQKCkNCmxvY2FsIGJhY2twYWNrMyA9IENvbnRhaW5lci5HZXRCeU5hbWUoR29sZG5hbWUpDQpsb2NhbCBiYWNrcGFjazIgPSBDb250YWluZXIuR2V0QnlOYW1lKEl0ZW1uYW1lKQ0KbG9jYWwgYmFja3BhY2sxID0gQ29udGFpbmVyLkdldEJ5TmFtZShNYWluQlBuYW1lKQ0KaWYgKGJhY2twYWNrMTppc09wZW4oKSA9PSBmYWxzZSkgdGhlbg0KZGVsYXlXYWxrZXIoMTAwMCkNCndhaXQoNTAwKQ0KU2VsZi5Vc2VJdGVtKFNlbGYuQmFja3BhY2soKS5pZCkNCiAgICAgICAgQ29udGFpbmVyLkNsb3NlKEl0ZW1uYW1lKQ0KICAgICAgICB3YWl0KDEwMDApICAgICAgICANCiAgICAgICAgQ29udGFpbmVyLkdldEZpcnN0KCk6T3BlbkNoaWxkcmVuKEl0ZW1uYW1lKQ0KICAgICAgICB3YWl0KDEwMDApDQogICAgICAgIENvbnRhaW5lci5HZXRCeU5hbWUoSXRlbW5hbWUpDQogICAgICAgICAgICAgICAgQ29udGFpbmVyLkNsb3NlKEdvbGRuYW1lKQ0KICAgICAgICB3YWl0KDEwMDApICAgICAgICANCiAgICAgICAgQ29udGFpbmVyLkdldEZpcnN0KCk6T3BlbkNoaWxkcmVuKEdvbGRuYW1lKQ0KICAgICAgICB3YWl0KDEwMDApDQogICAgICAgIENvbnRhaW5lci5HZXRCeU5hbWUoR29sZG5hbWUpDQp3YWl0KDIwMDApDQplbmQNCmVuZA0KDQp3aGlsZSh0cnVlKSBkbw0Kb3BlbkJQKCkNCndhaXQoNTAwLDEwMDApDQplbmQ=]]></script>
		<script name="Impera Insetos 1 EK.lua"><![CDATA[LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLS0tLS0tLUVkaWluc3ogV29ya1Nob3DihKItLS0tLS0tLQ0KLS0tLVNjcmlwdHMgQnkgRWRzb25KdW5pb3ItLS0tLS0tDQotLS0tLS0tLS1EaXZpcnRhLXNlIS0tLS0tLS0tLS0tLS0NCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KDQotLS0tLS0tLS0tLSBCUCBTRVRVUCAtLS0tLS0tLS0tLS0NCmxvY2FsIEdvbGRCUCA9ICJiYWNrcGFjayIJCS0tLSBZb3VyIGdvbGQgYmFja3BhY2sgKHVzZSBzYW1lIGNvbG9ycyBpbnNpZGUpDQpsb2NhbCBMb290QlAgPSAib3JhbmdlIGJhY2twYWNrIgkJCS0tLSBZb3VyIGxvb3QgYmFja3BhY2sgDQoNCg0KLS0tLS0tIFJFRklMTCBTRVRVUCAtLS0tLS0NCmxvY2FsIE1pbk1hbmEgPSAyNTAgLS0tIEhvdyBtYW55IG1hbmEgcG90aW9ucyB1bnRpbCB5b3UgbGVhdmUgdGhlIGh1bnQuDQpsb2NhbCBNYXhNYW5hID0gMTIwMCAtLS0gSG93IG1hbnkgbWFuYSBwb3Rpb25zIHlvdSBiZWdpbiB0aGUgaHVudCB3aXRoLg0KbG9jYWwgSURNYW5hID0gMjY4IC0tLSBJRCBNYW5hIFBvdGlvbg0KbG9jYWwgQ29zdE1hbmEgPSA1MCAtLS0gUHJpY2UgTWFuYSBQb3Rpb24NCg0KbG9jYWwgTWluSGVhbHRoID0gNjAgLS0tIEhvdyBtYW55IGhlYWx0aCBwb3Rpb25zIHVudGlsIHlvdSBsZWF2ZSB0aGUgaHVudC4NCmxvY2FsIE1heEhlYWx0aCA9IDIwMCAtLS0gSG93IG1hbnkgaGVhbHRoIHBvdGlvbnMgeW91IGJlZ2luIHRoZSBodW50IHdpdGguDQpsb2NhbCBJREhlYWx0aCA9IDIzOSAtLS0gSUQgSGVhbHRoIHBvdGlvbg0KbG9jYWwgQ29zdEhlYWx0aCA9IDMxMCAtLS0gUHJpY2UgSGVhbHRoIFBvdGlvbg0KDQotLS0tLS0tIEVYVFJBIFNFVFRJTkdTIC0tLS0tLQ0KbG9jYWwgTWluQ2FwID0gNDAwIC0tLSBMZWF2ZXMgc3Bhd24gd2hlbiBjaGFyYWN0ZXIgcmVhY2hlcyB0aGlzIGNhcC4NCg0KDQogDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KVGFyZ2V0aW5nLlN0YXJ0KCkNCkxvb3Rlci5TdGFydCgpDQogDQpyZWdpc3RlckV2ZW50TGlzdGVuZXIoV0FMS0VSX1NFTEVDVExBQkVMLCAib25XYWxrZXJTZWxlY3RMYWJlbCIpDQogDQogICAgcHJpbnQoW1sNCiAgICAgLS0gWEVOT0JPVCAxMDAlIC0tIA0KCSBcXCBieSBTb25vIC8vIF1dKQ0KICAgIHdhaXQoNTAwMCkNCiAgICAgICANCmZ1bmN0aW9uIG9uV2Fsa2VyU2VsZWN0TGFiZWwobGFiZWxOYW1lKSANCg0KLS0gQ2hlY2FyIG5hIGh1bnQNCglpZiAobGFiZWxOYW1lID09ICJDaGVjayIpIHRoZW4NCglXYWxrZXIuQ29uZGl0aW9uYWxHb3RvKChTZWxmLkNhcCgpIDw9IE1pbkNhcCkgb3IgDQoJCQkJCQkJKFNlbGYuSXRlbUNvdW50KElETWFuYSkgPCBNaW5NYW5hKSBvcg0KCQkJCQkJCShTZWxmLkl0ZW1Db3VudChJREhlYWx0aCkgPCBNaW5IZWFsdGgpLCAiQ2l0eSIsICJIdW50IikNCgkJDQotLSBEZXBvc2l0YXIgZSBSZXRpcmFyIGdyYW5hCQkNCgllbHNlaWYgKGxhYmVsTmFtZSA9PSAiQmFuY28iKSB0aGVuDQoJCXByaW50KFtbRGVwb3NpdGFuZG8gZSByZXRpcmFuZG8gcGFyYSByZWZpbGxhcl1dKQ0KCQlsb2NhbCB3aXRoZHJhd01hbmFzID0gbWF0aC5tYXgoTWF4TWFuYSAtIFNlbGYuSXRlbUNvdW50KElETWFuYSksIDApKkNvc3RNYW5hDQoJCWxvY2FsIHdpdGhkcmF3SGVhbHRocyA9IG1hdGgubWF4KE1heEhlYWx0aCAtIFNlbGYuSXRlbUNvdW50KElESGVhbHRoKSwgMCkqQ29zdEhlYWx0aA0KCQlsb2NhbCB0b3RhbG1vbmV5bmVlZGVkID0gKHdpdGhkcmF3TWFuYXMgKyB3aXRoZHJhd0hlYWx0aHMpDQoJCWxvY2FsIE1BVEhDRUlMID0gKG1hdGguY2VpbCgodG90YWxtb25leW5lZWRlZCkpKQ0KCQlXYWxrZXIuU3RvcCgpDQoJCVNlbGYuU2F5VG9OcGMoeyJoaSIsICJkZXBvc2l0IGFsbCIsICJ5ZXMifSwgNjUpDQoJCWlmICh0b3RhbG1vbmV5bmVlZGVkID4gMCkgdGhlbg0KCQkJU2VsZi5TYXlUb05wYyh7IndpdGhkcmF3ICIgLi4gTUFUSENFSUwsICJ5ZXMifSwgNjUpICAgDQoJCWVuZCAgDQoJCXdhaXQoMjAwMCkNCgkJV2Fsa2VyLlN0YXJ0KCkNCgkJDQogLS0gRGVwb3NpdGFyIG5vIERQIGUgQ2hlY2FyIHN0YW1pbmENCiAgICBlbHNlaWYgKGxhYmVsTmFtZSA9PSAiRHAiKSB0aGVuDQoJCSAgICBXYWxrZXIuU3RvcCgpDQoJCQl3YWl0KDE5MDAsMjQwMCkNCiAgICAgICAgU2VsZi5SZWFjaERlcG90KCkNCiAgICAgICAgU2VsZi5EZXBvc2l0SXRlbXMoezE0MDg4LCAwfSwgezE0MDg3LCAwfSwgezE0MDg2LCAwfSwgezM1NTQsIDB9LCB7MTQwODksIDB9LCB7MzAzMiwgMH0sIHs5MDU3LCAwfSwgezMwMjcsIDB9LCB7MTQwNzgsIDB9LCB7MTQwODAsIDB9LCB7MTQwODEsIDB9LCB7MTQwNzYsIDB9LCB7MTQwODMsIDB9LCB7MTQyMjUsIDB9LCB7MTQwNzksIDB9LCB7MzAzNywgMH0sIHsxNDI0OSwgMH0sIHsxNDA3NywgMH0sIHs5MDU4LCAwfSwgezMwMzAsIDB9KQ0KCQl3YWl0KDIwMDApDQoJCQ0KCQlpZiAoU2VsZi5TdGFtaW5hKCkgPD0gOTYwKSB0aGVuDQoJCQlXYWxrZXIuU3RvcCgpDQoJCQlwcmludChbW1N0YW1pbmEgYmFpeGEsIHBhcmFuZG8gYm90Li4uXV0pDQoJCQkNCgkJZWxzZQ0KCQkJV2Fsa2VyLlN0YXJ0KCkNCgkJCXByaW50KFtbU3RhbWluYSBub3JtYWwsIGNvbnRpbnVhbmRvIGh1bnQuLi5dXSkNCgkJZW5kDQogDQogLS0gQ29tcHJhciBTdXBwbGllcw0KIAllbHNlaWYgKGxhYmVsTmFtZSA9PSAiU2hvcCIpIHRoZW4NCgkJV2Fsa2VyLlN0b3AoKQ0KCQlwcmludChbW0NvbXByYW5kby4uLl1dKQ0KCQlpZiAoU2VsZi5JdGVtQ291bnQoSURNYW5hKSA8IE1heE1hbmEpIG9yIChTZWxmLkl0ZW1Db3VudChJREhlYWx0aCkgPCBNYXhIZWFsdGgpIHRoZW4NCgkJCVNlbGYuU2F5VG9OcGMoeyJoaSIsICJ0cmFkZSJ9LCA2NSkNCgkJCXdhaXQoMjAwMCkNCgkJCWlmIChTZWxmLkl0ZW1Db3VudChJRE1hbmEpIDwgTWF4TWFuYSkgdGhlbg0KCQkJCUJ1eUl0ZW1zKElETWFuYSwgTWF4TWFuYSkNCgkJCQl3YWl0KDUwMCkNCgkJCWVuZA0KCQkJaWYgKFNlbGYuSXRlbUNvdW50KElESGVhbHRoKSA8IE1heEhlYWx0aCkgdGhlbg0KCQkJCUJ1eUl0ZW1zKElESGVhbHRoLCBNYXhIZWFsdGgpDQoJCQkJd2FpdCg3MDApDQoJCQllbmQNCgkJCXdhaXQoNDAwLCA3MDApDQoJCWVuZA0KCQlXYWxrZXIuU3RhcnQoKQ0KCQkJCQ0KLS0gUmVzZXRhciBCYWNrcGFjayAoQ29sb2NhciBzZW1wcmUgZGVwb2lzIGRvIGJhbmspCQ0KCWVsc2VpZiAobGFiZWxOYW1lID09ICJCcHMiKSB0aGVuDQoJCVdhbGtlci5TdG9wKCkNCgkJcHJpbnQoW1tSZXNldGFuZG8gQmFja3BhY2tzLi4uXV0pDQoJCXdhaXQoMTAwMCwyMDAwKQ0KCQlTZWxmLkNsb3NlQ29udGFpbmVycygpDQoJCXdhaXQoMjAwMCwzMDAwKQ0KCQlXYWxrZXIuU3RhcnQoKQkNCgkJDQoNCgllbmQNCmVuZA0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KZnVuY3Rpb24gQnV5SXRlbXMoaXRlbSwgY291bnQpIC0tIGl0ZW0gPSBpdGVtIGlkLCBjb3VudCA9IGhvdyBtYW55IHlvdSB3YW50IHRvIGJ1eSB1cCB0bw0KCXdhaXQoOTAwLCAxMjAwKQ0KCWlmIChTZWxmLkl0ZW1Db3VudChpdGVtKSA8IGNvdW50KSB0aGVuDQoJCVNlbGYuU2hvcEJ1eUl0ZW0oaXRlbSwgKGNvdW50LVNlbGYuSXRlbUNvdW50KGl0ZW0pKSkNCgkJd2FpdCgyMDAsIDUwMCkNCgllbmQNCmVuZA0KDQpTZWxmLlJlYWNoRGVwb3QgPSBmdW5jdGlvbiAodHJpZXMpDQoJbG9jYWwgdHJpZXMgPSB0cmllcyBvciAzDQoJV2Fsa2VyLlN0b3AoKQ0KCWxvY2FsIERlcG90SURzID0gezM0OTcsIDM0OTgsIDM0OTksIDM1MDB9DQoJbG9jYWwgRGVwb3RQb3MgPSB7fQ0KCWZvciBpID0gMSwgI0RlcG90SURzIGRvDQoJCWxvY2FsIGRwcyA9IE1hcC5HZXRVc2VJdGVtcyhEZXBvdElEc1tpXSkNCgkJZm9yIGogPSAxLCAjZHBzIGRvDQoJCQl0YWJsZS5pbnNlcnQoRGVwb3RQb3MsIGRwc1tqXSkNCgkJZW5kDQoJZW5kDQoJbG9jYWwgZnVuY3Rpb24gZ290b0RlcG90KCkNCgkJbG9jYWwgcG9zID0gU2VsZi5Qb3NpdGlvbigpDQoJCXByaW50KCJEZXBvdHMgZm91bmQ6ICIgLi4gdG9zdHJpbmcoI0RlcG90UG9zKSkNCgkJZm9yIGkgPSAxLCAjRGVwb3RQb3MgZG8NCgkJCWxvY2F0aW9uID0gRGVwb3RQb3NbaV0NCgkJCVNlbGYuVXNlSXRlbUZyb21Hcm91bmQobG9jYXRpb24ueCwgbG9jYXRpb24ueSwgbG9jYXRpb24ueikNCgkJCXdhaXQoMTAwMCwgMjAwMCkNCgkJCWlmIFNlbGYuRGlzdGFuY2VGcm9tUG9zaXRpb24ocG9zLngsIHBvcy55LCBwb3MueikgPj0gMSB0aGVuDQoJCQkJd2FpdCg1MDAwLCA2MDAwKQ0KCQkJCWlmIFNlbGYuRGlzdGFuY2VGcm9tUG9zaXRpb24obG9jYXRpb24ueCwgbG9jYXRpb24ueSwgbG9jYXRpb24ueikgPT0gMSB0aGVuDQoJCQkJCVdhbGtlci5TdGFydCgpDQoJCQkJCXJldHVybiB0cnVlDQoJCQkJZW5kDQoJCQllbHNlDQoJCQkJcHJpbnQoIlNvbWV0aGluZyBpcyBibG9ja2luZyB0aGUgcGF0aC4gVHJ5aW5nIG5leHQgZGVwb3QuIikNCgkJCWVuZA0KCQllbmQNCgkJcmV0dXJuIGZhbHNlDQoJZW5kDQoJDQoJcmVwZWF0DQoJCXJlYWNoZWREUCA9IGdvdG9EZXBvdCgpDQoJCWlmIHJlYWNoZWREUCB0aGVuDQoJCQlyZXR1cm4gdHJ1ZQ0KCQllbmQNCgkJdHJpZXMgPSB0cmllcyAtIDENCgkJc2xlZXAoMTAwKQ0KCQlwcmludCgiQXR0ZW1wdCB0byByZWFjaCBkZXBvdCB3YXMgdW5zdWNjZXNzZnVsbC4gIiAuLiB0cmllcyAuLiAiIHRyaWVzIGxlZnQuIikNCgl1bnRpbCB0cmllcyA8PSAwDQoNCglyZXR1cm4gZmFsc2UNCmVuZA0KDQpNYXAuR2V0VXNlSXRlbXMgPSBmdW5jdGlvbiAoaWQpDQogICAgaWYgdHlwZShpZCkgPT0gInN0cmluZyIgdGhlbg0KICAgICAgICBpZCA9IEl0ZW0uR2V0SUQoaWQpDQogICAgZW5kDQogICAgbG9jYWwgcG9zID0gU2VsZi5Qb3NpdGlvbigpDQoJbG9jYWwgc3RvcmUgPSB7fQ0KICAgIGZvciB4ID0gLTcsIDcgZG8NCiAgICAgICAgZm9yIHkgPSAtNSwgNSBkbw0KICAgICAgICAgICAgaWYgTWFwLkdldFRvcFVzZUl0ZW0ocG9zLnggKyB4LCBwb3MueSArIHksIHBvcy56KS5pZCA9PSBpZCB0aGVuDQogICAgICAgICAgICAgICAgaXRlbVBvcyA9IHt4ID0gcG9zLnggKyB4LCB5ID0gcG9zLnkgKyB5LCB6ID0gcG9zLnp9DQoJCQkJdGFibGUuaW5zZXJ0KHN0b3JlLCBpdGVtUG9zKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIHJldHVybiBzdG9yZQ0KZW5k]]></script>
		<script name="{R} Ring Of Healing Equip.lua"><![CDATA[bG9jYWwgUmluZ0lEID0gMzA5OA0KDQp3aGlsZSB0cnVlIGRvDQppZiBTZWxmLlJpbmcoKS5pZCA9PSAwIHRoZW4NClNlbGYuRXF1aXAoUmluZ0lELCAicmluZyIpDQplbmQNCndhaXQoNTAsMzAwKQ0KZW5k]]></script>
	</control>
</panel>
<panel name="Advertising">
	<control name="watchSellingWords" value="item, item2"/>
	<control name="watchSellingEnable" value="0"/>
	<control name="watchBuyingWords" value="item, item2"/>
	<control name="watchBuyingEnable" value="0"/>
	<control name="blockLinksEnable" value="0"/>
	<control name="reduceSpamEnable" value="0"/>
</panel>
