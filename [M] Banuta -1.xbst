<panel name="Self Healer">
	<control name="SpellList">
		<item spell="Exura Vita" mana="160" vcomp="0" vsign="1" vrandom="0" vvalue="50" enabled="1"/>
		<item spell="Exura Gran" mana="70" vcomp="0" vsign="1" vrandom="0" vvalue="85" enabled="1"/>
		<item spell="Exura" mana="20" vcomp="0" vsign="1" vrandom="0" vvalue="85" enabled="1"/>
	</control>
	<control name="ItemList">
		<item id="3153" vcomp="0" vsign="0" vrandom="0" vvalue="0" enabled="0"/>
		<item id="3200" vcomp="0" vsign="0" vrandom="0" vvalue="0" enabled="0"/>
		<item id="3160" vcomp="0" vsign="0" vrandom="0" vvalue="0" enabled="0"/>
		<item id="3197" vcomp="0" vsign="0" vrandom="0" vvalue="0" enabled="0"/>
		<item id="3158" vcomp="0" vsign="0" vrandom="0" vvalue="0" enabled="0"/>
		<item id="3148" vcomp="0" vsign="0" vrandom="0" vvalue="0" enabled="0"/>
		<item id="3155" vcomp="0" vsign="0" vrandom="0" vvalue="0" enabled="0"/>
		<item id="3198" vcomp="0" vsign="0" vrandom="0" vvalue="0" enabled="0"/>
		<item id="3202" vcomp="0" vsign="0" vrandom="0" vvalue="0" enabled="0"/>
		<item id="3175" vcomp="0" vsign="0" vrandom="0" vvalue="0" enabled="0"/>
		<item id="3191" vcomp="0" vsign="0" vrandom="0" vvalue="0" enabled="0"/>
		<item id="3161" vcomp="0" vsign="0" vrandom="0" vvalue="0" enabled="0"/>
		<item id="238" vcomp="0" vsign="3" vrandom="0" vvalue="30" enabled="1"/>
	</control>
</panel>
<panel name="Frag Helper">
	<control name="HoldTarg" value="1"/>
	<control name="ComboEnable" value="0"/>
</panel>
<panel name="Tools">
	<control name="LightEnable" value="0"/>
	<control name="XRayEnable" value="0"/>
	<control name="ShowLookIDs" value="1"/>
	<control name="ShowManaBar" value="0"/>
	<control name="ShowBPInfo" value="1"/>
	<control name="EnableAntiIdle" value="0"/>
	<control name="EnableEatFood" value="1"/>
	<control name="EnableAdvancedInfo" value="0"/>
</panel>
<panel name="Combo Options">
	<control name="ComboSayLeader" value=""/>
	<control name="ComboSayPhrase" value=""/>
	<control name="ComboSayEnable" value="0"/>
	<control name="ComboShotLeader" value=""/>
	<control name="ComboShotType" value="0"/>
	<control name="ComboShotEnable" value="0"/>
	<control name="ComboExivaLeader" value=""/>
	<control name="ComboExivaEnable" value="0"/>
	<control name="ComboParaWatch" value="0"/>
	<control name="ComboParaEnable" value="0"/>
	<control name="ComboPartyWatch" value="0"/>
	<control name="ComboPartyEnable" value="0"/>
	<control name="ComboAttackSpell" value="Exevo Gran Mas Frigo"/>
	<control name="ComboAttackSpellEnable" value="0"/>
	<control name="ComboAttackRuneID" value="3155"/>
	<control name="ComboAttackRuneEnable" value="0"/>
	<control name="ComboFocusType" value="0"/>
</panel>
<panel name="HUD">
	<control name="HUDItemList">
		<item textColor="9" x="5" y="5" pos="4" checked="0"/>
		<item textColor="8" x="5" y="5" pos="6" checked="0"/>
		<item textColor="7" x="5" y="5" pos="0" checked="0"/>
		<item textColor="6" x="5" y="5" pos="8" checked="0"/>
		<item textColor="4" x="5" y="5" pos="10" checked="0"/>
		<item textColor="13" x="5" y="5" pos="0" checked="0"/>
		<item textColor="13" x="5" y="5" pos="2" checked="0"/>
		<item textColor="0" x="0" y="0" pos="0" checked="0"/>
	</control>
	<control name="HPPercOnClick" value="0"/>
	<control name="MPPercOnClick" value="0"/>
	<control name="MPPercClickEnable" value="0"/>
	<control name="MPPercClickEnable" value="0"/>
</panel>
<panel name="Recent Loot">
	<control name="LootMonsterList">
	</control>
	<control name="DisplaySelectLoot" value="0"/>
	<control name="HideNothingLoot" value="0"/>
</panel>
<panel name="Spell Timers">
	<control name="ShowHasteTimer" value="1"/>
	<control name="ShowManaTimer" value="1"/>
	<control name="ShowInvisibleTimer" value="1"/>
	<control name="ShowBuffTimers" value="1"/>
</panel>
<panel name="Kill Counters">
	<control name="KillCounterBox">
	</control>
	<control name="DisplaySelectCounters" value="0"/>
	<control name="DisplayCountRatios" value="0"/>
</panel>
<panel name="Battle Information">
	<control name="ShowTakenDamage" value="1"/>
	<control name="ShowDealtDamage" value="1"/>
	<control name="ShowTarget" value="1"/>
	<control name="ShowFollow" value="1"/>
	<control name="ShowExiva" value="1"/>
</panel>
<panel name="Experience Information">
	<control name="ShowHourlyExp" value="1"/>
	<control name="ShowExpTogo" value="1"/>
	<control name="ShowTimeLeft" value="1"/>
</panel>
<panel name="Condition Manager">
	<control name="PoisonCureLimit" value="6"/>
	<control name="PoisonCureMana" value="20"/>
	<control name="PoisonCureEnable" value="0"/>
	<control name="DeathCureLimit" value="10"/>
	<control name="DeathCureMana" value="40"/>
	<control name="DeathCureEnable" value="0"/>
	<control name="PhysicalCureLimit" value="5"/>
	<control name="PhysicalCureMana" value="30"/>
	<control name="PhysicalCureEnable" value="0"/>
	<control name="FireCureLimit" value="20"/>
	<control name="FireCureMana" value="30"/>
	<control name="FireCureEnable" value="0"/>
	<control name="EnergyCureLimit" value="15"/>
	<control name="EnergyCureMana" value="30"/>
	<control name="EnergyCureEnable" value="0"/>
	<control name="ParaCureEnable" value="1"/>
	<control name="ParaCureMana" value="160"/>
	<control name="ParaCureSpell" value="utani gran hur"/>
	<control name="HasteCastMana" value="60"/>
	<control name="HasteCastSpell" value="Utani Hur"/>
	<control name="HasteCastEnable" value="1"/>
	<control name="InvisibleCastMana" value="50"/>
	<control name="InvisibleCastEnable" value="0"/>
	<control name="ShieldCastMana" value="50"/>
	<control name="ShieldCastEnable" value="0"/>
	<control name="RecoveryCastEnable" value="0"/>
	<control name="RecoveryCastType" value="1"/>
	<control name="RecoveryCastMana" value="165"/>
	<control name="RecoveryCheckPzEnable" value="1"/>
</panel>
<panel name="Equipment Manager">
	<control name="AmmoRefillID" value="15793"/>
	<control name="AmmoRefillEnable" value="0"/>
	<control name="WeaponRefillID" value="7368"/>
	<control name="WeaponRefillEnable" value="0"/>
</panel>
<panel name="Targeting">
	<control name="TargetingList">
		<item type="Serpent Spawn" spl="Exori San" rne="3155" chs="0" atk="0" max="10" min="0" prio="7" prox="7" count="1"/>
		<item type="Medusa" spl="Exori San" rne="3155" chs="0" atk="0" max="10" min="0" prio="7" prox="7" count="1"/>
		<item type="Hydra" spl="exori con" rne="3155" chs="0" atk="0" max="10" min="0" prio="7" prox="7" count="1"/>
		<item type="Serpent Spawn" spl="Exori San" rne="3155" chs="7" atk="0" max="100" min="10" prio="6" prox="2" count="2"/>
		<item type="Medusa" spl="Exori San" rne="3155" chs="7" atk="0" max="100" min="10" prio="6" prox="2" count="2"/>
		<item type="Serpent Spawn" spl="Exori San" rne="3155" chs="7" atk="0" max="100" min="10" prio="5" prox="7" count="1"/>
		<item type="Medusa" spl="Exori San" rne="3155" chs="7" atk="0" max="100" min="10" prio="4" prox="7" count="1"/>
		<item type="Hydra" spl="exori con" rne="3155" chs="7" atk="0" max="100" min="10" prio="3" prox="7" count="1"/>
		<item type="Frost Dragon" spl="exori san" rne="3155" chs="7" atk="0" max="100" min="0" prio="2" prox="7" count="1"/>
		<item type="Eternal Guardian" spl="exori san" rne="3155" chs="7" atk="0" max="100" min="0" prio="2" prox="7" count="1"/>
		<item type="Acid Blob" spl="exori flam" rne="3155" chs="0" atk="0" max="100" min="0" prio="1" prox="7" count="1"/>
		<item type="Ice Golem" spl="exori vis" rne="3155" chs="1" atk="0" max="100" min="0" prio="1" prox="7" count="1"/>
		<item type="Giant Spider" spl="exori flam" rne="3155" chs="5" atk="0" max="100" min="0" prio="2" prox="7" count="1"/>
		<item type="Fire Elemental" spl="exori frigo" rne="3155" chs="0" atk="0" max="100" min="0" prio="1" prox="7" count="1"/>
		<item type="Massive Fire Elemental" spl="exori san" rne="3155" chs="0" atk="0" max="100" min="0" prio="3" prox="7" count="1"/>
		<item type="Bat" spl="exori vis" rne="3155" chs="0" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Carniphila" spl="exori flam" rne="3155" chs="0" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Centipede" spl="exori flam" rne="3155" chs="0" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Water Elemental" spl="exori vis" rne="3155" chs="0" atk="0" max="100" min="0" prio="1" prox="7" count="1"/>
		<item type="Earth Elemental" spl="exori flam" rne="3155" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Bug" spl="exori vis" rne="3158" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Spit Nettle" spl="exori vis" rne="3158" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Wasp" spl="exori vis" rne="3158" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Centipede" spl="exori vis" rne="3158" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Tiger" spl="exori vis" rne="3158" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Sibang" spl="exori vis" rne="3158" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Kongra" spl="exori vis" rne="3158" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Tarantula" spl="exori vis" rne="3158" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Merlkin" spl="exori vis" rne="3158" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Carniphila" spl="exori vis" rne="3158" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Terror Bird" spl="exori vis" rne="3158" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Wyvern" spl="exori vis" rne="3158" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Slime" spl="exori vis" rne="3158" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Crocodile" spl="exori vis" rne="3158" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Elephant" spl="exori flam" rne="3155" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
		<item type="Terrified Elephant" spl="exori flam" rne="3155" chs="1" atk="0" max="100" min="0" prio="10" prox="7" count="1"/>
	</control>
</panel>
<panel name="Walker">
	<control name="WaypointList">
		<item text="start|Trainer:" tag="255"/>
		<item text="Node (32200, 32296, 7)" tag="0"/>
		<item text="Stand (32203, 32299, 7)" tag="1"/>
		<item text="Node (32208, 32297, 6)" tag="0"/>
		<item text="Stand (32209, 32293, 6)" tag="1"/>
		<item text="Self.Step(NORTH)" tag="254"/>
		<item text="start|Temple|+:" tag="255"/>
		<item text="Node (32595, 32748, 7)" tag="0"/>
		<item text="Node (32595, 32756, 7)" tag="0"/>
		<item text="Node (32595, 32762, 7)" tag="0"/>
		<item text="Node (32606, 32762, 7)" tag="0"/>
		<item text="Node (32617, 32762, 7)" tag="0"/>
		<item text="start|Boat|Depot:" tag="255"/>
		<item text="Node (32532, 32778, 6)" tag="0"/>
		<item text="Node (32543, 32778, 6)" tag="0"/>
		<item text="Node (32543, 32787, 6)" tag="0"/>
		<item text="Node (32554, 32787, 6)" tag="0"/>
		<item text="Node (32557, 32778, 6)" tag="0"/>
		<item text="Node (32557, 32771, 6)" tag="0"/>
		<item text="Node (32563, 32767, 6)" tag="0"/>
		<item text="Node (32574, 32768, 6)" tag="0"/>
		<item text="Stand (32578, 32766, 6)" tag="1"/>
		<item text="Node (32579, 32770, 7)" tag="0"/>
		<item text="Node (32589, 32770, 7)" tag="0"/>
		<item text="Node (32597, 32770, 7)" tag="0"/>
		<item text="Node (32598, 32762, 7)" tag="0"/>
		<item text="Node (32607, 32762, 7)" tag="0"/>
		<item text="Node (32617, 32762, 7)" tag="0"/>
		<item text="Node (32617, 32754, 7)" tag="0"/>
		<item text="Node (32621, 32751, 7)" tag="0"/>
		<item text="start|Depot|+:" tag="255"/>
		<item text="Node (32617, 32755, 7)" tag="0"/>
		<item text="start|End:" tag="255"/>
		<item text="startCheck~FromDepot:" tag="255"/>
		<item text="checkDepositGold:" tag="255"/>
		<item text="Node (32622, 32747, 7)" tag="0"/>
		<item text="Stand (32625, 32749, 7)" tag="1"/>
		<item text="Node (32628, 32742, 6)" tag="0"/>
		<item text="preDepositGold:" tag="255"/>
		<item text="Stand (32632, 32740, 6)" tag="1"/>
		<item text="depositGold:" tag="255"/>
		<item text="Node (32625, 32746, 6)" tag="0"/>
		<item text="Stand (32625, 32749, 6)" tag="1"/>
		<item text="skipDepositGold:" tag="255"/>
		<item text="checkDepot:" tag="255"/>
		<item text="Node (32622, 32742, 7)" tag="0"/>
		<item text="depot:" tag="255"/>
		<item text="Node (32622, 32742, 7)" tag="0"/>
		<item text="Node (32622, 32747, 7)" tag="0"/>
		<item text="skipDepot:" tag="255"/>
		<item text="checkStamina:" tag="255"/>
		<item text="Node (32617, 32751, 7)" tag="0"/>
		<item text="Node (32617, 32762, 7)" tag="0"/>
		<item text="Node (32606, 32762, 7)" tag="0"/>
		<item text="Node (32595, 32762, 7)" tag="0"/>
		<item text="Node (32595, 32753, 7)" tag="0"/>
		<item text="Node (32595, 32744, 7)" tag="0"/>
		<item text="trainTeleport:" tag="255"/>
		<item text="Stand (32204, 32299, 6)" tag="1"/>
		<item text="Stand (32201, 32295, 7)" tag="1"/>
		<item text="trainStatue:" tag="255"/>
		<item text="skipStamina:" tag="255"/>
		<item text="checkBankMagicAmmo:" tag="255"/>
		<item text="Stand (32625, 32749, 7)" tag="1"/>
		<item text="Node (32628, 32742, 6)" tag="0"/>
		<item text="checkBankAmmo:" tag="255"/>
		<item text="checkBank:" tag="255"/>
		<item text="preBank:" tag="255"/>
		<item text="Stand (32632, 32740, 6)" tag="1"/>
		<item text="bank:" tag="255"/>
		<item text="Node (32628, 32742, 6)" tag="0"/>
		<item text="checkAmmo:" tag="255"/>
		<item text="preAmmoShop:" tag="255"/>
		<item text="Stand (32632, 32745, 6)" tag="1"/>
		<item text="shopAmmo:" tag="255"/>
		<item text="checkMagic:" tag="255"/>
		<item text="Ladder (32630, 32742, 6)" tag="2"/>
		<item text="preMagic:" tag="255"/>
		<item text="Stand (32624, 32742, 5)" tag="1"/>
		<item text="shopMagic:" tag="255"/>
		<item text="Stand (32626, 32742, 5)" tag="1"/>
		<item text="skipMagic:" tag="255"/>
		<item text="Node (32625, 32746, 6)" tag="0"/>
		<item text="Stand (32625, 32749, 6)" tag="1"/>
		<item text="skipBankMagicAmmo:" tag="255"/>
		<item text="checkSoftbootsAndEdronRunes:" tag="255"/>
		<item text="Node (32621, 32751, 7)" tag="0"/>
		<item text="Node (32617, 32756, 7)" tag="0"/>
		<item text="Node (32617, 32762, 7)" tag="0"/>
		<item text="Node (32608, 32762, 7)" tag="0"/>
		<item text="Node (32598, 32762, 7)" tag="0"/>
		<item text="Node (32597, 32770, 7)" tag="0"/>
		<item text="Node (32588, 32770, 7)" tag="0"/>
		<item text="Node (32580, 32770, 7)" tag="0"/>
		<item text="Node (32578, 32766, 7)" tag="0"/>
		<item text="Ladder (32578, 32766, 7)" tag="2"/>
		<item text="Node (32573, 32768, 6)" tag="0"/>
		<item text="Node (32562, 32767, 6)" tag="0"/>
		<item text="Node (32557, 32773, 6)" tag="0"/>
		<item text="Node (32557, 32783, 6)" tag="0"/>
		<item text="Node (32550, 32787, 6)" tag="0"/>
		<item text="Node (32543, 32787, 6)" tag="0"/>
		<item text="Node (32543, 32792, 6)" tag="0"/>
		<item text="Node (32532, 32792, 6)" tag="0"/>
		<item text="Node (32529, 32784, 6)" tag="0"/>
		<item text="portHopeToVenore:" tag="255"/>
		<item text="checkSoftboots:" tag="255"/>
		<item text="Node (32955, 32024, 6)" tag="0"/>
		<item text="Node (32955, 32033, 6)" tag="0"/>
		<item text="Node (32954, 32042, 6)" tag="0"/>
		<item text="Node (32954, 32051, 6)" tag="0"/>
		<item text="Node (32954, 32060, 6)" tag="0"/>
		<item text="Node (32954, 32069, 6)" tag="0"/>
		<item text="Node (32954, 32082, 6)" tag="0"/>
		<item text="Node (32954, 32091, 6)" tag="0"/>
		<item text="Node (32950, 32096, 6)" tag="0"/>
		<item text="Node (32950, 32104, 6)" tag="0"/>
		<item text="posSoft3:" tag="255"/>
		<item text="Stand (32953, 32108, 6)" tag="1"/>
		<item text="verify|posSoft3:" tag="255"/>
		<item text="shopSoftBoots:" tag="255"/>
		<item text="Node (32950, 32104, 6)" tag="0"/>
		<item text="Node (32950, 32096, 6)" tag="0"/>
		<item text="Node (32954, 32091, 6)" tag="0"/>
		<item text="Node (32954, 32082, 6)" tag="0"/>
		<item text="Node (32954, 32069, 6)" tag="0"/>
		<item text="Node (32954, 32060, 6)" tag="0"/>
		<item text="Node (32954, 32051, 6)" tag="0"/>
		<item text="Node (32954, 32042, 6)" tag="0"/>
		<item text="Node (32955, 32033, 6)" tag="0"/>
		<item text="posSoft4:" tag="255"/>
		<item text="Node (32955, 32024, 6)" tag="0"/>
		<item text="checkEdronRunes:" tag="255"/>
		<item text="venoreToEdron:" tag="255"/>
		<item text="verify|posSoft4|>50:" tag="255"/>
		<item text="Node (33175, 31767, 6)" tag="0"/>
		<item text="Node (33175, 31772, 6)" tag="0"/>
		<item text="Stand (33175, 31775, 6)" tag="1"/>
		<item text="Node (33180, 31775, 7)" tag="0"/>
		<item text="Node (33185, 31777, 7)" tag="0"/>
		<item text="Node (33190, 31779, 7)" tag="0"/>
		<item text="Node (33190, 31783, 7)" tag="0"/>
		<item text="Node (33190, 31787, 7)" tag="0"/>
		<item text="Node (33194, 31791, 7)" tag="0"/>
		<item text="Node (33201, 31791, 7)" tag="0"/>
		<item text="Node (33201, 31796, 7)" tag="0"/>
		<item text="Node (33201, 31801, 7)" tag="0"/>
		<item text="Node (33201, 31806, 7)" tag="0"/>
		<item text="Node (33201, 31811, 7)" tag="0"/>
		<item text="Node (33201, 31816, 7)" tag="0"/>
		<item text="Node (33201, 31820, 7)" tag="0"/>
		<item text="Node (33196, 31820, 7)" tag="0"/>
		<item text="Node (33191, 31820, 7)" tag="0"/>
		<item text="Node (33191, 31826, 7)" tag="0"/>
		<item text="Node (33191, 31832, 7)" tag="0"/>
		<item text="Node (33194, 31837, 7)" tag="0"/>
		<item text="Node (33198, 31843, 7)" tag="0"/>
		<item text="Node (33204, 31843, 7)" tag="0"/>
		<item text="Node (33210, 31843, 7)" tag="0"/>
		<item text="Node (33216, 31843, 7)" tag="0"/>
		<item text="Node (33221, 31840, 7)" tag="0"/>
		<item text="Node (33230, 31840, 7)" tag="0"/>
		<item text="Node (33238, 31841, 7)" tag="0"/>
		<item text="Node (33244, 31841, 7)" tag="0"/>
		<item text="Stand (33247, 31841, 7)" tag="1"/>
		<item text="Node (33254, 31842, 6)" tag="0"/>
		<item text="Stand (33258, 31840, 6)" tag="1"/>
		<item text="Stand (33257, 31842, 5)" tag="1"/>
		<item text="Stand (33255, 31842, 4)" tag="1"/>
		<item text="preEdronRunes:" tag="255"/>
		<item text="Stand (33256, 31841, 3)" tag="1"/>
		<item text="shopEdronRunes:" tag="255"/>
		<item text="Stand (33255, 31842, 3)" tag="1"/>
		<item text="Stand (33257, 31842, 4)" tag="1"/>
		<item text="Stand (33258, 31840, 5)" tag="1"/>
		<item text="Node (33254, 31842, 6)" tag="0"/>
		<item text="Node (33251, 31841, 6)" tag="0"/>
		<item text="Stand (33247, 31841, 6)" tag="1"/>
		<item text="Node (33238, 31841, 7)" tag="0"/>
		<item text="Node (33230, 31840, 7)" tag="0"/>
		<item text="Node (33221, 31840, 7)" tag="0"/>
		<item text="Node (33216, 31843, 7)" tag="0"/>
		<item text="Node (33210, 31843, 7)" tag="0"/>
		<item text="Node (33204, 31843, 7)" tag="0"/>
		<item text="Node (33198, 31843, 7)" tag="0"/>
		<item text="Node (33194, 31837, 7)" tag="0"/>
		<item text="Node (33191, 31832, 7)" tag="0"/>
		<item text="Node (33191, 31826, 7)" tag="0"/>
		<item text="Node (33191, 31820, 7)" tag="0"/>
		<item text="Node (33196, 31820, 7)" tag="0"/>
		<item text="Node (33201, 31820, 7)" tag="0"/>
		<item text="Node (33201, 31816, 7)" tag="0"/>
		<item text="Node (33201, 31811, 7)" tag="0"/>
		<item text="Node (33201, 31806, 7)" tag="0"/>
		<item text="Node (33201, 31801, 7)" tag="0"/>
		<item text="Node (33201, 31796, 7)" tag="0"/>
		<item text="Node (33201, 31791, 7)" tag="0"/>
		<item text="Node (33194, 31791, 7)" tag="0"/>
		<item text="Node (33190, 31787, 7)" tag="0"/>
		<item text="Node (33190, 31783, 7)" tag="0"/>
		<item text="Node (33190, 31779, 7)" tag="0"/>
		<item text="Node (33185, 31777, 7)" tag="0"/>
		<item text="Node (33180, 31775, 7)" tag="0"/>
		<item text="Node (33175, 31775, 7)" tag="0"/>
		<item text="Ladder (33175, 31775, 7)" tag="2"/>
		<item text="Node (33175, 31769, 6)" tag="0"/>
		<item text="posEdronRune1:" tag="255"/>
		<item text="Node (33175, 31764, 6)" tag="0"/>
		<item text="edronToPortHope:" tag="255"/>
		<item text="verify|posEdronRune1|>50:" tag="255"/>
		<item text="enterTown:" tag="255"/>
		<item text="venoreToPortHope:" tag="255"/>
		<item text="verify|posSoft4|>50:" tag="255"/>
		<item text="enterTown:" tag="255"/>
		<item text="hunt|FromDepot:" tag="255"/>
		<item text="Node (32629, 32762, 7)" tag="0"/>
		<item text="route|boatShortcut|noBoatShortcut:" tag="255"/>
		<item text="Node (32629, 32771, 7)" tag="0"/>
		<item text="posCheck1:" tag="255"/>
		<item text="Node (32629, 32772, 7)" tag="0"/>
		<item text="toBanutaEast:" tag="255"/>
		<item text="verify|posCheck1|>15:" tag="255"/>
		<item text="posCheck2:" tag="255"/>
		<item text="Node (32679, 32777, 7)" tag="0"/>
		<item text="toBanuta:" tag="255"/>
		<item text="verify|posCheck2|>30:" tag="255"/>
		<item text="ifstuck|true:" tag="255"/>
		<item text="Node (32826, 32632, 7)" tag="0"/>
		<item text="Node (32820, 32622, 7)" tag="0"/>
		<item text="Node (32829, 32609, 7)" tag="0"/>
		<item text="Node (32843, 32611, 7)" tag="0"/>
		<item text="Node (32848, 32620, 7)" tag="0"/>
		<item text="Node (32855, 32628, 7)" tag="0"/>
		<item text="Node (32852, 32634, 7)" tag="0"/>
		<item text="Node (32852, 32641, 7)" tag="0"/>
		<item text="Node (32850, 32647, 7)" tag="0"/>
		<item text="Node (32848, 32660, 7)" tag="0"/>
		<item text="Node (32853, 32667, 7)" tag="0"/>
		<item text="Walker.Goto('checkPos3')" tag="254"/>
		<item text="noBoatShortcut:" tag="255"/>
		<item text="ifstuck|true:" tag="255"/>
        <item text="Node (32626, 32754, 7)" tag="0"/>
        <item text="Node (32635, 32753, 7)" tag="0"/>
        <item text="Node (32641, 32755, 7)" tag="0"/>
        <item text="Node (32649, 32755, 7)" tag="0"/>
        <item text="Node (32657, 32752, 7)" tag="0"/>
        <item text="Node (32658, 32746, 7)" tag="0"/>
        <item text="Node (32667, 32745, 7)" tag="0"/>
        <item text="Node (32677, 32742, 7)" tag="0"/>
        <item text="Node (32685, 32742, 7)" tag="0"/>
        <item text="Node (32690, 32735, 7)" tag="0"/>
        <item text="Node (32696, 32731, 7)" tag="0"/>
        <item text="Node (32701, 32726, 7)" tag="0"/>
        <item text="Node (32707, 32721, 7)" tag="0"/>
        <item text="Node (32714, 32716, 7)" tag="0"/>
        <item text="Node (32722, 32710, 7)" tag="0"/>
        <item text="Node (32729, 32702, 7)" tag="0"/>
        <item text="Node (32736, 32694, 7)" tag="0"/>
        <item text="Node (32743, 32686, 7)" tag="0"/>
        <item text="Node (32749, 32678, 7)" tag="0"/>
        <item text="Node (32757, 32671, 7)" tag="0"/>
        <item text="Node (32763, 32663, 7)" tag="0"/>
        <item text="Node (32769, 32655, 7)" tag="0"/>
        <item text="Node (32772, 32645, 7)" tag="0"/>
        <item text="Node (32776, 32637, 7)" tag="0"/>   
        <item text="Node (32781, 32628, 7)" tag="0"/>
        <item text="Node (32790, 32624, 7)" tag="0"/>
        <item text="Node (32798, 32620, 7)" tag="0"/>
        <item text="Node (32807, 32612, 7)" tag="0"/>
        <item text="Node (32818, 32609, 7)" tag="0"/>
        <item text="Node (32828, 32608, 7)" tag="0"/>
        <item text="Node (32838, 32608, 7)" tag="0"/>
        <item text="Node (32845, 32612, 7)" tag="0"/>
        <item text="Node (32848, 32618, 7)" tag="0"/>
        <item text="Node (32850, 32625, 7)" tag="0"/>
        <item text="Node (32849, 32633, 7)" tag="0"/>
        <item text="Node (32848, 32642, 7)" tag="0"/>
        <item text="Node (32847, 32652, 7)" tag="0"/>
        <item text="Node (32848, 32663, 7)" tag="0"/>
        <item text="Node (32849, 32669, 7)" tag="0"/>
		<item text="checkPos3:" tag="255"/>
		<item text="Hole (32853, 32669, 7)" tag="4"/>
		<item text="verify|checkPos3|-:" tag="255"/>
		<item text="Stand (32853, 32669, 8)" tag="1"/>
		<item text="checkPos4:" tag="255"/>
		<item text="Stand (32857, 32667, 8)" tag="1"/>
		<item text="Self.Step(EAST)" tag="254"/>
		<item text="verify|checkPos4|-:" tag="255"/>
		<item text="Node (32854, 32667, 9)" tag="0"/>
		<item text="checkPos5:" tag="255"/>
		<item text="Hole (32854, 32666, 9)" tag="4"/>
		<item text="verify|checkPos5|-:" tag="255"/>
		<item text="Node (32860, 32661, 10)" tag="0"/>
		<item text="Node (32885, 32661, 10)" tag="0"/>
		<item text="Node (32891, 32647, 10)" tag="0"/>
		<item text="checkPos6:" tag="255"/>
		<item text="Stand (32891, 32645, 10)" tag="1"/>
		<item text="verify|checkPos6|-:" tag="255"/>
		<item text="checkPos7:" tag="255"/>
		<item text="Stand (32891, 32632, 11)" tag="1"/>
		<item text="Self.Step(WEST)" tag="254"/>
		<item text="Walker.ConditionalGoto((Self.DistanceFromPosition(32886, 32632, 11) > 2), 'checkPos7')" tag="254"/>
		<item text="Node (32883, 32628, 11)" tag="0"/>
		<item text="Node (32867, 32620, 11)" tag="0"/>
		<item text="Node (32849, 32619, 11)" tag="0"/>
		<item text="Node (32834, 32620, 11)" tag="0"/>
		<item text="Node (32814, 32623, 11)" tag="0"/>
		<item text="Node (32809, 32628, 11)" tag="0"/>
		<item text="Node (32808, 32630, 11)" tag="0"/>
		<item text="ifstuck|false:" tag="255"/>
		<item text="checkPos8:" tag="255"/>
		<item text="Node (32808, 32630, 11)" tag="0"/>
		<item text="Self.UseItemFromGround(32808, 32631, 11) wait(500) Self.Step(SOUTH) wait(500) Walker.ConditionalGoto((Self.Position().y < 32632), 'checkPos8')" tag="254"/>
		<item text="checkPos9:" tag="255"/>
		<item text="Stand (32806, 32636, 11)" tag="1"/>
		<item text="verify|checkPos9|-:" tag="255"/>
		<item text="continueHunt1:" tag="255"/>
		<item text="wait(1000)" tag="254"/>
		<item text="ifstuck|true|Lure:" tag="255"/>
		<item text="Node (32793, 32625, 12)" tag="0"/>
		<item text="Node (32787, 32631, 12)" tag="0"/>
		<item text="Node (32782, 32632, 12)" tag="0"/>
		<item text="Node (32769, 32633, 12)" tag="0"/>
		<item text="ifstuck|false:" tag="255"/>
		<item text="wait(1000)" tag="254"/>
		<item text="ifstuck|true|Lure:" tag="255"/>
		<item text="Node (32765, 32644, 12)" tag="0"/>
		<item text="Node (32754, 32650, 12)" tag="0"/>
		<item text="ifstuck|false:" tag="255"/>
		<item text="wait(1000)" tag="254"/>
		<item text="ifstuck|true|Lure:" tag="255"/>
		<item text="Node (32754, 32640, 12)" tag="0"/>
		<item text="Node (32757, 32632, 12)" tag="0"/>
		<item text="wait(1000)" tag="254"/>
		<item text="Node (32754, 32625, 12)" tag="0"/>
		<item text="Node (32754, 32615, 12)" tag="0"/>
		<item text="ifstuck|false:" tag="255"/>
		<item text="wait(1000)" tag="254"/>
		<item text="ifstuck|true|Lure:" tag="255"/>
		<item text="Node (32766, 32621, 12)" tag="0"/>
		<item text="Node (32770, 32633, 12)" tag="0"/>
		<item text="Node (32781, 32632, 12)" tag="0"/>
		<item text="Node (32791, 32628, 12)" tag="0"/>
		<item text="checkHunt~2:" tag="255"/>
		<item text="Walker.Goto('checkHunt~1'):" tag="255"/>
		<item text="continueHunt2:" tag="255"/>
		<item text="Node (32794, 32617, 12)" tag="0"/>
		<item text="Node (32794, 32606, 12)" tag="0"/>
		<item text="ifstuck|false:" tag="255"/>
		<item text="wait(1000)" tag="254"/>
		<item text="ifstuck|true|Lure:" tag="255"/>
		<item text="Node (32793, 32593, 12)" tag="0"/>
		<item text="Node (32785, 32587, 12)" tag="0"/>
		<item text="Node (32775, 32588, 12)" tag="0"/>
		<item text="ifstuck|false:" tag="255"/>
		<item text="wait(1000)" tag="254"/>
		<item text="ifstuck|true|Lure:" tag="255"/>
		<item text="Node (32786, 32587, 12)" tag="0"/>
		<item text="Node (32794, 32596, 12)" tag="0"/>
		<item text="Node (32794, 32607, 12)" tag="0"/>
		<item text="checkHunt~3:" tag="255"/>
		<item text="Walker.Goto('checkHunt~1'):" tag="255"/>
		<item text="continueHunt3:" tag="255"/>
		<item text="Node (32807, 32606, 12)" tag="0"/>
		<item text="Node (32819, 32614, 12)" tag="0"/>
		<item text="Node (32833, 32618, 12)" tag="0"/>
		<item text="ifstuck|false:" tag="255"/>
		<item text="wait(1000)" tag="254"/>
		<item text="ifstuck|true|Lure:" tag="255"/>
		<item text="route|frost|noFrost:" tag="255"/>
		<item text="Node (32833, 32602, 12)" tag="0"/>
		<item text="Node (32829, 32593, 12)" tag="0"/>
		<item text="Node (32823, 32586, 12)" tag="0"/>
		<item text="ifstuck|false:" tag="255"/>
		<item text="wait(1000)" tag="254"/>
		<item text="ifstuck|true|Lure:" tag="255"/>
		<item text="Node (32824, 32574, 12)" tag="0"/>
		<item text="Node (32830, 32568, 12)" tag="0"/>
		<item text="route|afterFrost|noAfterFrost:" tag="255"/>
		<item text="Node (32833, 32560, 12)" tag="0"/>
		<item text="Node (32826, 32550, 12)" tag="0"/>
		<item text="Node (32817, 32549, 12)" tag="0"/>
		<item text="Node (32804, 32549, 12)" tag="0"/>
		<item text="ifstuck|false:" tag="255"/>
		<item text="wait(1000)" tag="254"/>
		<item text="ifstuck|true|Lure:" tag="255"/>
		<item text="Node (32817, 32549, 12)" tag="0"/>
		<item text="Node (32830, 32554, 12)" tag="0"/>
		<item text="Node (32833, 32562, 12)" tag="0"/>
		<item text="noAfterFrost:" tag="255"/>
		<item text="Node (32836, 32568, 12)" tag="0"/>
		<item text="Node (32842, 32574, 12)" tag="0"/>
		<item text="ifstuck|false:" tag="255"/>
		<item text="wait(1000)" tag="254"/>
		<item text="ifstuck|true|Lure:" tag="255"/>
		<item text="Node (32842, 32586, 12)" tag="0"/>
		<item text="Node (32836, 32592, 12)" tag="0"/>
		<item text="noFrost:" tag="255"/>
		<item text="Node (32833, 32603, 12)" tag="0"/>
		<item text="Node (32833, 32618, 12)" tag="0"/>
		<item text="Node (32821, 32617, 12)" tag="0"/>
		<item text="ifstuck|false:" tag="255"/>
		<item text="wait(1000)" tag="254"/>
		<item text="ifstuck|true|Lure:" tag="255"/>
		<item text="Node (32816, 32607, 12)" tag="0"/>
		<item text="Node (32807, 32606, 12)" tag="0"/>
		<item text="Node (32795, 32607, 12)" tag="0"/>
		<item text="ifstuck|false:" tag="255"/>
		<item text="wait(1000)" tag="254"/>
		<item text="ifstuck|true|Lure:" tag="255"/>
		<item text="checkHunt~1:" tag="255"/>
		<item text="Node (32803, 32626, 12)" tag="0"/>
		<item text="Node (32804, 32636, 12)" tag="0"/>
		<item text="checkPos10:" tag="255"/>
		<item text="Stand (32805, 32636, 12)" tag="1"/>
		<item text="verify|checkPos10|+:" tag="255"/>
		<item text="Node (32808, 32633, 11)" tag="0"/>
		<item text="checkPos11:" tag="255"/>
		<item text="Self.UseItemFromGround(32808, 32631, 11) wait(500) Self.Step(NORTH) wait(500) Walker.ConditionalGoto((Self.Position().y > 32630), 'checkPos11')" tag="254"/>
		<item text="ifstuck|true:" tag="255"/>
		<item text="Node (32813, 32626, 11)" tag="0"/>
		<item text="Node (32823, 32621, 11)" tag="0"/>
		<item text="Node (32836, 32621, 11)" tag="0"/>
		<item text="Node (32844, 32621, 11)" tag="0"/>
		<item text="Node (32857, 32621, 11)" tag="0"/>
		<item text="Node (32868, 32621, 11)" tag="0"/>
		<item text="Node (32881, 32630, 11)" tag="0"/>
		<item text="checkPos12:" tag="255"/>
		<item text="Stand (32882, 32633, 11)" tag="1"/>
		<item text="Self.Step(EAST) wait(500) Walker.ConditionalGoto((Self.DistanceFromPosition(32839, 32531, 9) > 5), 'checkPos12')" tag="254"/>
		<item text="Node (32809, 32531, 9)" tag="0"/>
		<item text="Node (32810, 32539, 9)" tag="0"/>
		<item text="Node (32820, 32545, 9)" tag="0"/>
		<item text="Node (32806, 32549, 9)" tag="0"/>
		<item text="checkPos13:" tag="255"/>
		<item text="Stand (32802, 32546, 9)" tag="1"/>
		<item text="verify|checkPos13|+:" tag="255"/>
		<item text="Node (32812, 32547, 8)" tag="0"/>
		<item text="Node (32817, 32553, 8)" tag="0"/>
		<item text="Node (32826, 32573, 8)" tag="0"/>
		<item text="checkPos14:" tag="255"/>
		<item text="Stand (32827, 32575, 8)" tag="1"/>
		<item text="verify|checkPos14|+:" tag="255"/>
		<item text="Node (32836, 32576, 7)" tag="0"/>
		<item text="Node (32837, 32584, 7)" tag="0"/>
		<item text="Node (32831, 32588, 7)" tag="0"/>
		<item text="Node (32823, 32594, 7)" tag="0"/>
		<item text="Node (32814, 32604, 7)" tag="0"/>
		<item text="Node (32799, 32620, 7)" tag="0"/>
		<item text="Node (32785, 32638, 7)" tag="0"/>
		<item text="Node (32776, 32654, 7)" tag="0"/>
		<item text="Node (32762, 32678, 7)" tag="0"/>
		<item text="Node (32745, 32701, 7)" tag="0"/>
		<item text="Node (32727, 32719, 7)" tag="0"/>
		<item text="Node (32707, 32730, 7)" tag="0"/>
		<item text="Node (32686, 32742, 7)" tag="0"/>
		<item text="Node (32662, 32746, 7)" tag="0"/>
		<item text="Node (32652, 32753, 7)" tag="0"/>
		<item text="Node (32640, 32755, 7)" tag="0"/>
		<item text="Node (32636, 32752, 7)" tag="0"/>
		<item text="enterTown:" tag="255"/>
	</control>
</panel>
<panel name="Walker Options">
	<control name="ropeOption" value="0"/>
	<control name="shovelOption" value="0"/>
</panel>
<panel name="Looter">
	<control name="LootList" first="0" unlisted="1">
	    <item ID="10426" action="1"/> <!-- piece of marble rock -->
	    <item ID="12311" action="1"/> <!-- carrot on a stick -->
	    <item ID="3386" action="1"/> <!-- dragon scale mail -->
	    <item ID="3392" action="1"/> <!-- royal helmet -->
	    <item ID="3079" action="1"/> <!-- boots of haste -->
	    <item ID="10390" action="1"/> <!-- zaoan sword -->
	    <item ID="8052" action="1"/> <!-- swamplair armor -->
	    <item ID="7402" action="1"/> <!-- dragon slayer -->
	    <item ID="8074" action="1"/> <!-- spellbook of mind control -->
	    <item ID="7386" action="1"/> <!-- mercenary sword -->
	    <item ID="3381" action="1"/> <!-- crown armor -->
	    <item ID="811" action="1"/> <!-- terra mantle -->
	    <item ID="3315" action="1"/> <!-- guardian halberd -->
	    <item ID="812" action="1"/> <!-- terra legs -->
	    <item ID="7456" action="1"/> <!-- noble axe -->
	    <item ID="3436" action="1"/> <!-- medusa shield -->
	    <item ID="3428" action="1"/> <!-- tower shield -->
	    <item ID="3369" action="1"/> <!-- warrior helmet -->
	    <item ID="3370" action="1"/> <!-- knight armor -->
	    <item ID="3371" action="1"/> <!-- knight legs -->
	    <item ID="5879" action="1"/> <!-- spider silk -->
	    <item ID="7413" action="1"/> <!-- titan axe -->
	    <item ID="9302" action="1"/> <!-- sacred tree amulet -->
	    <item ID="828" action="1"/> <!-- lightning headband -->
	    <item ID="3055" action="1"/> <!-- platinum amulet -->
	    <item ID="829" action="1"/> <!-- glacier mask -->
	    <item ID="7290" action="1"/> <!-- shard -->
	    <item ID="5880" action="1"/> <!-- iron ore -->
	    <item ID="814" action="1"/> <!-- terra amulet -->
	    <item ID="3284" action="1"/> <!-- ice rapier -->
	    <item ID="5894" action="1"/> <!-- bat wing -->
	    <item ID="10313" action="1"/> <!-- winged tail -->
	    <item ID="10282" action="1"/> <!-- hydra head -->
	    <item ID="10309" action="1"/> <!-- strand of medusa hair -->
	    <item ID="3081" action="1"/> <!-- stone skin amulet -->
	    <item ID="4839" action="1"/> <!-- hydra egg -->
	    <item ID="10310" action="1"/> <!-- shiny stone -->
	    <item ID="9694" action="1"/> <!-- snake skin -->
	    <item ID="7643" action="1"/> <!-- ultimate health potion -->
	    <item ID="3028" action="1"/> <!-- small diamond -->
	    <item ID="3027" action="1"/> <!-- black pearl -->
	    <item ID="9661" action="1"/> <!-- frosty heart -->
	    <item ID="2903" action="1"/> <!-- golden mug -->
	    <item ID="3032" action="1"/> <!-- small emerald -->
	    <item ID="3029" action="1"/> <!-- small sapphire -->
	    <item ID="9057" action="1"/> <!-- small topaz -->
	    <item ID="9632" action="1"/> <!-- ancient stone -->
	    <item ID="238" action="1"/> <!-- great mana potion -->
	    <item ID="3053" action="1"/> <!-- time ring -->
	    <item ID="3098" action="1"/> <!-- ring of healing -->
	    <item ID="3035" action="1"/> <!-- platinum coin -->
	    <item ID="236" action="1"/> <!-- strong health potion -->
	    <item ID="3061" action="1"/> <!-- life crystal -->
	    <item ID="237" action="1"/> <!-- strong mana potion -->
	    <item ID="3052" action="1"/> <!-- life ring -->
	    <item ID="3031" action="2"/> <!-- gold coin -->
	</control>
</panel>
<panel name="Pathfinder">
	<control name="walkOnFireEnable" value="1"/>
	<control name="walkOnFurnitureEnable" value="1"/>
	<control name="showDiagnoticEnable" value="0"/>
	<control name="walkWithMapclicks" value="0"/>
</panel>
<panel name="Mount">
</panel>
<panel name="Special Areas">
	<control name="AreaList">
		<item title="New Area" consider="1" width="1" height="1" x="32796" y="32615" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32795" y="32615" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32794" y="32615" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32793" y="32615" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32792" y="32615" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32791" y="32615" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32784" y="32630" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32784" y="32631" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32784" y="32632" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32784" y="32633" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32784" y="32634" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32784" y="32635" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32785" y="32635" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32783" y="32630" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32783" y="32635" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32772" y="32638" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32771" y="32638" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32770" y="32638" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32769" y="32638" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32768" y="32638" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32767" y="32638" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32766" y="32638" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32765" y="32638" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32762" y="32635" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32762" y="32634" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32762" y="32633" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32762" y="32632" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32762" y="32631" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32762" y="32630" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32765" y="32627" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32766" y="32627" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32767" y="32627" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32768" y="32627" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32769" y="32627" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32770" y="32627" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32771" y="32627" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32772" y="32627" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32771" y="32626" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32766" y="32626" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32771" y="32639" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32803" y="32633" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32804" y="32633" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32805" y="32633" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32806" y="32633" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32807" y="32633" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32807" y="32632" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32796" y="32616" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32791" y="32616" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32766" y="32639" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32760" y="32646" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32760" y="32647" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32760" y="32648" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32760" y="32649" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32760" y="32650" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32760" y="32651" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32761" y="32651" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32750" y="32643" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32751" y="32643" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32752" y="32643" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32753" y="32643" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32754" y="32643" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32755" y="32643" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32756" y="32643" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32757" y="32643" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32751" y="32642" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32756" y="32642" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32751" y="32638" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32753" y="32634" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32761" y="32634" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32761" y="32631" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32750" y="32622" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32751" y="32622" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32752" y="32622" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32753" y="32622" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32754" y="32622" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32755" y="32622" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32756" y="32622" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32757" y="32622" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32758" y="32621" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32751" y="32623" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32751" y="32627" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32756" y="32623" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32759" y="32613" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32759" y="32614" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32759" y="32615" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32759" y="32616" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32759" y="32617" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32759" y="32618" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32759" y="32619" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32791" y="32599" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32792" y="32599" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32793" y="32599" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32794" y="32599" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32795" y="32599" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32796" y="32599" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32812" y="32605" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32812" y="32606" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32812" y="32607" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32812" y="32608" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32812" y="32609" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32813" y="32604" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32812" y="32604" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32802" y="32604" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32802" y="32605" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32802" y="32606" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32802" y="32607" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32802" y="32608" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32802" y="32609" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32826" y="32615" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32826" y="32616" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32826" y="32617" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32826" y="32618" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32826" y="32619" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32826" y="32620" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32825" y="32620" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32825" y="32615" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32831" y="32609" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32832" y="32609" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32833" y="32609" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32834" y="32609" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32835" y="32610" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32830" y="32610" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32830" y="32608" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32835" y="32608" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32835" y="32596" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32834" y="32596" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32833" y="32596" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32832" y="32596" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32831" y="32596" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32830" y="32596" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32829" y="32596" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32830" y="32597" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32835" y="32597" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32819" y="32584" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32819" y="32575" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32830" y="32565" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32831" y="32565" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32832" y="32565" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32833" y="32565" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32834" y="32565" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32835" y="32565" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32836" y="32565" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32835" y="32564" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32830" y="32564" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32823" y="32552" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32823" y="32551" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32823" y="32550" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32823" y="32549" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32823" y="32548" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32823" y="32547" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32824" y="32547" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32834" y="32573" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32833" y="32573" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32832" y="32573" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32831" y="32573" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32826" y="32579" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32826" y="32580" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32826" y="32581" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32839" y="32579" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32839" y="32580" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32839" y="32581" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32831" y="32587" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32832" y="32587" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32833" y="32587" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32834" y="32587" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32846" y="32577" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32846" y="32576" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32846" y="32575" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32846" y="32584" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32846" y="32585" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32846" y="32586" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32832" y="32586" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32833" y="32586" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32827" y="32581" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32827" y="32579" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32827" y="32580" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32832" y="32574" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32833" y="32574" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32838" y="32579" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32838" y="32580" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32838" y="32581" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32796" y="32598" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32791" y="32598" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32783" y="32590" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32783" y="32589" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32783" y="32588" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32783" y="32587" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32783" y="32586" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32783" y="32585" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32784" y="32585" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32784" y="32590" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32782" y="32585" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32782" y="32590" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32765" y="32582" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32764" y="32582" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32763" y="32582" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32762" y="32582" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32761" y="32582" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32760" y="32582" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32761" y="32583" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32807" y="32542" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32811" y="32553" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32811" y="32552" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32811" y="32551" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32811" y="32550" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32811" y="32549" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32811" y="32548" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32811" y="32547" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32811" y="32546" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32812" y="32547" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32812" y="32552" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32822" y="32551" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32822" y="32548" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32796" y="32547" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32796" y="32548" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32796" y="32549" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32796" y="32550" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32796" y="32551" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32796" y="32552" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32795" y="32552" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32795" y="32547" z="12"/>
		<item title="New Area" consider="1" width="1" height="1" x="32819" y="32618" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32819" y="32619" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32819" y="32620" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32819" y="32621" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32819" y="32622" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32797" y="32618" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32797" y="32619" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32797" y="32620" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32797" y="32621" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32797" y="32622" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32796" y="32622" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32796" y="32618" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32820" y="32618" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32820" y="32622" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32840" y="32637" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32841" y="32637" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32842" y="32637" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32843" y="32637" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32844" y="32637" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32845" y="32637" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32846" y="32637" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32840" y="32604" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32845" y="32604" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32841" y="32603" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32842" y="32603" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32843" y="32603" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32844" y="32603" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32870" y="32617" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32871" y="32617" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32872" y="32617" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32873" y="32617" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32874" y="32617" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32875" y="32617" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32876" y="32617" z="11"/>
		<item title="New Area" consider="1" width="1" height="1" x="32875" y="32618" z="11"/>
		<item title="Special Area #1" consider="3" width="1" height="1" x="32823" y="32575" z="7"/>
		<item title="Special Area #2" consider="3" width="1" height="1" x="32827" y="32578" z="7"/>
		<item title="Special Area #3" consider="3" width="7" height="1" x="32816" y="32577" z="7"/>
		<item title="Special Area #4" consider="3" width="1" height="5" x="32826" y="32566" z="7"/>
		<item title="Special Area #5" consider="3" width="2" height="1" x="32818" y="32588" z="7"/>
		<item title="Special Area #6" consider="3" width="3" height="1" x="32819" y="32587" z="7"/>
		<item title="Special Area #7" consider="3" width="3" height="1" x="32821" y="32586" z="7"/>
		<item title="Special Area #8" consider="3" width="3" height="1" x="32823" y="32585" z="7"/>
		<item title="Special Area #9" consider="3" width="3" height="1" x="32825" y="32584" z="7"/>
		<item title="Special Area #10" consider="3" width="3" height="1" x="32827" y="32583" z="7"/>
		<item title="Special Area #11" consider="3" width="3" height="1" x="32829" y="32582" z="7"/>
		<item title="Special Area #12" consider="3" width="1" height="4" x="32831" y="32578" z="7"/>
		<item title="Special Area #13" consider="3" width="12" height="1" x="32833" y="32594" z="7"/>
		<item title="Special Area #14" consider="3" width="1" height="10" x="32844" y="32584" z="7"/>
		<item title="Special Area #15" consider="3" width="1" height="11" x="32844" y="32572" z="7"/>
		<item title="Special Area #16" consider="3" width="2" height="1" x="32844" y="32583" z="7"/>
		<item title="Special Area #17" consider="3" width="13" height="1" x="32829" y="32566" z="7"/>
		<item title="Special Area #18" consider="3" width="1" height="6" x="32831" y="32595" z="7"/>
	</control>
</panel>
<panel name="Alarms">
	<control name="disAlarm" value="1"/>
	<control name="damAlarm" value="0"/>
	<control name="lhpAlarm" value="1"/>
	<control name="lhpAlarmPercent" value="30"/>
	<control name="pmAlarm" value="1"/>
	<control name="creatureAlarm" value="0"/>
	<control name="attackAlarm" value="0"/>
	<control name="playerAlarm" value="0"/>
	<control name="playerAlarmLog" value="0"/>
	<control name="stuckAlarm" value="0"/>
	<control name="alarmPartyIgnore" value="0"/>
</panel>
<panel name="Scripter">
	<control name="RunningScriptList">
	<script name="[M] Banuta -1.lua"><![CDATA[LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLSBDb25zdGFudHMNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KU1lOTElCX1JFVklTSU9OID0gW1tdXQ0KDQpJVEVNSURfTElGRV9SSU5HID0gMzA1Mg0KSVRFTUlEX1NPRlRCT09UU19JTlVTRSA9IDM1NDkNCklURU1JRF9TT0ZUQk9PVFNfTkVXID0gNjUyOQ0KSVRFTUlEX1NPRlRCT09UU19VU0VEID0gNjUzMA0KSVRFTUlEX0FEVkVOVFVSRVJTX1NUT05FID0gMTYyNzcNCg0KUFJJQ0VfU09GVEJPT1RTX1JFRklMTCA9IDExMDAwDQoNCkxBQkVMX0VOVEVSVE9XTiA9ICJlbnRlclRvd24iDQpMQUJFTF9SQU5ET01JWkUgPSAicmFuZG9tUm91dGUiDQpMQUJFTF9BTlRJTFVSRSA9ICJydW4iDQoNCldBSVRfVElOWSA9IHs0MCwgOTB9DQpXQUlUX0xPT1RfTE9XID0gezE1MCwgMjEwfQ0KV0FJVF9MT09UX01FRCA9IHsyMjAsIDMwMH0NCldBSVRfTE9PVF9ISUdIID0gezQwMCwgNzAwfQ0KV0FJVF9MT1cgPSB7MjAwLCA2MDB9DQpXQUlUX0xPV01JRDIgPSB7NDAwLCA2MDB9DQpXQUlUX0xPV01JRCA9IHs1MDAsIDEwMDB9DQpXQUlUX01JRExPVyA9IHs5MDAsMTMwMH0NCldBSVRfTUlEID0gezEwMDAsIDMwMDB9DQpXQUlUX01JREhJR0ggPSB7MzAwMCwgNTAwMH0NCldBSVRfSElHSCA9IHs1MDAwLCA5MDAwfQ0KV0FJVF9IVUdFID0gezIwMDAwLCAzMDAwMH0NCg0KTE9HX1NUQVRVUyA9ICdTVEFUVVMnDQpMT0dfV0FSTklORyA9ICdXQVJOSU5HJw0KTE9HX0VSUk9SID0gJ0VSUk9SJw0KTE9HX1BST01QVCA9ICdQUk9NUFQnDQoNCkNIRUNLX0FMTCA9IDANCkNIRUNLX1NUQU1JTkEgPSAxDQpDSEVDS19QT1RJT05TID0gMg0KQ0hFQ0tfUlVORVMgPSAzIC0tIENoZWNrcyBhbGwgcnVuZSB0eXBlcyAodXNlZCBpbiBzcGF3bnMpDQpDSEVDS19BTU1PID0gNA0KQ0hFQ0tfU0VMTF9MT09UID0gNQ0KQ0hFQ0tfQ0FQID0gNg0KQ0hFQ0tfU09GVEJPT1RTID0gNw0KQ0hFQ0tfU09VTCA9IDgNCkNIRUNLX01BWF9QT1RJT05TID0gOQ0KQ0hFQ0tfTUFYX1JVTkVTID0gMTANCkNIRUNLX01BWF9BTU1PID0gMTENCkNIRUNLX0dPTEQgPSAxMg0KQ0hFQ0tfU1VQUExZQ0FQID0gMTMNCkNIRUNLX0ZPT0QgPSAxNA0KQ0hFQ0tfTUFYX1JVTkVTX0VEUk9OID0gMTUNCkNIRUNLX01BWF9SVU5FU19WRU5PUkUgPSAxNg0KQ0hFQ0tfV0lUSERSQVcgPSAxNw0KQ0hFQ0tfREVQT1NJVCA9IDE4DQpDSEVDS19SSU5HID0gMTkNCkNIRUNLX01BWF9SSU5HID0gMjANCkNIRUNLX0FNVUxFVCA9IDIxDQpDSEVDS19NQVhfQU1VTEVUID0gMjINCkNIRUNLX01BWF9GT09EID0gMjMNCkNIRUNLX1NVUFBMSUVTID0gMjQNCkNIRUNLX01BWF9TVVBQTElFUyA9IDI1DQpDSEVDS19UUkFWRUxMSU5HID0gMjYNCg0KSVRFTV9XRUlHSFRTID0gew0KICAgIC0tIE1pc2MNCiAgICBbMjg1XSA9IDEuODAsIC0tIFNtYWxsIEVtcHR5IEZsYXNrDQogICAgWzI4M10gPSAxLjYwLCAtLSBNZWRpdW0gRW1wdHkgRmxhc2sNCiAgICBbMjg0XSA9IDEuNTAsIC0tIExhcmdlIEVtcHR5IEZsYXNrDQoNCiAgICAtLSBQb3Rpb25zDQogICAgWzIzOF0gPSAzLjEwLCAtLSBHcmVhdCBNYW5hIFBvdGlvbg0KICAgIFsyMzddID0gMi45MCwgLS0gU3Ryb25nIE1hbmEgUG90aW9uDQogICAgWzI2OF0gPSAyLjcwLCAtLSBNYW5hIFBvdGlvbg0KICAgIFs3NjQzXSA9IDMuMTAsIC0tIFVsdGltYXRlIEhlYWx0aCBQb3Rpb24NCiAgICBbMjM5XSA9IDMuMTAsIC0tIEdyZWF0IEhlYWx0aCBQb3Rpb24NCiAgICBbMjM2XSA9IDIuOTAsIC0tIFN0cm9uZyBIZWFsdGggUG90aW9uDQogICAgWzI2Nl0gPSAyLjcwLCAtLSBIZWFsdGggUG90aW9uDQogICAgWzc2NDJdID0gMy4xMCwgLS0gR3JlYXQgU3Bpcml0IFBvdGlvbg0KDQogICAgLS0gUnVuZXMNCiAgICBbMzE2MV0gPSAwLjUyLCAtLSBBdmFsYW5jaGUNCiAgICBbMzE5MV0gPSAwLjUyLCAtLSBHcmVhdCBGaXJlYmFsbA0KICAgIFszMTc1XSA9IDAuNTIsIC0tIFN0b25lIFNob3dlcg0KICAgIFszMjAyXSA9IDAuNTIsIC0tIFRodW5kZXJzdG9ybQ0KICAgIFszMTk4XSA9IDAuMjEsIC0tIEhlYXZ5IE1hZ2ljIE1pc3NpbGUNCiAgICBbMzE1NV0gPSAwLjcwLCAtLSBTdWRkZW4gRGVhdGgNCiAgICBbMzE0OF0gPSAwLjcwLCAtLSBEZXN0cm95IEZpZWxkDQogICAgWzMxNThdID0gMC40MiwgLS0gSWNpY2xlDQogICAgWzMxOTddID0gMC43MCwgLS0gRGVzaW50ZWdyYXRlDQogICAgWzMxNjBdID0gMi4xMCwgLS0gVWx0aW1hdGUgSGVhbGluZw0KICAgIFszMjAwXSA9IDAuMzUsIC0tIEV4cGxvc2lvbg0KICAgIFszMTUzXSA9IDIuMTAsIC0tIEN1cmUgUG9pc29uDQoNCiAgICAtLSBBbW1vDQogICAgWzMyNzddID0gMjAuMCwgLS0gU3BlYXINCiAgICBbNzM3OF0gPSAyNS4wLCAtLSBSb3lhbCBTcGVhcg0KICAgIFszMzQ3XSA9IDIyLjAsIC0tIEh1bnRpbmcgU3BlYXINCiAgICBbNzM2N10gPSAyMC4wLCAtLSBFbmNoYW50ZWQgU3BlYXINCiAgICBbMTQyNTFdID0gMC43MCwgLS0gVGFyc2FsIEFycm93DQogICAgWzE2MTQxXSA9IDAuODUsIC0tIFByaXNtYXRpYyBCb2x0DQogICAgWzE0MjUyXSA9IDAuODAsIC0tIFZvcnRleCBCb2x0DQogICAgWzM0NTBdID0gMC45MCwgLS0gUG93ZXIgQm9sdA0KICAgIFs3MzYzXSA9IDAuODAsIC0tIFBpZXJjaW5nIEJvbHQNCiAgICBbNjUyOF0gPSAwLjkwLCAtLSBJbmZlcm5hbCBCb2x0DQogICAgWzE2MTQyXSA9IDAuODAsIC0tIERyaWxsIEJvbHQNCiAgICBbMzQ0Nl0gPSAwLjgwLCAtLSBCb2x0DQogICAgWzczNjRdID0gMC43MCwgLS0gU25pcGVyIEFycm93DQogICAgWzc2Ml0gPSAwLjcwLCAtLSBTaGl2ZXIgQXJyb3cNCiAgICBbMzQ0OF0gPSAwLjgwLCAtLSBQb2lzb24gQXJyb3cNCiAgICBbNzM2NV0gPSAwLjcwLCAtLSBPbnl4IEFycm93DQogICAgWzc2MV0gPSAwLjcwLCAtLSBGbGFzaCBBcnJvdw0KICAgIFs3NjNdID0gMC43MCwgLS0gRmxhbWluZyBBcnJvdw0KICAgIFsxNjE0M10gPSAwLjcwLCAtLSBFbnZlbm9tZWQgQXJyb3cNCiAgICBbNzc0XSA9IDAuNzAsIC0tIEVhcnRoIEFycm93DQogICAgWzE1NzkzXSA9IDAuNzUsIC0tIENyeXN0YWxpbmUgQXJyb3cNCiAgICBbMzQ0N10gPSAwLjcwLCAtLSBBcnJvdw0KDQogICAgLS0gRm9vZA0KICAgIFszNzIzXSA9IDAuNDAsIC0tIFdoaXRlIE11c2hyb29tDQogICAgWzM3MjVdID0gMC4yMCwgLS0gQnJvd24gTXVzaHJvb20NCiAgICBbMzU4Nl0gPSAxLjEwICAtLSBPcmFuZ2UNCn0NCg0KUlVORVNfRURST04gPSB7DQogICAgMzIwMywgLS0gYW5pbWF0ZSBkZWFkIHJ1bmUNCiAgICAzMTQ3LCAtLSBibGFuayBydW5lDQogICAgMzE5NywgLS0gZGVzaW50ZWdyYXRlIHJ1bmUNCiAgICAzMTQ5LCAtLSBlbmVyZ3kgYm9tYiBydW5lDQogICAgMzE4OSwgLS0gZmlyZWJhbGwgcnVuZQ0KICAgIDMxODIsIC0tIGhvbHkgbWlzc2lsZSBydW5lDQogICAgMzE1OCwgLS0gaWNpY2xlIHJ1bmUNCiAgICAzMTgwLCAtLSBtYWdpYyB3YWxsIHJ1bmUNCiAgICAzMTY1LCAtLSBwYXJhbHl6ZSBydW5lDQogICAgMzE3MywgLS0gcG9pc29uIGJvbWIgcnVuZQ0KICAgIDMxOTUsIC0tIHNvdWxmaXJlIHJ1bmUNCiAgICAzMTc1LCAtLSBzdG9uZSBzaG93ZXIgcnVuZQ0KICAgIDMyMDIsIC0tIHRodW5kZXJzdG9ybSBydW5lDQogICAgMzE1NiAgLS0gd2lsZCBncm93dGggcnVuZQ0KfQ0KDQpSVU5FU19WRU5PUkUgPSB7DQogICAgMzE2MSwgLS0gYXZhbGFuY2hlIHJ1bmUNCiAgICAzMTc4LCAtLSBjaGFtZWxlb24gcnVuZQ0KICAgIDMxNzcsIC0tIGNvbnZpbmNlIGNyZWF0dXJlIHJ1bmUNCiAgICAzMTUzLCAtLSBjdXJlIHBvaXNvbiBydW5lDQogICAgMzE0OCwgLS0gZGVzdHJveSBmaWVsZCBydW5lDQogICAgMzE2NCwgLS0gZW5lcmd5IGZpZWxkIHJ1bmUNCiAgICAzMTY2LCAtLSBlbmVyZ3kgd2FsbCBydW5lDQogICAgMzIwMCwgLS0gZXhwbG9zaW9uIHJ1bmUNCiAgICAzMTkyLCAtLSBmaXJlIGJvbWIgcnVuZQ0KICAgIDMxODgsIC0tIGZpcmUgZmllbGQgcnVuZQ0KICAgIDMxOTAsIC0tIGZpcmUgd2FsbCBydW5lDQogICAgMzE5MSwgLS0gZ3JlYXQgZmlyZWJhbGwgcnVuZQ0KICAgIDMxOTgsIC0tIGhlYXZ5IG1hZ2ljIG1pc3NpbGUgcnVuZQ0KICAgIDMxNTIsIC0tIGludGVuc2UgaGVhbGluZyBydW5lDQogICAgMzE3NCwgLS0gbGlnaHQgbWFnaWMgbWlzc2lsZSBydW5lDQogICAgMzE3MiwgLS0gcG9pc29uIGZpZWxkIHJ1bmUNCiAgICAzMTc2LCAtLSBwb2lzb24gd2FsbCBydW5lDQogICAgMzE3OSwgLS0gc3RhbGFnbWl0ZSBydW5lDQogICAgMzE1NSwgLS0gc3VkZGVuIGRlYXRoIHJ1bmUNCiAgICAzMTYwICAtLSB1bHRpbWF0ZSBoZWFsaW5nIHJ1bmUNCn0NCg0KTlBDX0xPT1QgPSB7MzI2NSwzMjY5LDMzNTEsMTQyMjUsMTQwNzYsMTQwNzcsMTQwODMsMTQwNzksMTQwODEsMTQwODAsMTQyMjUsMzQxMywzMzA1LDE0MjQ3LDE0MDQwLDE0MDQyLDE0MDQzLDE0MjUwLDEzOTg3LDEzOTkwLDE0MDQ0LDE0MDQxLDE0MDA5LDE0MDEzLDE0MDA4LDE0MDEwLDE0MDEyLDEyNzMwLDE0MDExLDE0MDE3fQ0KDQpGVVJOSVRVUkUgPSB7MTgyLCAyMDI1LCAyMDI5LCAyMDMwLCAyMDQzLCAyMDQ0LCAyMDQ1LCAyMDQ2LCAyMDQ3LCAyMDQ4LCAyMDU5LCAyMDYwLCAyMDYxLCAyNDQ1LCAyNDQ2LCAyNDQ3LCAyNDQ4LCAyNDQ5LCAyNDUwLCAyNDUxLCAyNDUyLCAyNDUzLCAyNDU0LCAyNDY1LCAyNDY2LCAyNDY3LCAyNDY4LCAyNTI0LCAyOTA0LCAyOTU5LCAyOTYwLCAyOTYxLCAyOTYyLCAyOTYzLCAyOTY0LCAyOTc1LCAyOTc2LCAyOTc5LCAyOTgyLCAyOTg2LCAyOTk3LCAyOTk4LCAyOTk5LCAzMDAwLCAzNDg0LCAzNDg1LCAzNDg2LCAzNDg3LCAzNTEwLCAzNTExLCAzNTEyLCAzNTEzLCA1MDQ2LCA1MDU1LCA1MDU2LCA2MTA5LCA2MTEwLCA2MTExLCA2MTEyLCA2MzY3LCA2MzY4LCA2MzY5LCA2MzcwLCA3ODYwLCA3ODYxLCA3ODYyLCA3ODYzLCA5MTMyLCA5MTQxLCAxMDIwOCwgMTAyMTAsIDEwMjExLCAxMDIxMiwgMTAyMTMsIDEwMjE0LCAxMDIxNSwgMTI2NDIsIDEyNjQzLCAxNzM3MywgMTgwMTUsIDE4MDE2LCAxODAxNywgMTgwMTgsIDE4MDE5LCAxODAyMH0NClNQSURFUl9XRUIgPSAxODINClJPRFMgPSB7MzA2NSwzMDY2LDMwNjcsMzA2OSwzMDcwLDgwODIsODA4Myw4MDg0LDE2MTE3LDE2MTE4fQ0KV0FORFMgPSB7MzA3MSwzMDcyLDMwNzMsMzA3NCwzMDc1LDgwOTIsODA5Myw4MDk0LDEyNjAzLDE2MDk2LDE2MTE1fQ0KRElTVEFOQ0VfV0VBUE9OUyA9IHszMjc3LDczNzgsMzM0Nyw3MzY3LDE3ODEsMzI4NywzMjk4LDczNjYsNzM2OCwyMDA4MiwyMDA4MywyMDA4NCwyMDA4NSwyMDA4NiwyMDA4N30NCg0KT0JTSURJQU5fS05JRkVfSVRFTUlEID0gNTkwOA0KQkxFU1NFRF9TVEFLRV9JVEVNSUQgPSA1OTQyDQpGSVNISU5HX1JPRF9JVEVNSUQgPSAzNDgzDQpNRUNIQU5JQ0FMX1JPRF9JVEVNSUQgPSA5MzA2DQpPQlNJRElBTl9LTklGRV9DT1JQU0VTID0gew0KICAgIFs0MTczXSA9IHRydWUsDQogICAgWzQwMTFdID0gdHJ1ZSwNCiAgICBbNDAyNV0gPSB0cnVlLA0KICAgIFs0MDQ3XSA9IHRydWUsDQogICAgWzQwNTJdID0gdHJ1ZSwNCiAgICBbNDA1N10gPSB0cnVlLA0KICAgIFs0MDYyXSA9IHRydWUsDQogICAgWzQxMTJdID0gdHJ1ZSwNCiAgICBbNDIxMl0gPSB0cnVlLA0KICAgIFs0MzIxXSA9IHRydWUsDQogICAgWzQzMjRdID0gdHJ1ZSwNCiAgICBbNDMyN10gPSB0cnVlLA0KICAgIFsxMDM1Ml0gPSB0cnVlLA0KICAgIFsxMDM1Nl0gPSB0cnVlLA0KICAgIFsxMDM2MF0gPSB0cnVlLA0KICAgIFsxMDM2NF0gPSB0cnVlLA0KICAgIFsxMDM2OF0gPSB0cnVlDQp9DQpCTEVTU0VEX1NUQUtFX0NPUlBTRVMgPSB7DQogICAgWzQwOTddID0gdHJ1ZSwNCiAgICBbNDEzN10gPSB0cnVlDQp9DQpGSVNISU5HX1JPRF9DT1JQU0VTID0gew0KICAgIFs5NTgyXSA9IHRydWUNCn0NCkNPUlBTRV9JVEVNX0xJU1QgPSB7DQogICAgWzQxNzNdID0gdHJ1ZSwNCiAgICBbNDAxMV0gPSB0cnVlLA0KICAgIFs0MDI1XSA9IHRydWUsDQogICAgWzQwNDddID0gdHJ1ZSwNCiAgICBbNDA1Ml0gPSB0cnVlLA0KICAgIFs0MDU3XSA9IHRydWUsDQogICAgWzQwNjJdID0gdHJ1ZSwNCiAgICBbNDExMl0gPSB0cnVlLA0KICAgIFs0MjEyXSA9IHRydWUsDQogICAgWzQzMjFdID0gdHJ1ZSwNCiAgICBbNDMyNF0gPSB0cnVlLA0KICAgIFs0MzI3XSA9IHRydWUsDQogICAgWzEwMzUyXSA9IHRydWUsDQogICAgWzEwMzU2XSA9IHRydWUsDQogICAgWzEwMzYwXSA9IHRydWUsDQogICAgWzEwMzY0XSA9IHRydWUsDQogICAgWzEwMzY4XSA9IHRydWUsDQogICAgWzQwOTddID0gdHJ1ZSwNCiAgICBbNDEzN10gPSB0cnVlLA0KICAgIFs5NTgyXSA9IHRydWUNCn0NCg0KU0tJTk5FRF9MT09UID0gezU4NzgsIDU4NzYsIDU4NzcsIDU5NDgsIDU5MjUsIDU4OTMsIDU5MDUsIDU5MDYsIDkzMDMsIDI4MSwgMjgyLCAzMDI2LCAzMDI5LCAzMDMyfQ0KTk9STUFMX0JPT1RTID0gezEwMjAxLDMyNDYsMzU1MCwzNTUzLDEwMjAwLDEzOTk3LDM1NTUsMTYxMTIsNDAzMywzMDc5LDEwMzIzLDM1NTQsODE4LDgxMyw4MTksODIwLDEwMzg2LDU0NjEsNzQ1Nyw5MDE3LDM1NTYsMzU1MiwzNTUxfQ0KTk9STUFMX1JJTkdTID0gezMwMDQsIDMwMDYsIDMwMDcsIDMwNjMsIDk1ODUsIDk1OTMsIDEyNzM3fQ0KTk9STUFMX0FNVUxFVFMgPSB7MzA1NSwxMTQ2OCwzMDEzLDMwMTYsMzAxOSwxMDQ1N30NCg0KRklTSElOR19ST0RTID0gezM0ODMsOTMwNn0NClJPUEVfVE9PTFMgPSB7ezMwMDMsMH0sezY0NiwxfSx7OTU5NCwyfSx7OTU5NiwzfSx7OTU5OCw0fX0NClNIT1ZFTF9UT09MUyA9IHt7MzQ1NywwfSx7NTcxMCwxfSx7OTU5NCwyfSx7OTU5NiwzfSx7OTU5OCw0fX0NClBJQ0tfVE9PTFMgPSB7MzQ1Niw5NTk0LDk1OTYsOTU5OH0NCg0KVFJBVkVMX0NPU1QgPSAxMDAwDQpUUkFWRUxfTEFCRUxTID0geyd5YWxhaGFyVG9GZW5yb2NrJywgJ3lhbGFoYXJUb01pc3Ryb2NrJywgJ2xpYmVydHlCYXlUb0dvcm9tYScsICd5YWxhaGFyVG9WZW5nb3RoJywgJ3lhbGFoYXJUb1N1bmtlbicsICdzdmFyZ3JvbmRUb1NlcnBlbnRzJywgJ3RvQmFudXRhRWFzdCcsICd0b0JhbnV0YSd9DQoNCl9fID0gdHJ1ZSAtLSB0aGlzIGlzIHVzZWQgZm9yIGNvbmZpZyBydW4gY2hlY2tpbmcNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLS0gRW5kIENvbnN0YW50cw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLSBHZW5lcmFsIEZ1bmN0aW9ucw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpmdW5jdGlvbiByYW5kb20oZnJvbSwgdG8pDQogICAgbWF0aC5yYW5kb21zZWVkKG9zLnRpbWUoKSk7IG1hdGgucmFuZG9tKCk7IG1hdGgucmFuZG9tKCk7IG1hdGgucmFuZG9tKCkNCiAgICByZXR1cm4gbWF0aC5yYW5kb20oZnJvbSwgdG8pDQplbmQNCg0KZnVuY3Rpb24gY2hvb3NlKC4uLikNCiAgICByZXR1cm4gYXJnW3JhbmRvbSgxLCAjYXJnKV0NCmVuZA0KDQpmdW5jdGlvbiByZG1fc2xlZXAocmFuZ2UpDQogICAgcmV0dXJuIHNsZWVwKHJhbmRvbSh1bnBhY2socmFuZ2Ugb3IgV0FJVF9MT1cpKSkNCmVuZA0KDQpmdW5jdGlvbiBnZXRQb3NGcm9tU3RyaW5nKHN0cikNCiAgICBsb2NhbCBwb3MgPSB7fQ0KICAgIHN0cjpnc3ViKCIoJWQrKSIsIGZ1bmN0aW9uKHcpIHJldHVybiB0YWJsZS5pbnNlcnQocG9zLHRvbnVtYmVyKHcpKSBlbmQpDQogICAgcmV0dXJuIHt4PShwb3NbMV0gb3IgMCksIHk9KHBvc1syXSBvciAwKSwgej0ocG9zWzNdIG9yIDApfQ0KZW5kDQoNCmZ1bmN0aW9uIHRyaW1MYWJlbChzKQ0KICAgIGxvY2FsIG4gPSAjcw0KICAgIHdoaWxlIG4gPiAwIGFuZCBzOmZpbmQoIl46IiwgbikgZG8gbiA9IG4gLSAxIGVuZA0KICAgIHJldHVybiBzOnN1YigxLCBuKQ0KZW5kDQoNCmZ1bmN0aW9uIGNvdW50UGFpcnModGJsKQ0KICAgIGxvY2FsIG4gPSAwDQogICAgZm9yIGssdiBpbiBwYWlycyh0YmwpIGRvDQogICAgICAgIG4gPSBuICsgMQ0KICAgIGVuZA0KICAgIHJldHVybiBuDQplbmQNCg0KZnVuY3Rpb24gZ2V0VGltZVVudGlsU2VydmVyU2F2ZSgpDQogICAgbG9jYWwgY3VyVGltZSA9IG9zLnRpbWUoKQ0KICAgIGxvY2FsIHV0YywgbG9jID0gb3MuZGF0ZSgiISp0IiwgY3VyVGltZSksIG9zLmRhdGUoIip0IiwgY3VyVGltZSkNCiAgICBsb2MuaXNkc3QgPSBmYWxzZQ0KICAgIGxvY2FsIG9mZnNldCA9IG9zLmRpZmZ0aW1lKG9zLnRpbWUobG9jKSwgb3MudGltZSh1dGMpKQ0KICAgIGxvY2FsIFVUQ05vdyA9IG9zLnRpbWUoKQ0KICAgIGxvY2FsIFVUQ1RhYmxlID0gb3MuZGF0ZSgiKnQiLCBVVENOb3cpDQogICAgbG9jYWwgZHN0VmFsdWUgPSBVVENUYWJsZS5pc2RzdCBhbmQgNzIwMCBvciAzNjAwDQogICAgbG9jYWwgdGFyZ2V0VGltZSA9IHt5ZWFyPVVUQ1RhYmxlLnllYXIsIG1vbnRoPVVUQ1RhYmxlLm1vbnRoLCBkYXk9VVRDVGFibGUuZGF5LCBob3VyPTksIG1pbj01OX0gIA0KICAgIGxvY2FsIHRpbWVEaWZmZXJlbmNlID0gKCgob3MudGltZSh0YXJnZXRUaW1lKSAtIChVVENOb3cgKyBkc3RWYWx1ZSkpICsgb2Zmc2V0KS82MCkvNjANCiAgICBsb2NhbCBob3Vyc0xlZnQgPSB0aW1lRGlmZmVyZW5jZQ0KICAgIGlmIChob3Vyc0xlZnQgPCAwKSB0aGVuDQogICAgICAgIGhvdXJzTGVmdCA9IDI0ICsgaG91cnNMZWZ0DQogICAgZW5kDQogICAgcmV0dXJuIGhvdXJzTGVmdCAgIA0KZW5kDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi0tIEVuZCBHZW5lcmFsIEZ1bmN0aW9ucw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLSBDb25zb2xlIEZ1bmN0aW9ucw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpjb25zb2xlID0ge30NCmZ1bmN0aW9uIGxvZyhzdGF0dXMsIG1zZywgc2hvd1ByaW50KQ0KICAgIGlmIChTY3JpcHQuQ2hhbm5lbCkgdGhlbg0KICAgICAgICBpZiAoc3RhdHVzID09IExPR19FUlJPUiBvciBzdGF0dXMgPT0gTE9HX1BST01QVCkgdGhlbg0KICAgICAgICAgICAgU2NyaXB0LkNoYW5uZWw6U2VuZE9yYW5nZU1lc3NhZ2Uoc3RhdHVzLCBtc2cpDQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIFNjcmlwdC5DaGFubmVsOlNlbmRZZWxsb3dNZXNzYWdlKHN0YXR1cywgbXNnKQ0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICBpZiAoc2hvd1ByaW50KSB0aGVuDQogICAgICAgIHByaW50KChzdGF0dXMgPT0gTE9HX0VSUk9SIGFuZCAnRVJST1I6ICcgb3IgJycpIC4uIG1zZykNCiAgICBlbmQNCmVuZA0KY29uc29sZS5sb2cgPSBmdW5jdGlvbihtc2csIHNob3dQcmludCkNCiAgICBsb2coTE9HX1NUQVRVUywgbXNnLCBzaG93UHJpbnQpDQplbmQNCmNvbnNvbGUud2FybiA9IGZ1bmN0aW9uKG1zZywgc2hvd1ByaW50KQ0KICAgIGxvZyhMT0dfV0FSTklORywgbXNnLCBzaG93UHJpbnQpDQplbmQNCmNvbnNvbGUuZXJyb3IgPSBmdW5jdGlvbihtc2csIHNob3dQcmludCkNCiAgICBsb2coTE9HX0VSUk9SLCBtc2csIHNob3dQcmludCkNCiAgICBzY3JlZW5zaG90KCdFUlJPUiAnIC4uIFNlbGYuTmFtZSgpIC4uIG9zLmRhdGUoJyAlbS4lZCAtICVILiVNLiVTJykpDQplbmQNCmNvbnNvbGUucHJvbXB0ID0gZnVuY3Rpb24obXNnLCBzaG93UHJpbnQpDQogICAgbG9nKExPR19QUk9NUFQsIG1zZywgc2hvd1ByaW50KQ0KZW5kDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi0tIEVuZCBDb25zb2xlIEZ1bmN0aW9ucw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLSBTY3JpcHQgRnVuY3Rpb25zDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NClNjcmlwdCA9IHt9DQpTY3JpcHRFdmVudHMgPSB7fQ0KDQpTY3JpcHQuU2V0dGluZ3MgPSBuaWwNClNjcmlwdC5DaGFubmVsID0gbmlsDQpTY3JpcHQuU3RhcnQgPSBvcy50aW1lKCkNClNjcmlwdC5Ub3duID0gJ3Vua25vd24nDQoNClNjcmlwdC5TdXBwbHlEZXBvdCA9IDINCg0KU2NyaXB0LldpdGhkcmF3SXRlbXMgPSB7fQ0KU2NyaXB0Lkxvb3RDb250YWluZXJzID0ge30NClNjcmlwdC5NYWluQ29udGFpbmVyID0gMA0KU2NyaXB0LkdvbGRDb250YWluZXIgPSBuaWwNClNjcmlwdC5Qb3Rpb25Db250YWluZXIgPSBuaWwNClNjcmlwdC5SdW5lQ29udGFpbmVyID0gbmlsDQpTY3JpcHQuQW1tb0NvbnRhaW5lciA9IG5pbA0KU2NyaXB0LlN1cHBseUNvbnRhaW5lciA9IG5pbA0KDQpTY3JpcHQuUm9wZUlEID0gLTENClNjcmlwdC5TaG92ZWxJRCA9IC0xDQpTY3JpcHQuUGlja0lEID0gLTENCg0KU2NyaXB0LlJvcGVJdGVtSUQgPSAwDQpTY3JpcHQuU2hvdmVsSXRlbUlEID0gMA0KU2NyaXB0LlBpY2tJdGVtSUQgPSAwDQoNCg0KU2NyaXB0LlBhdGhzID0ge30NClNjcmlwdC5SdW5QYXRocyA9IHt9DQpTY3JpcHQuaXNJbkFudGlMdXJlID0gZmFsc2UNClNjcmlwdC5pc0luSmFtTW9kZSA9IGZhbHNlDQpTY3JpcHQuaXNJbkRydW5rTW9kZSA9IGZhbHNlDQpTY3JpcHQuaXNJblN0dWNrTW9kZSA9IGZhbHNlDQoNCmZ1bmN0aW9uIG9uV2Fsa2VyTGFiZWxTY3JpcHRFdmVudChsYWJlbCkNCiAgICBsb2NhbCBsYWJlbERhdGEgPSBsYWJlbDpzcGxpdCgnfCcpDQogICAgbG9jYWwgY29tbWFuZCA9IGxhYmVsRGF0YVsxXQ0KICAgIC0tIENoZWNrIGlmIGlzIGEgc3BlY2lhbCBsYWJlbCAoaGFzIHBhcmFtKHMpKQ0KICAgIGlmICgjbGFiZWxEYXRhID4gMSkgdGhlbg0KICAgICAgICAtLSBFbmFibGUgVGFyZ2V0ZXIvTG9vdGVyIHdoZW4gbGVhdmluZyB0byBodW50DQogICAgICAgIGlmIChjb21tYW5kID09ICdodW50JykgdGhlbg0KICAgICAgICAgICAgTG9vdGVyLlN0YXJ0KCkNCiAgICAgICAgICAgIFRhcmdldGluZy5TdGFydCgpDQogICAgICAgIGVuZA0KICAgICAgICAtLSBSb3V0ZSBTeXN0ZW0NCiAgICAgICAgaWYgKGNvbW1hbmQgPT0gJ3JvdXRlJykgdGhlbg0KICAgICAgICAgICAgV2Fsa2VyLkNvbmRpdGlvbmFsR290byhub3QgX1JvdXRlW2xhYmVsRGF0YVsyXV0gb3IgU2VsZi5DaGVjaygpLCBsYWJlbERhdGFbM10pDQogICAgICAgIC0tIFZlcmlmeSBwb3NpdGlvbiBsYWJlbA0KICAgICAgICBlbHNlaWYgKGNvbW1hbmQgPT0gJ3ZlcmlmeScpIHRoZW4NCiAgICAgICAgICAgIFdhbGtlci5WZXJpZnlQb3NpdGlvbihsYWJlbERhdGFbMl0sIGxhYmVsRGF0YVszXSkNCiAgICAgICAgLS0gUGljayBTeXN0ZW0NCiAgICAgICAgZWxzZWlmIChjb21tYW5kID09ICdwaWNrJyBhbmQgU2NyaXB0LlBpY2tJRCA+IDApIHRoZW4NCiAgICAgICAgICAgIGxvY2FsIGRpcmVjdGlvbiA9IGxhYmVsRGF0YVsyXTp1cHBlcigpDQogICAgICAgICAgICBsb2NhbCBob2xlUG9zID0gZ2V0UG9zaXRpb25Gcm9tRGlyZWN0aW9uKFNlbGYuUG9zaXRpb24oKSwgX0dbZGlyZWN0aW9uXSwgMSkNCiAgICAgICAgICAgIFNlbGYuVXNlSXRlbVdpdGhHcm91bmQoU2NyaXB0LlBpY2tJRCwgaG9sZVBvcy54LCBob2xlUG9zLnksIGhvbGVQb3MueikNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCgnVXNlZCBwaWNrICglcykuJyk6Zm9ybWF0KGRpcmVjdGlvbikpDQogICAgICAgIGVsc2VpZiAoY29tbWFuZCA9PSAnbGV2aXRhdGUnKSB0aGVuDQogICAgICAgICAgICBsb2NhbCBwcmV2Rmxvb3IgPSBTZWxmLlBvc2l0aW9uKCkueg0KICAgICAgICAgICAgbG9jYWwgcHJldlN0dWNrTW9kZSA9IFNjcmlwdC5pc0luU3R1Y2tNb2RlDQogICAgICAgICAgICBpZiAobm90IHByZXZTdHVja01vZGUpIHRoZW4NCiAgICAgICAgICAgICAgICBUYXJnZXRpbmcuRW5hYmxlQWxsU3R1Y2sodHJ1ZSkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgTG9vdGVyLlN0b3AoKQ0KICAgICAgICAgICAgcmRtX3NsZWVwKFdBSVRfTE9XKQ0KICAgICAgICAgICAgU2VsZi5UdXJuKGxhYmVsRGF0YVszXTpsb3dlcigpKQ0KICAgICAgICAgICAgaWYgKG5vdCBsYWJlbERhdGFbNF0pIHRoZW4NCiAgICAgICAgICAgICAgICByZG1fc2xlZXAoV0FJVF9MT1cpDQogICAgICAgICAgICAgICAgU2VsZi5TdGVwKGxhYmVsRGF0YVszXTpsb3dlcigpKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgICAgICByZG1fc2xlZXAoV0FJVF9NSURMT1cpDQogICAgICAgICAgICBpZiAoU2VsZi5Qb3NpdGlvbigpLnogPT0gcHJldkZsb29yKSB0aGVuDQogICAgICAgICAgICAgICAgU2VsZi5DYXN0KCdleGFuaSBodXIgJyAuLiAobGFiZWxEYXRhWzJdID09ICcrJyBhbmQgJ3VwJyBvciAnZG93bicpKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBpZiAobm90IHByZXZTdHVja01vZGUpIHRoZW4NCiAgICAgICAgICAgICAgICBUYXJnZXRpbmcuRW5hYmxlQWxsU3R1Y2soZmFsc2UpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIExvb3Rlci5TdGFydCgpDQogICAgICAgIC0tIFRhcmdldGluZyBDaGFuZ2UNCiAgICAgICAgZWxzZWlmIChjb21tYW5kID09ICdpZnN0dWNrJykgdGhlbg0KICAgICAgICAgICAgbG9jYWwgc3RhdHVzID0gbGFiZWxEYXRhWzJdOmxvd2VyKCkgPT0gJ3RydWUnIGFuZCB0cnVlIG9yIGZhbHNlDQogICAgICAgICAgICAtLSBMdXJlIG1vZGUgZGlzYWJsZWQNCiAgICAgICAgICAgIGlmIChzdGF0dXMgYW5kIGxhYmVsRGF0YVszXSBhbmQgbm90IF9TcGF3bltsYWJlbERhdGFbM11dKSB0aGVuDQogICAgICAgICAgICAgICAgc3RhdHVzID0gZmFsc2UNCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgVGFyZ2V0aW5nLkVuYWJsZUFsbFN0dWNrKHN0YXR1cykNCiAgICAgICAgLS0gSmFtIE1vZGUgQ2hhbmdlIChTdGFsa2VycywgZXRjLikNCiAgICAgICAgZWxzZWlmIChjb21tYW5kID09ICdqYW0nKSB0aGVuDQogICAgICAgICAgICBTY3JpcHQuaXNJbkphbU1vZGUgPSBsYWJlbERhdGFbMl06bG93ZXIoKSA9PSAndHJ1ZScgYW5kIHRydWUgb3IgZmFsc2UNCiAgICAgICAgLS0gRHJ1bmsgTW9kZSBDaGFuZ2UgKERqaW5ucywgZXRjLikNCiAgICAgICAgZWxzZWlmIChjb21tYW5kID09ICdkcnVuaycpIHRoZW4NCiAgICAgICAgICAgIFNjcmlwdC5pc0luRHJ1bmtNb2RlID0gbGFiZWxEYXRhWzJdOmxvd2VyKCkgPT0gJ3RydWUnIGFuZCB0cnVlIG9yIGZhbHNlDQogICAgICAgIC0tIERvb3IgU3lzdGVtDQogICAgICAgIGVsc2VpZiAoY29tbWFuZCA9PSAnZG9vcicpIHRoZW4NCiAgICAgICAgICAgIGlmIChsYWJlbERhdGFbM10gPT0gbmlsIG9yIGxhYmVsRGF0YVszXTpsb3dlcigpIH49ICdzdGFydCcpIHRoZW4NCiAgICAgICAgICAgICAgICBsb2NhbCBkaXJlY3Rpb24gPSBsYWJlbERhdGFbM106dXBwZXIoKQ0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCgnUmVhY2hlZCBkb29yICVxICglcykuJyk6Zm9ybWF0KGxhYmVsRGF0YVsyXSwgZGlyZWN0aW9uKSkNCiAgICAgICAgICAgICAgICBXYWxrZXIuQ29uZGl0aW9uYWxHb3RvKFNlbGYuRW50ZXJEb29yKF9HW2RpcmVjdGlvbl0pID09IGZhbHNlLCAoJ2Rvb3J8JXN8U1RBUlQnKTpmb3JtYXQobGFiZWxEYXRhWzJdKSkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICAtLSBQYXRoaW5nIFN5c3RlbSAocmVndWxhciwgc3RhcnQsIGFudGktbHVyZSkNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgLS0gQW50aSBMdXJlIFBhdGhpbmcNCiAgICAgICAgICAgIC0tIGVnOiBydW58cGF0aHxpZC9lbmR8b3B0aW9uYWwgKCssIGdvdG9MYWJlbCkNCiAgICAgICAgICAgIGlmIChjb21tYW5kID09IExBQkVMX0FOVElMVVJFKSB0aGVuDQogICAgICAgICAgICAgICAgLS0gRW5kIG9mIGEgUGF0aCAobm9uIHBhc3N0aHJvdWdoOyArKQ0KICAgICAgICAgICAgICAgIGlmIChTY3JpcHQuUnVuUGF0aHNbbGFiZWxEYXRhWzJdXSBhbmQgKGxhYmVsRGF0YVs0XSA9PSBuaWwgb3IgbGFiZWxEYXRhWzRdIH49ICcrJykpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgLS0gV2hldGhlciB3ZSByZWFsbHkgaGl0IHRoZSBlbmQgb3Igbm90Lg0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBwYXRoRW5kID0gbGFiZWxEYXRhWzNdID09ICdFbmQnDQogICAgICAgICAgICAgICAgICAgIC0tIEhpdCBhbm90aGVyIHN1YnBhdGggZnJvbSB0aGUgc2FtZSBtYWluIHBhdGgNCiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdCBwYXRoRW5kKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAtLSBTa2lwcGluZyB0byBzcGVjaWZpYyBsYWJlbCBpbnN0ZWFkIG9mIGVuZCAocGF0aCBtZXJnaW5nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgc2tpcFBhdGggPSBXYWxrZXIuR2V0TGFiZWxCeVBhdGhOYW1lKGNvbW1hbmQsIGxhYmVsRGF0YVsyXSwgbGFiZWxEYXRhWzRdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNraXBQYXRoIGFuZCBsYWJlbERhdGFbNF0pIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXYWxrZXIuR290byhza2lwUGF0aCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXYWxrZXIuR290byhjb21tYW5kIC4uICd8JyAuLiBsYWJlbERhdGFbMl0gLi4gJ3xFbmQnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgIC0tIFRydWUgZW5kIG9mIGEgcGF0aA0KICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAtLSBTd2l0Y2ggYmFjayB0byBub3JtYWwgdGFyZ2V0aW5nDQogICAgICAgICAgICAgICAgICAgICAgICBUYXJnZXRpbmcuRW5hYmxlQWxsU3R1Y2soZmFsc2UpDQogICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZG1fc2xlZXAoV0FJVF9IVUdFKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdW50aWwgbm90IFRhcmdldGluZy5pc0FudGlMdXJlVGhyZXNob2xkKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCgnU2FmZSB0byByZXR1cm4uIFJhbiBhd2F5IHVzaW5nOiAlcyAtICVzJyk6Zm9ybWF0KGxhYmVsRGF0YVsyXSwgU2NyaXB0LlJ1blBhdGhzW2xhYmVsRGF0YVsyXV0pKQ0KICAgICAgICAgICAgICAgICAgICAgICAgU2NyaXB0LmlzSW5BbnRpTHVyZSA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICBTY3JpcHQuUnVuUGF0aHNbbGFiZWxEYXRhWzJdXSA9IG5pbA0KDQogICAgICAgICAgICAgICAgLS0gU3RhcnQgb2YgYSBQYXRoIChpbmNsdWRpbmcgcGFzc3Rocm91Z2g7ICspDQogICAgICAgICAgICAgICAgZWxzZWlmIChsYWJlbERhdGFbM10gfj0gJ0VuZCcpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgLS0gU3RhcnRpbmcgYSBydW4gcm91dGUgKGFudGktbHVyZSkNCiAgICAgICAgICAgICAgICAgICAgLS0gU3dpdGNoIHRvIHN0dWNrIHRhcmdldGluZw0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygoJ0FudGktTHVyZSB0cmlnZ2VyZWQuIFJ1bm5pbmcgYXdheSB1c2luZyByb3V0ZTogJXMgLSAlcycpOmZvcm1hdChsYWJlbERhdGFbMl0sIGxhYmVsRGF0YVszXSkpDQogICAgICAgICAgICAgICAgICAgIFNjcmlwdC5SdW5QYXRoc1tsYWJlbERhdGFbMl1dID0gbGFiZWxEYXRhWzNdDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAtLSBSZWd1bGFyIC8gU3RhcnQgUGF0aGluZw0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIC0tIEVuZCBvZiBhIFBhdGggKG5vbiBwYXNzdGhyb3VnaCkNCiAgICAgICAgICAgICAgICBpZiAoU2NyaXB0LlBhdGhzW2NvbW1hbmRdIGFuZCAobGFiZWxEYXRhWzNdID09IG5pbCBvciBsYWJlbERhdGFbM10gfj0gJysnKSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAtLSBXaGV0aGVyIHdlIHJlYWxseSBoaXQgdGhlIGVuZCBvciBub3QuDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIHBhdGhFbmQgPSBsYWJlbERhdGFbMl0gPT0gJ0VuZCcNCiAgICAgICAgICAgICAgICAgICAgLS0gSGl0IGFub3RoZXIgc3VicGF0aCBmcm9tIHRoZSBzYW1lIG1haW4gcGF0aA0KICAgICAgICAgICAgICAgICAgICBpZiAobm90IHBhdGhFbmQpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIC0tIFNraXBwaW5nIHRvIHNwZWNpZmljIGxhYmVsIGluc3RlYWQgb2YgZW5kIChwYXRoIG1lcmdpbmcpDQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBza2lwUGF0aCA9IFdhbGtlci5HZXRMYWJlbEJ5UGF0aE5hbWUoY29tbWFuZCwgbGFiZWxEYXRhWzNdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNraXBQYXRoKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgV2Fsa2VyLkdvdG8oc2tpcFBhdGgpDQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgV2Fsa2VyLkdvdG8oY29tbWFuZCAuLid8RW5kJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAtLSBUcnVlIGVuZCBvZiBhIHBhdGgNCiAgICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coKCdFbmRlZCAlcSBwYXRoICglcykuJyk6Zm9ybWF0KGNvbW1hbmQsIFNjcmlwdC5QYXRoc1tjb21tYW5kXSkpDQogICAgICAgICAgICAgICAgICAgIGVuZA0KDQogICAgICAgICAgICAgICAgICAgIFNjcmlwdC5QYXRoc1tjb21tYW5kXSA9IG5pbA0KDQogICAgICAgICAgICAgICAgLS0gU3RhcnQgb2YgYSBQYXRoDQogICAgICAgICAgICAgICAgZWxzZWlmIChsYWJlbERhdGFbMl0gfj0gJ0VuZCcpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coKCdTdGFydGVkICVxIHBhdGggKCVzKS4nKTpmb3JtYXQoY29tbWFuZCwgbGFiZWxEYXRhWzJdKSkNCiAgICAgICAgICAgICAgICAgICAgU2NyaXB0LlBhdGhzW2NvbW1hbmRdID0gbGFiZWxEYXRhWzJdDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgLS0gQWx3YXlzIGZpbmQgdGhlIGNsb3Nlc3Qgc3RhcnRQb3Mgd2hlbiBlbnRlcmluZyB0b3duDQogICAgZWxzZWlmIChjb21tYW5kID09IExBQkVMX0VOVEVSVE9XTikgdGhlbg0KICAgICAgICBsb2NhbCBzdGFydExhYmVscyA9IFdhbGtlci5HZXRTdGFydFBvc0xhYmVscygpDQogICAgICAgIGlmIChzdGFydExhYmVscyBhbmQgI3N0YXJ0TGFiZWxzID4gMCkgdGhlbg0KICAgICAgICAgICAgbG9jYWwgc3RhcnQgPSBXYWxrZXIuR2V0Q2xvc2VzdExhYmVsKGZhbHNlLCB1bnBhY2soc3RhcnRMYWJlbHMpKQ0KICAgICAgICAgICAgaWYgKHN0YXJ0KSB0aGVuDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VudGVyaW5nIHRvd24uJykNCiAgICAgICAgICAgICAgICBXYWxrZXIuR290byhzdGFydCkNCiAgICAgICAgICAgICAgICBUYXJnZXRpbmcuU3RvcCgpDQogICAgICAgICAgICAgICAgTG9vdGVyLlN0b3AoKQ0KCQkJCVNlbGYuQ3VyZUNvbmRpdGlvbigpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZWxzZQ0KICAgICAgICBsb2NhbCBsYWJlbERhdGEgPSBjb21tYW5kOnNwbGl0KCd+JykNCiAgICAgICAgbG9jYWwgZnVuYyA9IFNjcmlwdEV2ZW50c1tsYWJlbERhdGFbMV1dDQogICAgICAgIGlmICh0eXBlKGZ1bmMpID09ICdmdW5jdGlvbicpIHRoZW4NCiAgICAgICAgICAgIC0tIElmIGF0IGxlYXN0IG9uZSBwYXJhbWV0ZXIsIHVucGFjayBpbnRvIGZ1bmN0aW9uIGFyZ3VtZW50cw0KICAgICAgICAgICAgaWYgKGxhYmVsRGF0YVsyXSkgdGhlbg0KICAgICAgICAgICAgICAgIHRhYmxlLnJlbW92ZShsYWJlbERhdGEsIDEpDQogICAgICAgICAgICAgICAgZnVuYyh1bnBhY2sobGFiZWxEYXRhKSkNCiAgICAgICAgICAgIC0tIE5vIHBhcmFtZXRlcnMsIGp1c3QgY2FsbCB0aGUgZnVuY3Rpb24NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICBmdW5jKCkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCmVuZA0KDQpmdW5jdGlvbiBvbkNvbnNvbGVTcGVhayhtc2cpDQplbmQNCg0KZnVuY3Rpb24gb25Db25zb2xlQ2xvc2UoKQ0KZW5kDQoNClNjcmlwdC5Jbml0ID0gZnVuY3Rpb24oc2NyaXB0TmFtZSwgc2NyaXB0S2V5KQ0KICAgIGxvY2FsIGNvbmZpZ0NvbXBvbmVudHMgPSBzY3JpcHROYW1lOnNwbGl0KCddJykNCiAgICBsb2NhbCBjb25maWdOYW1lID0gY29uZmlnQ29tcG9uZW50c1sxXSAuLiAnXSBDb25maWctJyAuLiBjb25maWdDb21wb25lbnRzWzJdOnRyaW0oKSAuLiAnLmx1YScNCiAgICBpZiAobm90IFNjcmlwdC5Mb2FkQ29uZmlnKGNvbmZpZ05hbWUpKSB0aGVuDQogICAgICAgIHByaW50KCdFUlJPUjogQ29uZmlnIG5vdCBmb3VuZCFcblxuJXMgbmVlZHMgdG8gYmUgaW4geW91ciBzY3JpcHRzIGZvbGRlci4nLCBjb25maWdOYW1lKQ0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICBlbmQNCg0KICAgIFNjcmlwdC5TZXR0aW5ncyA9IFNldHRpbmdzLk5ldyhzY3JpcHROYW1lKQ0KICAgIGlmIChub3QgU2NyaXB0LlNldHRpbmdzKSB0aGVuDQogICAgICAgIHByaW50KCdFUlJPUjogWEJTVCBub3QgZm91bmQhXG5cbiVzLnhic3QgbmVlZHMgdG8gYmUgaW4geW91ciBzZXR0aW5ncyBmb2xkZXIuJywgc2NyaXB0TmFtZSkNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgZW5kDQoNCiAgICAtLSBTdGFydCBTZWN1cml0eQ0KICAgIHNjcmlwdEtleSA9IHNjcmlwdEtleSBvciAnJw0KICAgIGxvY2FsIHNlY3VyaXR5S2V5cyA9IHNjcmlwdEtleTpyZXZlcnNlKCk6c3BsaXQoJ3wnKQ0KICAgIGxvY2FsIGxpc3QgPSBXYWxrZXIuR2V0QWxsV2F5cG9pbnRzKCkNCiAgICBsb2NhbCBrZXkgPSAiIg0KICAgIGZvciBpPTEsI2xpc3QgZG8NCiAgICAgICAga2V5ID0ga2V5IC4uIGxpc3RbaV0udGFnDQogICAgZW5kDQogICAgYXNzZXJ0KGxpc3Qgb3Iga2V5PT1zZWN1cml0eUtleXNbI3NlY3VyaXR5S2V5c10sJ0ZhaWxlZCBzY3JpcHQgdmVyaWZpY2F0aW9uIGNoZWNrLicpDQogICAgLS0gZGVjcnlwdGluZyB1c2VybmFtZQ0KICAgIGxvY2FsIGJ5dGVMZW5ndGhzID0gc2VjdXJpdHlLZXlzWzFdDQogICAgbG9jYWwgdXNlckJ5dGVzID0gc2VjdXJpdHlLZXlzWzJdDQogICAgbG9jYWwgYnl0ZVBvcyA9IDANCiAgICBsb2NhbCBrZXluYW1lID0gIiINCiAgICBsb2NhbCBwYXJzZUJ5dGVzID0gZnVuY3Rpb24obCkNCiAgICAgICAgbG9jYWwgc3RyaW5nRW5kID0gYnl0ZVBvcyArIHRvbnVtYmVyKGwpDQogICAgICAgIGtleW5hbWUgPSBrZXluYW1lIC4uc3RyaW5nLmNoYXIodG9udW1iZXIodXNlckJ5dGVzOnN1YihieXRlUG9zKzEsIHN0cmluZ0VuZCkpKQ0KICAgICAgICBieXRlUG9zID0gc3RyaW5nRW5kDQogICAgICAgIHJldHVybg0KICAgIGVuZA0KICAgIHN0cmluZy5nc3ViKGJ5dGVMZW5ndGhzLCAiKCV3KSIsIHBhcnNlQnl0ZXMpDQogICAgbG9jYWwgdGVzdEtleSA9IChrZXluYW1lPT0ibXVjeHlxaTlkd2N0MGFkaG1jZGtkaTdjYXZrdDZsNXpoZWVpaGx6Y3V3bGNnZm9mdnNrdWN6Y2p1cnJmOHp4IikgYW5kIGtleW5hbWUgb3IgZ2V0VXNlck5hbWUoKTpsb3dlcigpDQogICAgYXNzZXJ0KG5vdChub3QgZ2V0VXNlck5hbWUgb3IgcGNhbGwoZnVuY3Rpb24oKXN0cmluZy5kdW1wKGdldFVzZXJOYW1lKWVuZCkgb3Iga2V5bmFtZX49dGVzdEtleSksJ0ZhaWxlZCB1c2VyIHZlcmlmaWNhdGlvbiBjaGVjay4nKQ0KICAgIC0tIEVuZCBTZWN1cml0eQ0KDQogICAgU2NyaXB0LkNoYW5uZWwgPSBDaGFubmVsLk5ldygnU2NyaXB0IExvZycsIG9uQ29uc29sZVNwZWFrLCBvbkNvbnNvbGVDbG9zZSkNCiAgICBjb25zb2xlLmxvZygnTGlicmFyeSBSZXZpc2lvbjogJyAuLiBTWU5MSUJfUkVWSVNJT04pDQogICAgY29uc29sZS5sb2coJ1NldHRpbmdzIGFuZCBMaWJyYXJ5IGxvYWRlZCBzdWNjZXNzZnVsbHkuJykNCg0KICAgIC0tIEdldCBMb290IEJhY2twYWNrIEluZGV4ZXMNCiAgICBsb2NhbCBsb290ID0gTG9vdGVyLkdldEFsbExvb3RJdGVtcygpDQogICAgaWYgKGxvb3QpIHRoZW4NCiAgICAgICAgU2NyaXB0Lkxvb3RDb250YWluZXJzID0gbG9vdA0KICAgIGVuZA0KDQogICAgQ2F2ZWJvdC5TdG9wKCkNCg0KICAgIC0tIFJlc2V0IEJhY2twYWNrcyAmIERldGVjdCBNYW5hL1J1bmUgQ29udGFpbmVycw0KICAgIGlmIChub3QgU2NyaXB0LlNldHVwQ29udGFpbmVycygpKSB0aGVuDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZA0KDQogICAgLS0gRGV0ZWN0IGVxdWlwbWVudA0KICAgIGxvY2FsIGRpc1dlYXBvbklEID0gMA0KICAgIGxvY2FsIGRpc0FtbW9JRCA9IDANCiAgICBpZiAoI0FNTVVOSVRJT05TID4gMCkgdGhlbg0KICAgICAgICBmb3IgaSA9IDEsICNBTU1VTklUSU9OUyBkbw0KICAgICAgICAgICAgbG9jYWwgYW1tbyA9IEFNTVVOSVRJT05TW2ldDQogICAgICAgICAgICBpZiAodGFibGUuY29udGFpbnMoRElTVEFOQ0VfV0VBUE9OUywgYW1tby5pZCkgYW5kIGRpc1dlYXBvbklEID09IDApIHRoZW4NCiAgICAgICAgICAgICAgICBkaXNXZWFwb25JRCA9IGFtbW8uaWQNCiAgICAgICAgICAgIGVsc2VpZiAoZGlzQW1tb0lEID09IDApIHRoZW4NCiAgICAgICAgICAgICAgICBkaXNBbW1vSUQgPSBhbW1vLmlkDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICAtLSBEZXRlY3QgbmVlZGVkIHRvb2xzDQogICAgbG9jYWwgdG9vbHMgPSBXYWxrZXIuR2V0TmVlZGVkVG9vbHMoKQ0KICAgIGlmICh0b29scy5zaG92ZWwpIHRoZW4NCiAgICAgICAgZm9yIGkgPSAxLCAjU0hPVkVMX1RPT0xTIGRvDQogICAgICAgICAgICBpZiAoU2VsZi5JdGVtQ291bnQoU0hPVkVMX1RPT0xTW2ldWzFdKSA+IDApIHRoZW4NCiAgICAgICAgICAgICAgICBTY3JpcHQuU2hvdmVsSUQgPSBTSE9WRUxfVE9PTFNbaV1bMl0NCiAgICAgICAgICAgICAgICBTY3JpcHQuU2hvdmVsSXRlbUlEID0gU0hPVkVMX1RPT0xTW2ldWzFdDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgaWYgKFNjcmlwdC5TaG92ZWxJRCA8IDApIHRoZW4NCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ01pc3Npbmcgc2hvdmVsLCBwbGVhc2UgcGxhY2UgYSBzaG92ZWwgaW4geW91ciBtYWluIGJhY2twYWNrLicsIHRydWUpDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIGlmICh0b29scy5yb3BlKSB0aGVuDQogICAgICAgIGZvciBpID0gMSwgI1JPUEVfVE9PTFMgZG8NCiAgICAgICAgICAgIGlmIChTZWxmLkl0ZW1Db3VudChST1BFX1RPT0xTW2ldWzFdKSA+IDApIHRoZW4NCiAgICAgICAgICAgICAgICBTY3JpcHQuUm9wZUlEID0gUk9QRV9UT09MU1tpXVsyXQ0KICAgICAgICAgICAgICAgIFNjcmlwdC5Sb3BlSXRlbUlEID0gU0hPVkVMX1RPT0xTW2ldWzFdDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgaWYgKFNjcmlwdC5Sb3BlSUQgPCAwKSB0aGVuDQogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNaXNzaW5nIHJvcGUsIHBsZWFzZSBwbGFjZSBhIHJvcGUgaW4geW91ciBtYWluIGJhY2twYWNrLicsIHRydWUpDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIGlmICh0b29scy5waWNrKSB0aGVuDQogICAgICAgIGZvciBpID0gMSwgI1BJQ0tfVE9PTFMgZG8NCiAgICAgICAgICAgIGlmIChTZWxmLkl0ZW1Db3VudChQSUNLX1RPT0xTW2ldKSA+IDApIHRoZW4NCiAgICAgICAgICAgICAgICBTY3JpcHQuUGlja0lEID0gUElDS19UT09MU1tpXQ0KICAgICAgICAgICAgICAgIFNjcmlwdC5QaWNrSXRlbUlEID0gU0hPVkVMX1RPT0xTW2ldDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgaWYgKFNjcmlwdC5QaWNrSUQgPCAwKSB0aGVuDQogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNaXNzaW5nIHBpY2ssIHBsZWFzZSBwbGFjZSBhIHBpY2sgaW4geW91ciBtYWluIGJhY2twYWNrLicsIHRydWUpDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgLS0gRGV0ZWN0IG5lZWRlZCB0b29scw0KICAgIGlmICh0b29scy5zaG92ZWwgb3IgdG9vbHMucm9wZSBvciBkaXNXZWFwb25JRCA+IDAgb3IgZGlzQW1tb0lEID4gMCkgdGhlbg0KICAgICAgICBsb2NhbCB0b29sWE1MID0gKFtbPHBhbmVsIG5hbWU9IldhbGtlciBPcHRpb25zIj48Y29udHJvbCBuYW1lPSJyb3BlT3B0aW9uIiB2YWx1ZT0iJWQiLz48Y29udHJvbCBuYW1lPSJzaG92ZWxPcHRpb24iIHZhbHVlPSIlZCIvPjwvcGFuZWw+XV0pOmZvcm1hdChTY3JpcHQuUm9wZUlELCBTY3JpcHQuU2hvdmVsSUQpDQogICAgICAgIGxvY2FsIGVxWE1MID0gKFtbPHBhbmVsIG5hbWU9IkVxdWlwbWVudCBNYW5hZ2VyIj48Y29udHJvbCBuYW1lPSJBbW1vUmVmaWxsSUQiIHZhbHVlPSIlZCIvPjxjb250cm9sIG5hbWU9IkFtbW9SZWZpbGxFbmFibGUiIHZhbHVlPSIlZCIvPjxjb250cm9sIG5hbWU9IldlYXBvblJlZmlsbElEIiB2YWx1ZT0iJWQiLz48Y29udHJvbCBuYW1lPSJXZWFwb25SZWZpbGxFbmFibGUiIHZhbHVlPSIlZCIvPjwvcGFuZWw+XV0pOmZvcm1hdChkaXNBbW1vSUQsIGRpc0FtbW9JRCA+IDAgYW5kIDEgb3IgMCwgZGlzV2VhcG9uSUQsIGRpc1dlYXBvbklEID4gMCBhbmQgMSBvciAwKQ0KICAgICAgICBsb2NhbCBmaWxlID0gaW8ub3BlbignLi4vU2V0dGluZ3MvdG1wLXRvb2xzLnhic3QnLCAidysiKQ0KICAgICAgICBpZiAoZmlsZSkgdGhlbg0KICAgICAgICAgICAgZmlsZTp3cml0ZSh0b29sWE1MIC4uIGVxWE1MKQ0KICAgICAgICAgICAgZmlsZTpjbG9zZSgpDQogICAgICAgICAgICBsb2FkU2V0dGluZ3MoJ3RtcC10b29scycsICJBbGwiKQ0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcihXQUxLRVJfU0VMRUNUTEFCRUwsICJvbldhbGtlckxhYmVsU2NyaXB0RXZlbnQiKQ0KDQogICAgLS0gU3RhcnQgTG9vdGVyL1RhcmdldGVyDQogICAgVGFyZ2V0aW5nLlN0YXJ0KCkNCiAgICBMb290ZXIuU3RhcnQoKQ0KICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBsb290ZXIgYW5kIHRhcmdldGVyLicpDQoNCiAgICBsb2NhbCBzdGFydExhYmVscyA9IFdhbGtlci5HZXRTdGFydFBvc0xhYmVscygpDQogICAgaWYgKHN0YXJ0TGFiZWxzIGFuZCAjc3RhcnRMYWJlbHMgPiAwKSB0aGVuDQogICAgICAgIGxvY2FsIHN0YXJ0LCBzdGFydFBvcyA9IFdhbGtlci5HZXRDbG9zZXN0TGFiZWwoZmFsc2UsIHVucGFjayhzdGFydExhYmVscykpDQogICAgICAgIGlmIChzdGFydCkgdGhlbg0KICAgICAgICAgICAgaWYoZ2V0RGlzdGFuY2VCZXR3ZWVuKGdldFNlbGZQb3NpdGlvbigpLCBzdGFydFBvcykgPCAzMCl0aGVuDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coKCclc1xuU3RhcnRpbmcgZnJvbSAlcS4nKTpmb3JtYXQoc2NyaXB0TmFtZSAuLiAnIGJ5IEpYU2NyaXB0cycsIHN0YXJ0OnNwbGl0KCd8JylbMl0pLCB0cnVlKQ0KICAgICAgICAgICAgICAgIFdhbGtlci5Hb3RvKHN0YXJ0KQ0KICAgICAgICAgICAgICAgIGNvbnNvbGUucHJvbXB0KCdFbmFibGUgdGhlIHdhbGtlciB0byBzdGFydCB0aGUgc2NyaXB0LicpDQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gbG9jYXRlIHZhbGlkIHN0YXJ0IHBvc2l0aW9uLiBNb3ZlIGNsb3NlciB0byB0aGUgRGVwb3QsIEJvYXQsIG9yIFRlbXBsZSBhbmQgcmVzdGFydCB0aGUgc2NyaXB0LiIsIHRydWUpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIGxvY2F0ZSB2YWxpZCBzdGFydCBwb3NpdGlvbi4gTW92ZSBjbG9zZXIgdG8gdGhlIERlcG90LCBCb2F0LCBvciBUZW1wbGUgYW5kIHJlc3RhcnQgdGhlIHNjcmlwdC4iLCB0cnVlKQ0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICBjb25zb2xlLmxvZyhzY3JpcHROYW1lIC4uICcgYnkgSlhTY3JpcHRzJywgdHJ1ZSkNCiAgICByZXR1cm4gdHJ1ZQ0KZW5kDQoNClNjcmlwdC5FdmVudCA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZnVuYykNCiAgICBsb2NhbCBldmVudHMgPSBldmVudE5hbWU6c3BsaXQoKQ0KICAgIC0tIE11bHRpcGxlIGV2ZW50cyByZWdpc3RlcmVkIChjb21tYSBkZWxpbWl0ZWQpDQogICAgaWYgKCNldmVudHMgPiAxKSB0aGVuDQogICAgICAgIGZvciBfLCBldmVudCBpbiBpcGFpcnMoZXZlbnRzKSBkbw0KICAgICAgICAgICAgU2NyaXB0RXZlbnRzW2V2ZW50OnRyaW0oKV0gPSBmdW5jDQogICAgICAgIGVuZA0KICAgIC0tIFNpbmdsZSBzY3JpcHQNCiAgICBlbHNlDQogICAgICAgIFNjcmlwdEV2ZW50c1tldmVudE5hbWVdID0gZnVuYw0KICAgIGVuZA0KZW5kDQoNClNjcmlwdC5Mb2FkQ29uZmlnID0gZnVuY3Rpb24obmFtZSkNCiAgICAtLSBJbml0aWFsaXplIENvbmZpZyBUYWJsZXMNCiAgICBfV29ybGQgPSB7fQ0KICAgIF9QbGF5ZXIgPSB7fQ0KICAgIF9Sb3V0ZSA9IHt9DQogICAgX0hVRCA9IHt9DQogICAgX1Nob290ZXIgPSB7fQ0KICAgIF9IZWFsZXIgPSB7fQ0KICAgIF9Tb2Z0Qm9vdHMgPSB7fQ0KICAgIF9Qb3Rpb24gPSB7fQ0KICAgIF9SdW5lID0ge30NCiAgICBfQW1tbyA9IHt9DQogICAgX0NhcCA9IHt9DQogICAgX1N0YW1pbmEgPSB7fQ0KICAgIF9NYW5hID0ge30NCiAgICBfU3Bhd24gPSB7fQ0KICAgIF9TZWxsID0ge30NCiAgICBfUmluZyA9IHt9DQogICAgX0FtdWxldCA9IHt9DQogICAgX1dvcmxkLkhvcnNlc0F2YWlsYWJsZSA9IHRydWUNCiAgICBfTG9vdFNvcnQgPSB7fQ0KICAgIF9NaXNjID0ge30NCiAgICBfRm9vZCA9IHt9DQoNCiAgICBsb2NhbCBzY3JpcHQsIHJlc3VsdCA9IGxvYWRmaWxlKCcuLlxcU2NyaXB0c1xcJyAuLiBuYW1lKQ0KICAgIGlmIChub3Qgc2NyaXB0IGFuZCByZXN1bHQ6ZmluZCgnTm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeScsIDEsIHRydWUpKSB0aGVuDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVsc2UNCiAgICAgICAgc2NyaXB0KCkNCg0KICAgICAgICAtLSBJbml0IE5vcm1hbGl6ZSBDb25maWcNCiAgICAgICAgUE9USU9OUyA9IHt9DQogICAgICAgIFJVTkVTID0ge30NCiAgICAgICAgQU1NVU5JVElPTlMgPSB7fQ0KICAgICAgICBSSU5HUyA9IHt9DQogICAgICAgIEFNVUxFVFMgPSB7fQ0KICAgICAgICBTVVBQTElFUyA9IHt9DQogICAgICAgIEZPT0RTID0ge30NCg0KICAgICAgICAtLSBOb3JtYWxpemUgUG90aW9uIENvbmZpZw0KICAgICAgICBpZiAoX1BvdGlvbikgdGhlbg0KICAgICAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4gcGFpcnMoX1BvdGlvbikgZG8NCiAgICAgICAgICAgICAgICBsb2NhbCBrZXlTdGFydCwga2V5RW5kID0ga2V5OmZpbmQoJ0lEJykNCiAgICAgICAgICAgICAgICAtLSBUaGlzIGtleSBpcyB0aGUgSUQgb2YgdGhlIHZhcmlhYmxlDQogICAgICAgICAgICAgICAgaWYgKGtleVN0YXJ0IGFuZCB2YWx1ZSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAtLSBCYXNlIG5hbWUgb2YgdGhlIGtleSAoZXg6ICdNYW5hJyBvZiAnTWFuYUlEJykNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5TmFtZSA9IGtleTpzdWIoMSwga2V5U3RhcnQtMSkNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5Q29zdCA9IF9Qb3Rpb25ba2V5TmFtZSAuLiAnQ29zdCddIG9yIG5pbA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlNaW4gPSBfUG90aW9uW2tleU5hbWUgLi4gJ01pbiddIG9yIG5pbA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlNYXggPSBfUG90aW9uW2tleU5hbWUgLi4gJ01heCddIG9yIG5pbA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlXaXRoZHJhdyA9IF9Qb3Rpb25ba2V5TmFtZSAuLiAnV2l0aGRyYXcnXSBvciBuaWwNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5QWxhcm0gPSBfUG90aW9uW2tleU5hbWUgLi4gJ0FsYXJtJ10gb3IgbmlsDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleVN0YXR1cyA9IF9Qb3Rpb25ba2V5TmFtZSAuLiAnRW5hYmxlZCddDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleUlEID0gSXRlbS5HZXRJdGVtSURGcm9tRHVhbElucHV0KHZhbHVlKQ0KICAgICAgICAgICAgICAgICAgICBpZiAoa2V5U3RhdHVzID09IG5pbCBvciBrZXlTdGF0dXMpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXlXaXRoZHJhdykgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNjcmlwdC5XaXRoZHJhd0l0ZW1zW2tleUlEXSA9IHtkZXN0PSdQb3Rpb25Db250YWluZXInLGNvdW50PWtleU1heH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0KFBPVElPTlMsIHtuYW1lPWtleU5hbWUsIGlkPWtleUlELCBjb3N0PWtleUNvc3QsIG1pbj1rZXlNaW4sIG1heD1rZXlNYXgsIGFsYXJtPWtleUFsYXJtfSkNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQoNCiAgICAgICAgLS0gTm9ybWFsaXplIFJ1bmUgQ29uZmlnDQogICAgICAgIGlmIChfUnVuZSkgdGhlbg0KICAgICAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4gcGFpcnMoX1J1bmUpIGRvDQogICAgICAgICAgICAgICAgbG9jYWwga2V5U3RhcnQsIGtleUVuZCA9IGtleTpmaW5kKCdJRCcpDQogICAgICAgICAgICAgICAgLS0gVGhpcyBrZXkgaXMgdGhlIElEIG9mIHRoZSB2YXJpYWJsZQ0KICAgICAgICAgICAgICAgIGlmIChrZXlTdGFydCBhbmQgdmFsdWUpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgLS0gQmFzZSBuYW1lIG9mIHRoZSBrZXkgKGV4OiAnTWFuYScgb2YgJ01hbmFJRCcpDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleU5hbWUgPSBrZXk6c3ViKDEsIGtleVN0YXJ0LTEpDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleUNvc3QgPSBfUnVuZVtrZXlOYW1lIC4uICdDb3N0J10gb3IgbmlsDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleU1pbiA9IF9SdW5lW2tleU5hbWUgLi4gJ01pbiddIG9yIG5pbA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlNYXggPSBfUnVuZVtrZXlOYW1lIC4uICdNYXgnXSBvciBuaWwNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5V2l0aGRyYXcgPSBfUnVuZVtrZXlOYW1lIC4uICdXaXRoZHJhdyddIG9yIG5pbA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlBbGFybSA9IF9SdW5lW2tleU5hbWUgLi4gJ0FsYXJtJ10gb3IgbmlsDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleVR5cGUgPSBfUnVuZVtrZXlOYW1lIC4uICdUeXBlJ10gb3IgbmlsDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleVN0YXR1cyA9IF9SdW5lW2tleU5hbWUgLi4gJ0VuYWJsZWQnXQ0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlJRCA9IEl0ZW0uR2V0SXRlbUlERnJvbUR1YWxJbnB1dCh2YWx1ZSkNCiAgICAgICAgICAgICAgICAgICAgaWYgKGtleVN0YXR1cyA9PSBuaWwgb3Iga2V5U3RhdHVzKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5V2l0aGRyYXcpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTY3JpcHQuV2l0aGRyYXdJdGVtc1trZXlJRF0gPSB7ZGVzdD0nUnVuZUNvbnRhaW5lcicsY291bnQ9a2V5TWF4fQ0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnQoUlVORVMsIHtuYW1lPWtleU5hbWUsIGlkPWtleUlELCBjb3N0PWtleUNvc3QsIG1pbj1rZXlNaW4sIG1heD1rZXlNYXgsIGFsYXJtPWtleUFsYXJtLCB0eXBlPWtleVR5cGV9KQ0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCg0KICAgICAgICAtLSBOb3JtYWxpemUgQW1tbyBDb25maWcNCiAgICAgICAgaWYgKF9BbW1vKSB0aGVuDQogICAgICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBwYWlycyhfQW1tbykgZG8NCiAgICAgICAgICAgICAgICBsb2NhbCBrZXlTdGFydCwga2V5RW5kID0ga2V5OmZpbmQoJ0lEJykNCiAgICAgICAgICAgICAgICAtLSBUaGlzIGtleSBpcyB0aGUgSUQgb2YgdGhlIHZhcmlhYmxlDQogICAgICAgICAgICAgICAgaWYgKGtleVN0YXJ0IGFuZCB2YWx1ZSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAtLSBCYXNlIG5hbWUgb2YgdGhlIGtleSAoZXg6ICdNYW5hJyBvZiAnTWFuYUlEJykNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5TmFtZSA9IGtleTpzdWIoMSwga2V5U3RhcnQtMSkNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5Q29zdCA9IF9BbW1vW2tleU5hbWUgLi4gJ0Nvc3QnXSBvciBuaWwNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5TWluID0gX0FtbW9ba2V5TmFtZSAuLiAnTWluJ10gb3IgbmlsDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleU1heCA9IF9BbW1vW2tleU5hbWUgLi4gJ01heCddIG9yIG5pbA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlXaXRoZHJhdyA9IF9BbW1vW2tleU5hbWUgLi4gJ1dpdGhkcmF3J10gb3IgbmlsDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleUFsYXJtID0gX0FtbW9ba2V5TmFtZSAuLiAnQWxhcm0nXSBvciBuaWwNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5U3RhdHVzID0gX0FtbW9ba2V5TmFtZSAuLiAnRW5hYmxlZCddDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleUlEID0gSXRlbS5HZXRJdGVtSURGcm9tRHVhbElucHV0KHZhbHVlKQ0KICAgICAgICAgICAgICAgICAgICBpZiAoa2V5U3RhdHVzID09IG5pbCBvciBrZXlTdGF0dXMpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXlXaXRoZHJhdykgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNjcmlwdC5XaXRoZHJhd0l0ZW1zW2tleUlEXSA9IHtkZXN0PSdBbW1vQ29udGFpbmVyJyxjb3VudD1rZXlNYXh9DQogICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChBTU1VTklUSU9OUywge25hbWU9a2V5TmFtZSwgaWQ9a2V5SUQsIGNvc3Q9a2V5Q29zdCwgbWluPWtleU1pbiwgbWF4PWtleU1heCwgYWxhcm09a2V5QWxhcm19KQ0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCg0KICAgICAgICAtLSBOb3JtYWxpemUgUmluZyBDb25maWcNCiAgICAgICAgaWYgKF9SaW5nKSB0aGVuDQogICAgICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBwYWlycyhfUmluZykgZG8NCiAgICAgICAgICAgICAgICBsb2NhbCBrZXlTdGFydCwga2V5RW5kID0ga2V5OmZpbmQoJ0lEJykNCiAgICAgICAgICAgICAgICAtLSBUaGlzIGtleSBpcyB0aGUgSUQgb2YgdGhlIHZhcmlhYmxlDQogICAgICAgICAgICAgICAgaWYgKGtleVN0YXJ0IGFuZCB2YWx1ZSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAtLSBCYXNlIG5hbWUgb2YgdGhlIGtleSAoZXg6ICdNYW5hJyBvZiAnTWFuYUlEJykNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5TmFtZSA9IGtleTpzdWIoMSwga2V5U3RhcnQtMSkNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5Q29zdCA9IF9SaW5nW2tleU5hbWUgLi4gJ0Nvc3QnXSBvciBuaWwNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5TWluID0gX1Jpbmdba2V5TmFtZSAuLiAnTWluJ10gb3IgbmlsDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleU1heCA9IF9SaW5nW2tleU5hbWUgLi4gJ01heCddIG9yIG5pbA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlBbGFybSA9IF9SaW5nW2tleU5hbWUgLi4gJ0FsYXJtJ10gb3IgbmlsDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleUxpbWl0ID0gX1Jpbmdba2V5TmFtZSAuLiAnTGltaXQnXSBvciBuaWwNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5SGVhbHRoID0gX1Jpbmdba2V5TmFtZSAuLiAnSGVhbHRoJ10gb3IgbmlsDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleU1hbmEgPSBfUmluZ1trZXlOYW1lIC4uICdNYW5hJ10gb3IgbmlsDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleVN0YXR1cyA9IF9SaW5nW2tleU5hbWUgLi4gJ0VuYWJsZWQnXQ0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlJRCA9IEl0ZW0uR2V0SXRlbUlERnJvbUR1YWxJbnB1dCh2YWx1ZSkNCiAgICAgICAgICAgICAgICAgICAgaWYgKGtleVN0YXR1cyA9PSBuaWwgb3Iga2V5U3RhdHVzKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAtLSBBbHdheXMgd2l0aGRyYXcNCiAgICAgICAgICAgICAgICAgICAgICAgIFNjcmlwdC5XaXRoZHJhd0l0ZW1zW2tleUlEXSA9IHtkZXN0PSdTdXBwbHlDb250YWluZXInLGNvdW50PWtleU1heH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChSSU5HUywge25hbWU9a2V5TmFtZSwgaWQ9a2V5SUQsIGNvc3Q9a2V5Q29zdCwgbWluPWtleU1pbiwgbWF4PWtleU1heCwgYWxhcm09a2V5QWxhcm0sIGxpbWl0PWtleUxpbWl0LCBoZWFsdGg9a2V5SGVhbHRoLCBtYW5hPWtleU1hbmF9KQ0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCg0KICAgICAgICAtLSBOb3JtYWxpemUgQW11bGV0IENvbmZpZw0KICAgICAgICBpZiAoX0FtdWxldCkgdGhlbg0KICAgICAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4gcGFpcnMoX0FtdWxldCkgZG8NCiAgICAgICAgICAgICAgICBsb2NhbCBrZXlTdGFydCwga2V5RW5kID0ga2V5OmZpbmQoJ0lEJykNCiAgICAgICAgICAgICAgICAtLSBUaGlzIGtleSBpcyB0aGUgSUQgb2YgdGhlIHZhcmlhYmxlDQogICAgICAgICAgICAgICAgaWYgKGtleVN0YXJ0IGFuZCB2YWx1ZSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAtLSBCYXNlIG5hbWUgb2YgdGhlIGtleSAoZXg6ICdNYW5hJyBvZiAnTWFuYUlEJykNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5TmFtZSA9IGtleTpzdWIoMSwga2V5U3RhcnQtMSkNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5Q29zdCA9IF9BbXVsZXRba2V5TmFtZSAuLiAnQ29zdCddIG9yIG5pbA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlNaW4gPSBfQW11bGV0W2tleU5hbWUgLi4gJ01pbiddIG9yIG5pbA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlNYXggPSBfQW11bGV0W2tleU5hbWUgLi4gJ01heCddIG9yIG5pbA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlXaXRoZHJhdyA9IF9BbXVsZXRba2V5TmFtZSAuLiAnV2l0aGRyYXcnXSBvciBuaWwNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5QWxhcm0gPSBfQW11bGV0W2tleU5hbWUgLi4gJ0FsYXJtJ10gb3IgbmlsDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleUxpbWl0ID0gX0FtdWxldFtrZXlOYW1lIC4uICdMaW1pdCddIG9yIG5pbA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlIZWFsdGggPSBfQW11bGV0W2tleU5hbWUgLi4gJ0hlYWx0aCddIG9yIG5pbA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlNYW5hID0gX0FtdWxldFtrZXlOYW1lIC4uICdNYW5hJ10gb3IgbmlsDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleVN0YXR1cyA9IF9BbXVsZXRba2V5TmFtZSAuLiAnRW5hYmxlZCddDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleUlEID0gSXRlbS5HZXRJdGVtSURGcm9tRHVhbElucHV0KHZhbHVlKQ0KICAgICAgICAgICAgICAgICAgICBpZiAoa2V5U3RhdHVzID09IG5pbCBvciBrZXlTdGF0dXMpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIC0tIEFsd2F5cyB3aXRoZHJhdw0KICAgICAgICAgICAgICAgICAgICAgICAgU2NyaXB0LldpdGhkcmF3SXRlbXNba2V5SURdID0ge2Rlc3Q9J1N1cHBseUNvbnRhaW5lcicsY291bnQ9a2V5TWF4fQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0KEFNVUxFVFMsIHtuYW1lPWtleU5hbWUsIGlkPWtleUlELCBjb3N0PWtleUNvc3QsIG1pbj1rZXlNaW4sIG1heD1rZXlNYXgsIGFsYXJtPWtleUFsYXJtLCBsaW1pdD1rZXlMaW1pdCwgaGVhbHRoPWtleUhlYWx0aCwgbWFuYT1rZXlNYW5hfSkNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQoNCiAgICAgICAgLS0gTm9ybWFsaXplIFN1cHBsaWVzDQogICAgICAgIGlmIChfTWlzYykgdGhlbg0KICAgICAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4gcGFpcnMoX01pc2MpIGRvDQogICAgICAgICAgICAgICAgbG9jYWwga2V5U3RhcnQsIGtleUVuZCA9IGtleTpmaW5kKCdJRCcpDQogICAgICAgICAgICAgICAgLS0gVGhpcyBrZXkgaXMgdGhlIElEIG9mIHRoZSB2YXJpYWJsZQ0KICAgICAgICAgICAgICAgIGlmIChrZXlTdGFydCBhbmQgdmFsdWUpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgLS0gQmFzZSBuYW1lIG9mIHRoZSBrZXkgKGV4OiAnTWFuYScgb2YgJ01hbmFJRCcpDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleU5hbWUgPSBrZXk6c3ViKDEsIGtleVN0YXJ0LTEpDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleUNvc3QgPSBfTWlzY1trZXlOYW1lIC4uICdDb3N0J10gb3IgbmlsDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleU1pbiA9IF9NaXNjW2tleU5hbWUgLi4gJ01pbiddIG9yIG5pbA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlNYXggPSBfTWlzY1trZXlOYW1lIC4uICdNYXgnXSBvciBuaWwNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwga2V5QWxhcm0gPSBfTWlzY1trZXlOYW1lIC4uICdBbGFybSddIG9yIG5pbA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlMaW1pdCA9IF9NaXNjW2tleU5hbWUgLi4gJ0xpbWl0J10gb3IgbmlsDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGtleVN0YXR1cyA9IF9NaXNjW2tleU5hbWUgLi4gJ0VuYWJsZWQnXQ0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBrZXlJRCA9IEl0ZW0uR2V0SXRlbUlERnJvbUR1YWxJbnB1dCh2YWx1ZSkNCiAgICAgICAgICAgICAgICAgICAgaWYgKGtleVN0YXR1cyA9PSBuaWwgb3Iga2V5U3RhdHVzKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAtLSBBbHdheXMgd2l0aGRyYXcNCiAgICAgICAgICAgICAgICAgICAgICAgIFNjcmlwdC5XaXRoZHJhd0l0ZW1zW2tleUlEXSA9IHtkZXN0PSdNYWluQ29udGFpbmVyJyxjb3VudD1rZXlNYXh9DQogICAgICAgICAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnQoU1VQUExJRVMsIHtuYW1lPWtleU5hbWUsIGlkPWtleUlELCBjb3N0PWtleUNvc3QsIG1pbj1rZXlNaW4sIG1heD1rZXlNYXgsIGFsYXJtPWtleUFsYXJtLCBsaW1pdD1rZXlMaW1pdH0pDQogICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KDQogICAgICAgIC0tIEZvb2Qgc3BlY2lmaWNhdGlvbnMNCiAgICAgICAgLS1bW2lmIChfRm9vZCBhbmQgI0ZPT0RTID4gMCkgdGhlbg0KICAgICAgICAgICAgLS0gVXNlciBkaXNhYmxlZCBmb29kDQogICAgICAgICAgICBpZiAoX0Zvb2QuRW5hYmxlZCA9PSBmYWxzZSkgdGhlbg0KICAgICAgICAgICAgICAgIEZPT0RTID0ge30NCiAgICAgICAgICAgIC0tIENoZWNrIHVzZXIgZm9vZCBtb2RzIGlmIGFueQ0KICAgICAgICAgICAgZWxzZWlmIChfRm9vZC5NaW4gYW5kIF9Gb29kLk1heCkgdGhlbg0KICAgICAgICAgICAgICAgIGlmIChfRm9vZC5NYXggPCBfRm9vZC5NaW4gb3IgX0Zvb2QuTWluID4gX0Zvb2QuTWF4KSB0aGVuDQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ01pc2NvbmZpZ3VyZWQgbWluL21heCB2YWx1ZXMgZm9yIGZvb2QgY29uZmlnLicpDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgRk9PRFNbMV0ubWluID0gX0Zvb2QuTWluDQogICAgICAgICAgICAgICAgRk9PRFNbMV0ubWF4ID0gX0Zvb2QuTWF4DQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kXV0NCg0KDQogICAgICAgIGlmIChfUGxheWVyLlByZW1pdW0gPT0gbmlsKSB0aGVuDQogICAgICAgICAgICBfUGxheWVyLlByZW1pdW0gPSB0cnVlDQogICAgICAgIGVuZA0KDQogICAgICAgIHJldHVybiB0cnVlDQogICAgZW5kDQplbmQNCg0KU2NyaXB0LlNldHVwQ29udGFpbmVycyA9IGZ1bmN0aW9uKCkNCiAgICBTZWxmLlJlc2V0Q29udGFpbmVycyh0cnVlKQ0KICAgIGxvY2FsIG9wZW5Db250YWluZXJzID0gQ29udGFpbmVyLkdldEFsbCgpDQogICAgbG9jYWwgdmFsaWRDb250YWluZXJzID0ge30NCiAgICBmb3IgXywgaW5kZXggaW4gaXBhaXJzKG9wZW5Db250YWluZXJzKSBkbw0KICAgICAgICAtLSBJZiBub3QgdGhlIG1haW4gb3IgYSBsb290IGNvbnRhaW5lcg0KICAgICAgICBpZiAoaW5kZXggPiAwKSB0aGVuDQogICAgICAgICAgICBpZiAobm90IFNjcmlwdC5Mb290Q29udGFpbmVyc1tpbmRleF0pIHRoZW4NCiAgICAgICAgICAgICAgICAtLSBJbmNhc2Ugd2UgZG8gbm90IGZpbmQgYW55IGV4aXN0aW5nIGNvbnRhaW5lcnMNCiAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnQodmFsaWRDb250YWluZXJzLCBpbmRleCkNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygoIkxvb3QgQmFja3BhY2sncyBQb3NpdGlvbjogIyVkIik6Zm9ybWF0KGluZGV4KzEpKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCgiTWFpbiBCYWNrcGFjaydzIFBvc2l0aW9uOiAjJWQiKTpmb3JtYXQoaW5kZXgrMSkpDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgLS0gU3VpdGFibGUgY29udGFpbmVyIHRvIHVzZQ0KICAgIGlmICh2YWxpZENvbnRhaW5lcnNbMV0pIHRoZW4NCiAgICAgICAgU2NyaXB0LkdvbGRDb250YWluZXIgPSB2YWxpZENvbnRhaW5lcnNbMV0NCiAgICAgICAgY29uc29sZS5sb2coKCJHb2xkIEJhY2twYWNrJ3MgUG9zaXRpb246ICMlZCIpOmZvcm1hdChTY3JpcHQuR29sZENvbnRhaW5lciArIDEpKQ0KICAgICAgICB0YWJsZS5yZW1vdmUodmFsaWRDb250YWluZXJzLCAxKQ0KICAgIGVsc2UNCiAgICAgICAgY29uc29sZS5lcnJvcignTWlzc2luZyBnb2xkIGJhY2twYWNrLlxuVGhlIG1haW4sIGFuZCBsb290IGJhY2twYWNrcyBjYW5ub3QgYmUgdXNlZCB0byBob2xkIGdvbGQuJywgdHJ1ZSkNCiAgICAgICAgV2Fsa2VyLlN0b3AoKQ0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICBlbmQNCg0KICAgIC0tIFdlIG5lZWQgYSBwb3Rpb24gYmFja3BhY2sNCiAgICBpZiAoI1BPVElPTlMgPiAwKSB0aGVuDQogICAgICAgIC0tIE5vdCBlbm91Z2ggaXRlbSBjb3VudCwgb3IgaWdub3JpbmcgaXRlbWlkLg0KICAgICAgICBsb2NhbCB1c2VQb3Rpb25NYWluQmFja3BhY2sgPSB0cnVlDQogICAgICAgIGZvciBfLCBwb3Rpb24gaW4gaXBhaXJzKFBPVElPTlMpIGRvDQogICAgICAgICAgICBpZiAocG90aW9uLm1heCA+IDEwMCkgdGhlbg0KICAgICAgICAgICAgICAgIHVzZVBvdGlvbk1haW5CYWNrcGFjayA9IGZhbHNlDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIGlmICh1c2VQb3Rpb25NYWluQmFja3BhY2spIHRoZW4NCiAgICAgICAgICAgIFNjcmlwdC5Qb3Rpb25Db250YWluZXIgPSAwDQogICAgICAgICAgICBjb25zb2xlLmxvZygiUG90aW9uIEJhY2twYWNrJ3MgUG9zaXRpb246ICMxIikNCiAgICAgICAgLS0gU3VpdGFibGUgY29udGFpbmVyIHRvIHVzZQ0KICAgICAgICBlbHNlaWYgKHZhbGlkQ29udGFpbmVyc1sxXSkgdGhlbg0KICAgICAgICAgICAgU2NyaXB0LlBvdGlvbkNvbnRhaW5lciA9IHZhbGlkQ29udGFpbmVyc1sxXQ0KICAgICAgICAgICAgY29uc29sZS5sb2coKCJQb3Rpb24gQmFja3BhY2sncyBQb3NpdGlvbjogIyVkIik6Zm9ybWF0KFNjcmlwdC5Qb3Rpb25Db250YWluZXIgKyAxKSkNCiAgICAgICAgICAgIHRhYmxlLnJlbW92ZSh2YWxpZENvbnRhaW5lcnMsIDEpDQogICAgICAgIC0tIFRoaXMgaXMgYmFkLCB0aGVyZSBhcmUgbm8gY29udGFpbmVycyBmb3IgcG90cywgZmFpbA0KICAgICAgICBlbHNlDQogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNaXNzaW5nIHBvdGlvbnMgYmFja3BhY2suXG5UaGUgbWFpbiwgYW5kIGxvb3QgYmFja3BhY2tzIGNhbm5vdCBiZSB1c2VkIHRvIGhvbGQgcG90aW9ucy4nLCB0cnVlKQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgLS0gV2UgbmVlZCBhIHJ1bmUgYmFja3BhY2sNCiAgICBpZiAoI1JVTkVTID4gMCkgdGhlbg0KICAgICAgICAtLSBOb3QgZW5vdWdoIGl0ZW0gY291bnQsIG9yIGlnbm9yaW5nIGl0ZW1pZC4NCiAgICAgICAgbG9jYWwgdXNlUnVuZU1haW5CYWNrcGFjayA9IHRydWUNCiAgICAgICAgZm9yIF8sIHJ1bmUgaW4gaXBhaXJzKFJVTkVTKSBkbw0KICAgICAgICAgICAgaWYgKHJ1bmUubWF4ID4gMTAwKSB0aGVuDQogICAgICAgICAgICAgICAgdXNlUnVuZU1haW5CYWNrcGFjayA9IGZhbHNlDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIGlmICh1c2VSdW5lTWFpbkJhY2twYWNrKSB0aGVuDQogICAgICAgICAgICBTY3JpcHQuUnVuZUNvbnRhaW5lciA9IDANCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJSdW5lIEJhY2twYWNrJ3MgUG9zaXRpb246ICMxIikNCiAgICAgICAgLS0gU3VpdGFibGUgY29udGFpbmVyIHRvIHVzZSAob25seSB1c2UgcG90aW9uIGJwIGFzIHJ1bmUgYnAgaWYgdGhlcmUgaXMgbm8gb3RoZXIgY2hvaWNlKQ0KICAgICAgICBlbHNlaWYgKHZhbGlkQ29udGFpbmVyc1sxXSkgdGhlbg0KICAgICAgICAgICAgU2NyaXB0LlJ1bmVDb250YWluZXIgPSB2YWxpZENvbnRhaW5lcnNbMV0NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCgiUnVuZSBCYWNrcGFjaydzIFBvc2l0aW9uOiAjJWQiKTpmb3JtYXQoU2NyaXB0LlJ1bmVDb250YWluZXIgKyAxKSkNCiAgICAgICAgICAgIHRhYmxlLnJlbW92ZSh2YWxpZENvbnRhaW5lcnMsIDEpDQogICAgICAgIC0tIFRoaXMgaXMgYmFkLCB0aGVyZSBhcmUgbm8gY29udGFpbmVycyBmb3IgcnVuZXMsIGZhaWwNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignTWlzc2luZyBydW5lcyBiYWNrcGFjay5cblRoZSBtYWluIGFuZCBsb290IGJhY2twYWNrcyBjYW5ub3QgYmUgdXNlZCB0byBob2xkIHJ1bmVzLicsIHRydWUpDQogICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICAtLSBXZSBuZWVkIGFuIGFtbW8gYmFja3BhY2sNCiAgICBpZiAoI0FNTVVOSVRJT05TID4gMCkgdGhlbg0KICAgICAgICAtLSBOb3QgZW5vdWdoIGl0ZW0gY291bnQsIG9yIGlnbm9yaW5nIGl0ZW1pZC4NCiAgICAgICAgbG9jYWwgdXNlQW1tb01haW5CYWNrcGFjayA9IGZhbHNlDQogICAgICAgIGxvY2FsIGlnbm9yZUFtbW9UYWJsZSA9IHszMjc3LCAzMzQ3LCA3MzY3LCA3Mzc4fQ0KICAgICAgICBmb3IgXywgYW1tbyBpbiBpcGFpcnMoQU1NVU5JVElPTlMpIGRvDQogICAgICAgICAgICBpZiAodGFibGUuY29udGFpbnMoaWdub3JlQW1tb1RhYmxlLCBhbW1vLmlkKSBvciBhbW1vLm1heCA8PSAxMDApIHRoZW4NCiAgICAgICAgICAgICAgICB1c2VBbW1vTWFpbkJhY2twYWNrID0gdHJ1ZQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICBpZiAodXNlQW1tb01haW5CYWNrcGFjaykgdGhlbg0KICAgICAgICAgICAgU2NyaXB0LkFtbW9Db250YWluZXIgPSAwDQogICAgICAgICAgICBjb25zb2xlLmxvZygiQW1tbyBCYWNrcGFjaydzIFBvc2l0aW9uOiAjMSIpDQogICAgICAgIC0tIFN1aXRhYmxlIGNvbnRhaW5lciB0byB1c2UgKG9ubHkgdXNlIHJ1bmUgYnAgYXMgYW1tbyBicCBpZiB0aGVyZSBpcyBubyBvdGhlciBjaG9pY2UpDQogICAgICAgIGVsc2VpZiAodmFsaWRDb250YWluZXJzWzFdKSB0aGVuDQogICAgICAgICAgICBTY3JpcHQuQW1tb0NvbnRhaW5lciA9IHZhbGlkQ29udGFpbmVyc1sxXQ0KICAgICAgICAgICAgY29uc29sZS5sb2coKCJBbW1vIEJhY2twYWNrJ3MgUG9zaXRpb246ICMlZCIpOmZvcm1hdChTY3JpcHQuQW1tb0NvbnRhaW5lciArIDEpKQ0KICAgICAgICAgICAgdGFibGUucmVtb3ZlKHZhbGlkQ29udGFpbmVycywgMSkNCiAgICAgICAgLS0gVGhpcyBpcyBiYWQsIHRoZXJlIGFyZSBubyBjb250YWluZXJzIGZvciBhbW1vLCBmYWlsDQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgYW1tbyBiYWNrcGFjay5cblRoZSBtYWluIGFuZCBsb290IGJhY2twYWNrcyBjYW5ub3QgYmUgdXNlZCB0byBob2xkIGFtbXVuaXRpb24uJywgdHJ1ZSkNCiAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIC0tIFdlIG5lZWQgYW4gc3VwcGx5IGJhY2twYWNrDQogICAgaWYgKCNSSU5HUyA+IDAgb3IgI0FNVUxFVFMgPiAwKSB0aGVuDQogICAgICAgIC0tIFRvdGFsIGl0ZW1jb3VudA0KICAgICAgICBsb2NhbCBzdXBwbHlDb3VudCA9IDANCiAgICAgICAgLS0gQWRkIHJpbmdzIHRvIHN1cHBseSBjb3VudA0KICAgICAgICBmb3IgXywgcmluZyBpbiBpcGFpcnMoUklOR1MpIGRvDQogICAgICAgICAgICBpZiAocmluZy5tYXgpIHRoZW4NCiAgICAgICAgICAgICAgICBzdXBwbHlDb3VudCA9IChzdXBwbHlDb3VudCArIHJpbmcubWF4KQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICAtLSBBZGQgYW1teXMgdG8gc3VwcGx5IGNvdW50DQogICAgICAgIGZvciBfLCBhbW15IGluIGlwYWlycyhBTVVMRVRTKSBkbw0KICAgICAgICAgICAgaWYgKGFtbXkubWF4KSB0aGVuDQogICAgICAgICAgICAgICAgc3VwcGx5Q291bnQgPSAoc3VwcGx5Q291bnQgKyBhbW15Lm1heCkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCg0KICAgICAgICAtLSBOb3QgZW5vdWdoIGl0ZW0gY291bnQgZm9yIGEgbmV3IGJhY2twYWNrICg4LSBzbG90cykNCiAgICAgICAgbG9jYWwgdXNlU3VwcGx5TWFpbkJhY2twYWNrID0gc3VwcGx5Q291bnQgPCA5DQoNCiAgICAgICAgaWYgKHVzZVN1cHBseU1haW5CYWNrcGFjaykgdGhlbg0KICAgICAgICAgICAgU2NyaXB0LlN1cHBseUNvbnRhaW5lciA9IDANCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJTdXBwbHkgQmFja3BhY2sncyBQb3NpdGlvbjogIzEiKQ0KICAgICAgICAtLSBTdWl0YWJsZSBjb250YWluZXIgdG8gdXNlIChvbmx5IHVzZSBydW5lIGJwIGFzIHN1cHBseSBicCBpZiB0aGVyZSBpcyBubyBvdGhlciBjaG9pY2UpDQogICAgICAgIGVsc2VpZiAodmFsaWRDb250YWluZXJzWzFdKSB0aGVuDQogICAgICAgICAgICBTY3JpcHQuU3VwcGx5Q29udGFpbmVyID0gdmFsaWRDb250YWluZXJzWzFdDQogICAgICAgICAgICBjb25zb2xlLmxvZygoIlN1cHBseSBCYWNrcGFjaydzIFBvc2l0aW9uOiAjJWQiKTpmb3JtYXQoU2NyaXB0LlN1cHBseUNvbnRhaW5lciArIDEpKQ0KICAgICAgICAgICAgdGFibGUucmVtb3ZlKHZhbGlkQ29udGFpbmVycywgMSkNCiAgICAgICAgLS0gVGhpcyBpcyBiYWQsIHRoZXJlIGFyZSBubyBjb250YWluZXJzIGZvciBhbW1vLCBmYWlsDQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ01pc3Npbmcgc3VwcGx5IGJhY2twYWNrLlxuVGhlIG1haW4gYmFja3BhY2sgY2Fubm90IGhvbGQgdGhlIGFtb3VudCBvZiByaW5ncy9hbXVsZXRzIGNvbmZpZ3VyZWQuJywgdHJ1ZSkNCiAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIHJldHVybiB0cnVlDQplbmQNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLS0gU2NyaXB0IEZ1bmN0aW9ucw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLSBTaG9wIEludGVyYWN0aW9ucw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpmdW5jdGlvbiBTZWxmLlNob3BCdXlJdGVtc1VwVG8oaXRlbSwgbWF4Q291bnQsIGRlc3RpbmF0aW9uKQ0KICAgIGxvY2FsIGNvdW50ID0gbWF4Q291bnQgLS1bWyAtIFNlbGYuSXRlbUNvdW50KGl0ZW0pIF1dDQogICAgaWYgKGNvdW50ID4gMCkgdGhlbg0KICAgICAgICBsb2NhbCBmdW5jID0gKHR5cGUoaXRlbSkgPT0gInN0cmluZyIpIGFuZCBzaG9wQnV5SXRlbUJ5TmFtZSBvciBzaG9wQnV5SXRlbUJ5SUQNCiAgICAgICAgbG9jYWwgdHJpZXMgPSA3DQogICAgICAgIHJlcGVhdA0KICAgICAgICAgICAgbG9jYWwgYW1udCA9IG1hdGgubWluKGNvdW50LCAxMDApDQogICAgICAgICAgICBpZiAoZnVuYyhpdGVtLCBhbW50KSA9PSAwKSB0aGVuIC0tIGZhaWxlZA0KICAgICAgICAgICAgICAgIGlmICh0cmllcyA8PSAwKSB0aGVuDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGVyciA9ICgnRmFpbGVkIHRvIGJ1eSBzdXBwbGllcy4gKGl0ZW06ICVzIHglZClcblBsYXllciBHb2xkOiAlZFxuUHVyY2hhc2UgUHJpY2U6ICVkJyk6Zm9ybWF0KHRvc3RyaW5nKGl0ZW0pLCBhbW50LCBTZWxmLk1vbmV5KCksIFNlbGYuU2hvcEdldEl0ZW1QdXJjaGFzZVByaWNlKGl0ZW0pICogYW1udCkNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIsIHRydWUpDQogICAgICAgICAgICAgICAgICAgIGlmIChfUGxheWVyLkZhaWxlZFRvQnV5QWxhcm0pIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCkNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgIHNsZWVwKDEwMDApDQogICAgICAgICAgICAgICAgICAgIGFzc2VydChmYWxzZSwgZXJyKQ0KICAgICAgICAgICAgICAgICAgICAtLXJldHVybiAwLCBhbW50IA0KICAgICAgICAgICAgICAgIGVsc2UgDQogICAgICAgICAgICAgICAgICAgIHRyaWVzID0gKHRyaWVzIC0gMSkNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVsc2UgLS0gc3VjY2Vzcw0KICAgICAgICAgICAgICAgIC0tIE1vdmluZyB0byBkZXN0IGFmdGVyIGJ1eQ0KICAgICAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbikgdGhlbg0KICAgICAgICAgICAgICAgICAgICAtLSBSdW5uaW5nIGxvdyBvbiBlbXB0eSBzbG90cyBpbiBtYWluIGJwDQogICAgICAgICAgICAgICAgICAgIGlmIChDb250YWluZXI6RW1wdHlTbG90cygwKSA8IHJhbmRvbSgyLCA0KSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgcmRtX3NsZWVwKFdBSVRfTUlEKQ0KICAgICAgICAgICAgICAgICAgICAgICAgIC0tIEdvIGFoZWFkIGFuZCBtb3ZlIGVhcmx5IGZvciBtb3JlIHJvb20NCiAgICAgICAgICAgICAgICAgICAgICAgIENvbnRhaW5lci5Nb3ZlSXRlbXMoLTEsIGRlc3RpbmF0aW9uLCBpdGVtKQ0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgcmRtX3NsZWVwKFdBSVRfTE9XKQ0KICAgICAgICAgICAgY291bnQgPSAoY291bnQgLSBhbW50KQ0KICAgICAgICB1bnRpbCBjb3VudCA8PSAwDQogICAgICAgIHJldHVybiAxLCAwDQogICAgZW5kDQogICAgcmV0dXJuIDAsIDANCmVuZA0KDQpTZWxmLlNob3BCdXlQb3RzID0gZnVuY3Rpb24obm9EaWFsb2cpDQogICAgaWYgKCNQT1RJT05TID4gMCkgdGhlbg0KICAgICAgICBpZiAobm90IFNjcmlwdC5Qb3Rpb25Db250YWluZXIpIHRoZW4NCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgcG90aW9uIGJhY2twYWNrLlxuQ2Fubm90IGJ1eSBwb3Rpb25zIHdpdGhvdXQgYSBwb3Rpb25zIGJhY2twYWNrLicsIHRydWUpDQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgZW5kDQoNCiAgICAgICAgaWYgKG5vdCBub0RpYWxvZykgdGhlbg0KICAgICAgICAgICAgU2VsZi5TYXlUb05wYyh7J2hpJywgJ3RyYWRlJ30sIDQwKQ0KICAgICAgICBlbmQNCiAgICAgICAgcmRtX3NsZWVwKFdBSVRfTUlEKQ0KICAgICAgICBsb2NhbCBwb3Rpb25MaXN0ID0ge30NCiAgICAgICAgZm9yIF8sIHBvdGlvbiBpbiBpcGFpcnMoUE9USU9OUykgZG8NCiAgICAgICAgICAgIGlmIChwb3Rpb24uaWQgYW5kIHBvdGlvbi5jb3N0IGFuZCBwb3Rpb24ubmVlZGVkKSB0aGVuDQogICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0KHBvdGlvbkxpc3QsIHBvdGlvbi5pZCkNCiAgICAgICAgICAgICAgICBTZWxmLlNob3BCdXlJdGVtc1VwVG8ocG90aW9uLmlkLCBwb3Rpb24ubmVlZGVkLCBTY3JpcHQuUG90aW9uQ29udGFpbmVyKQ0KICAgICAgICAgICAgICAgIHJkbV9zbGVlcCgpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIHJkbV9zbGVlcCgpDQogICAgICAgIENvbnRhaW5lci5Nb3ZlSXRlbXMoLTEsIFNjcmlwdC5Qb3Rpb25Db250YWluZXIsIHVucGFjayhwb3Rpb25MaXN0KSkNCiAgICAgICAgQ29udGFpbmVyLk1vdmVJdGVtcygtMSwgU2NyaXB0LkdvbGRDb250YWluZXIsIDMwMzEpDQogICAgZW5kDQplbmQNCg0KU2VsZi5TaG9wQnV5UnVuZXMgPSBmdW5jdGlvbihub0RpYWxvZywgdG93bkZpbHRlcikNCiAgICBpZiAoI1JVTkVTID4gMCkgdGhlbg0KICAgICAgICBpZiAobm90IFNjcmlwdC5SdW5lQ29udGFpbmVyKSB0aGVuDQogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNaXNzaW5nIHJ1bmUgYmFja3BhY2suXG5DYW5ub3QgYnV5IHJ1bmVzIHdpdGhvdXQgYSBydW5lIGJhY2twYWNrLicsIHRydWUpDQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgZW5kDQogICAgICAgIGlmIChub3Qgbm9EaWFsb2cpIHRoZW4NCiAgICAgICAgICAgIFNlbGYuU2F5VG9OcGMoeydoaScsICd0cmFkZSd9LCA0MCkNCiAgICAgICAgZW5kDQogICAgICAgIHJkbV9zbGVlcChXQUlUX01JRCkNCiAgICAgICAgbG9jYWwgcnVuZUxpc3QgPSB7fQ0KICAgICAgICBmb3IgXywgcnVuZSBpbiBpcGFpcnMoUlVORVMpIGRvDQogICAgICAgICAgICAtLSBpZiBidXlpbmcgYWxsIHJ1bmVzDQogICAgICAgICAgICBpZiAobm90IHRvd25GaWx0ZXIgb3IgdGFibGUuY29udGFpbnModG93bkZpbHRlciwgcnVuZS5pZCkpIHRoZW4NCiAgICAgICAgICAgICAgICBpZiAocnVuZS5pZCBhbmQgcnVuZS5jb3N0IGFuZCBydW5lLm5lZWRlZCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnQocnVuZUxpc3QsIHJ1bmUuaWQpDQogICAgICAgICAgICAgICAgICAgIFNlbGYuU2hvcEJ1eUl0ZW1zVXBUbyhydW5lLmlkLCBydW5lLm5lZWRlZCwgU2NyaXB0LlJ1bmVDb250YWluZXIpDQogICAgICAgICAgICAgICAgICAgIHJkbV9zbGVlcCgpDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIHJkbV9zbGVlcCgpDQogICAgICAgIENvbnRhaW5lci5Nb3ZlSXRlbXMoLTEsIFNjcmlwdC5SdW5lQ29udGFpbmVyLCB1bnBhY2socnVuZUxpc3QpKQ0KICAgICAgICBDb250YWluZXIuTW92ZUl0ZW1zKC0xLCBTY3JpcHQuR29sZENvbnRhaW5lciwgMzAzMSkNCiAgICBlbmQNCmVuZA0KDQpTZWxmLlNob3BCdXlBbW1vID0gZnVuY3Rpb24obm9EaWFsb2csIG5wYykNCiAgICBpZiAobnBjKSB0aGVuDQogICAgICAgIFNlbGYuUmVhY2hOcGMobnBjLCAzKQ0KICAgIGVuZA0KICAgIA0KICAgIGlmICgjQU1NVU5JVElPTlMgPiAwKSB0aGVuDQogICAgICAgIGlmIChub3QgU2NyaXB0LkFtbW9Db250YWluZXIpIHRoZW4NCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgYW1tbyBiYWNrcGFjay5cbkNhbm5vdCBidXkgYW1tbyB3aXRob3V0IGFuIGFtbW8gYmFja3BhY2suJywgdHJ1ZSkNCiAgICAgICAgICAgIHJldHVybg0KICAgICAgICBlbmQNCiAgICAgICAgaWYgKG5vdCBub0RpYWxvZykgdGhlbg0KICAgICAgICAgICAgU2VsZi5TYXlUb05wYyh7J2hpJywgJ3RyYWRlJ30gLCA0MCkNCiAgICAgICAgZW5kDQogICAgICAgIHJkbV9zbGVlcChXQUlUX01JRCkNCiAgICAgICAgbG9jYWwgYW1tb0xpc3QgPSB7fQ0KICAgICAgICBmb3IgXywgYW1tbyBpbiBpcGFpcnMoQU1NVU5JVElPTlMpIGRvDQogICAgICAgICAgICBpZiAoYW1tby5pZCBhbmQgYW1tby5jb3N0IGFuZCBhbW1vLm5lZWRlZCkgdGhlbg0KICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChhbW1vTGlzdCwgYW1tby5pZCkNCiAgICAgICAgICAgICAgICBTZWxmLlNob3BCdXlJdGVtc1VwVG8oYW1tby5pZCwgYW1tby5uZWVkZWQsIFNjcmlwdC5BbW1vQ29udGFpbmVyKQ0KICAgICAgICAgICAgICAgIHJkbV9zbGVlcCgpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIHJkbV9zbGVlcCgpDQogICAgICAgIENvbnRhaW5lci5Nb3ZlSXRlbXMoLTEsIFNjcmlwdC5BbW1vQ29udGFpbmVyLCB1bnBhY2soYW1tb0xpc3QpKQ0KICAgICAgICBDb250YWluZXIuTW92ZUl0ZW1zKC0xLCBTY3JpcHQuR29sZENvbnRhaW5lciwgMzAzMSkNCiAgICBlbmQNCmVuZA0KDQpTZWxmLlNob3BCdXlGb29kID0gZnVuY3Rpb24obm9EaWFsb2csIG5wYykNCiAgICBpZiAobnBjKSB0aGVuDQogICAgICAgIFNlbGYuUmVhY2hOcGMobnBjLCAzKQ0KICAgIGVuZA0KDQogICAgaWYgKCNGT09EUyA+IDApIHRoZW4NCiAgICAgICAgaWYgKG5vdCBub0RpYWxvZykgdGhlbg0KICAgICAgICAgICAgbG9jYWwgZGlhbG9nID0geydoaScsICd0cmFkZSd9IA0KICAgICAgICAgICAgU2VsZi5TYXlUb05wYyhkaWFsb2csIDQwKQ0KICAgICAgICBlbmQNCiAgICAgICAgcmRtX3NsZWVwKFdBSVRfTUlEKQ0KICAgICAgICBmb3IgXywgZm9vZCBpbiBpcGFpcnMoRk9PRFMpIGRvDQogICAgICAgICAgICBpZiAoZm9vZC5pZCBhbmQgZm9vZC5jb3N0IGFuZCBmb29kLm5lZWRlZCkgdGhlbg0KICAgICAgICAgICAgICAgIFNlbGYuU2hvcEJ1eUl0ZW1zVXBUbyhmb29kLmlkLCBmb29kLm5lZWRlZCkNCiAgICAgICAgICAgICAgICByZG1fc2xlZXAoKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICByZG1fc2xlZXAoKQ0KICAgIGVuZA0KZW5kDQoNClNlbGYuU2hvcFNlbGxMb290ID0gZnVuY3Rpb24obnBjLCBub2RpYWxvZykNCiAgICBpZiAobm90IF9TZWxsLkxvb3RFbmFibGVkKSB0aGVuDQogICAgICAgIHJldHVybg0KICAgIGVuZA0KDQogICAgaWYgKG5wYykgdGhlbg0KICAgICAgICBTZWxmLlJlYWNoTnBjKG5wYywgMykNCiAgICBlbmQNCg0KICAgIGlmIChub3Qgbm9kaWFsb2cpIHRoZW4NCiAgICAgICAgbG9jYWwgZGlhbG9nID0geydoaScsICd0cmFkZSd9IA0KICAgICAgICBTZWxmLlNheVRvTnBjKGRpYWxvZywgNDApDQogICAgICAgIHJkbV9zbGVlcChXQUlUX01JRCkNCiAgICBlbmQNCg0KICAgIC0tIFNlbGwgTG9vdCBjaGVjaw0KICAgIGZvciBfLCBpdGVtcyBpbiBwYWlycyhTY3JpcHQuTG9vdENvbnRhaW5lcnMpIGRvDQogICAgICAgIGZvciBfLCBpdGVtaWQgaW4gaXBhaXJzKGl0ZW1zKSBkbw0KICAgICAgICAgICAgaWYgKHRhYmxlLmNvbnRhaW5zKE5QQ19MT09ULCBpdGVtaWQpKSB0aGVuDQogICAgICAgICAgICAgICAgaWYgKFNlbGYuU2hvcEdldEl0ZW1TYWxlQ291bnQoaXRlbWlkKSA+IDApIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgU2VsZi5TaG9wU2VsbEFsbEl0ZW1zKGl0ZW1pZCkNCiAgICAgICAgICAgICAgICAgICAgcmRtX3NsZWVwKCkNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIHJkbV9zbGVlcChXQUlUX0xPV01JRCkNCiAgICAtLSBNb3ZlIGdvbGQgYW5kIHBsYXQgY29pbnMgKGxlYXZlIGNyeXN0YWwgaW4gbWFpbikNCiAgICBDb250YWluZXIuTW92ZUl0ZW1zKC0xLCBTY3JpcHQuR29sZENvbnRhaW5lciwgMzAzMSkNCmVuZA0KDQpTZWxmLlNob3BTZWxsRmxhc2tzID0gZnVuY3Rpb24obm9ncmVldCkNCiAgICBpZiAoU2VsZi5GbGFza3MoKSA+IDApIHRoZW4NCiAgICAgICAgY29uc29sZS5sb2coKCJTZWxsaW5nICVkIGZsYXNrcy4iKTpmb3JtYXQoU2VsZi5GbGFza3MoKSkpDQoNCiAgICAgICAgbG9jYWwgZWRyb25OcGMgPSBDcmVhdHVyZS5pc09uU2NyZWVuKCdTYW5kcmEnLCBmYWxzZSkNCiAgICAgICAgaWYgKG5vdCBub2dyZWV0KSB0aGVuDQogICAgICAgICAgICBTZWxmLlNheVRvTnBjKHsnaGknfSwgMzApDQogICAgICAgIGVuZA0KICAgICAgICBsb2NhbCBkaWFsb2cgPSBlZHJvbk5wYyBhbmQgeydmbGFza3MnLCAnbm8nLCAneWVzJ30gb3IgeydmbGFza3MnLCAneWVzJ30NCiAgICAgICAgU2VsZi5TYXlUb05wYyhkaWFsb2csIDIwKQ0KDQogICAgICAgIHJkbV9zbGVlcChXQUlUX0xPV01JRCkNCiAgICAgICAgbG9jYWwgdHJpZXMgPSAxNQ0KICAgICAgICBpZiAoU2VsZi5GbGFza3MoKSA+IDApIHRoZW4NCiAgICAgICAgICAgIHJlcGVhdA0KICAgICAgICAgICAgICAgIHRyaWVzID0gdHJpZXMgLSAxDQogICAgICAgICAgICAgICAgU2VsZi5TYXlUb05wYyhkaWFsb2csIDIwKQ0KICAgICAgICAgICAgICAgIHJkbV9zbGVlcChXQUlUX0xPV01JRCkNCiAgICAgICAgICAgIHVudGlsIFNlbGYuRmxhc2tzKCkgPD0gMCBvciB0cmllcyA8PSAwDQogICAgICAgIGVuZA0KICAgICAgICByZG1fc2xlZXAoKSANCiAgICAgICAgLS0gTW92ZSBnb2xkIGFuZCBwbGF0IGNvaW5zIChsZWF2ZSBjcnlzdGFsIGluIG1haW4pDQogICAgICAgIENvbnRhaW5lci5Nb3ZlSXRlbXMoLTEsIFNjcmlwdC5Hb2xkQ29udGFpbmVyLCAzMDMxKQ0KICAgIGVuZA0KZW5kDQoNClNlbGYuU29mdEJvb3RzUmVwYWlyID0gZnVuY3Rpb24oKQ0KICAgIFdhbGtlci5TdG9wKCkNCiAgICBsb2NhbCB0cmllcyA9IDEwDQogICAgcmVwZWF0DQogICAgICAgIFNlbGYuU2F5VG9OcGMoeydoaScsICdyZXBhaXInLCAneWVzJ30sIDQwKQ0KICAgICAgICByZG1fc2xlZXAoKQ0KICAgICAgICAtLSBNb3ZlIGdvbGQgYW5kIHBsYXQgY29pbnMgKGxlYXZlIGNyeXN0YWwgaW4gbWFpbikNCiAgICAgICAgQ29udGFpbmVyLk1vdmVJdGVtcygtMSwgU2NyaXB0LkdvbGRDb250YWluZXIsIDMwMzEpDQogICAgICAgIHRyaWVzID0gdHJpZXMgLSAxDQogICAgdW50aWwgU2VsZi5JdGVtQ291bnQoSVRFTUlEX1NPRlRCT09UU19VU0VEKSA8PSAwIG9yIHRyaWVzIDw9IDANCiAgICBXYWxrZXIuU3RhcnQoKQ0KZW5kDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLS0gRW5kIFNob3AgSW50ZXJhY3Rpb25zDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi0tIFNlbGYgRnVuY3Rpb25zDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NClNlbGYuTWFuYVBlcmNlbnQgPSBmdW5jdGlvbigpDQogICAgcmV0dXJuIG1hdGguYWJzKFNlbGYuTWFuYSgpIC8gKFNlbGYuTWF4TWFuYSgpICogMC4wMSkpDQplbmQNCg0KU2VsZi5IZWFsdGhQZXJjZW50ID0gZnVuY3Rpb24oKQ0KICAgIHJldHVybiBtYXRoLmFicyhTZWxmLkhlYWx0aCgpIC8gKFNlbGYuTWF4SGVhbHRoKCkgKiAwLjAxKSkNCmVuZA0KDQpTZWxmLkVxdWlwTGlmZVJpbmcgPSBmdW5jdGlvbihtYW5hVG9FcXVpcCkNCiAgICBpZiAoKFNlbGYuUmluZygpLmlkID09IDApIGFuZCAoU2VsZi5NYW5hUGVyY2VudCgpIDwgbWFuYVRvRXF1aXApIGFuZCAoU2VsZi5JdGVtQ291bnQoSVRFTUlEX0xJRkVfUklORykgPiAwKSkgdGhlbg0KICAgICAgICBTZWxmLkVxdWlwKElURU1JRF9MSUZFX1JJTkcsICdyaW5nJykNCiAgICBlbmQNCmVuZA0KDQpTZWxmLkNoZWNrID0gZnVuY3Rpb24oLi4uKQ0KICAgIGxvY2FsIGNoZWNrQWxsID0gdGFibGUuY29udGFpbnMoYXJnLCBDSEVDS19BTEwpIG9yICgjYXJnID09IDApDQogICAgDQogICAgLS0gR29sZCBjaGVjaw0KICAgIGlmICh0YWJsZS5jb250YWlucyhhcmcsIENIRUNLX0dPTEQpIGFuZCAoU2VsZi5Nb25leSgpIDwgU2VsZi5HZXROZWVkZWRHb2xkQ291bnQoKSBvciBTZWxmLkl0ZW1Db3VudCgzMDMxKSA+IDEwMCkpIHRoZW4NCiAgICAgICAgbG9jYWwgY3VyTW9uZXkgPSBTZWxmLk1vbmV5KCkNCiAgICAgICAgbG9jYWwgdGFyZ2V0TW9uZXkgPSBTZWxmLkdldE5lZWRlZEdvbGRDb3VudCgpDQogICAgICAgIGxvY2FsIGRpYWxvZyA9IGN1ck1vbmV5IDwgdGFyZ2V0TW9uZXkgYW5kICdOb3QgZW5vdWdoIG1vbmV5IGRldGVjdGVkLicgb3IgJ0V4dHJhIG1vbmV5IGRldGVjdGVkLicNCiAgICAgICAgY29uc29sZS5sb2coKGRpYWxvZyAuLiAnICglZC8lZCknKTpmb3JtYXQoY3VyTW9uZXksIHRhcmdldE1vbmV5KSkNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICBlbmQNCg0KICAgIC0tIENhcCBjaGVjaw0KICAgIGlmICgoY2hlY2tBbGwgb3IgdGFibGUuY29udGFpbnMoYXJnLCBDSEVDS19DQVApKSBhbmQgX0NhcC5IdW50TWluaW11bSBhbmQgX0NhcC5IdW50TWluaW11bSA+IDApIHRoZW4NCiAgICAgICAgaWYgKFNlbGYuQ2FwKCkgPCBfQ2FwLkh1bnRNaW5pbXVtKSB0aGVuDQogICAgICAgICAgICBjb25zb2xlLmxvZygnTG93IGNhcGFjaXR5IGRldGVjdGVkLicpDQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIC0tIFNvZnRib290IGNoZWNrDQogICAgaWYgKHRhYmxlLmNvbnRhaW5zKGFyZywgQ0hFQ0tfU09GVEJPT1RTKSBhbmQgX1NvZnRCb290cy5FbmFibGVkIGFuZCBfU29mdEJvb3RzLk1hbmFQZXJjZW50KSB0aGVuDQogICAgICAgIGlmIChTZWxmLkl0ZW1Db3VudChJVEVNSURfU09GVEJPT1RTX1VTRUQpID49IDEpIHRoZW4NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTb2Z0IGJvb3RzIG5lZWQgdG8gYmUgcmVmaWxsZWQuJykNCiAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgLS0gU3RhbWluYSBjaGVjaw0KICAgIGlmICgoY2hlY2tBbGwgb3IgdGFibGUuY29udGFpbnMoYXJnLCBDSEVDS19TVEFNSU5BKSkgYW5kIF9TdGFtaW5hLkxvZ291dCBhbmQgKChfU3RhbWluYS5Ib3VycyBhbmQgX1N0YW1pbmEuSG91cnMgPiAwKSBvciAoX1N0YW1pbmEuVGltZUxpbWl0IGFuZCBfU3RhbWluYS5UaW1lTGltaXQgPiAwKSBvciAoX1N0YW1pbmEuU2VydmVyU2F2ZSBhbmQgU3RhbWluYS5TZXJ2ZXJTYXZlID4gMCkpKSB0aGVuDQogICAgICAgIGlmIChfU3RhbWluYS5UaW1lTGltaXQgYW5kIF9TdGFtaW5hLlRpbWVMaW1pdCA+IDAgYW5kICgob3MuZGlmZnRpbWUob3MudGltZSgpLCBTY3JpcHQuU3RhcnQpIC8gMzYwMCkgPj0gX1N0YW1pbmEuVGltZUxpbWl0KSkgdGhlbg0KICAgICAgICAgICAgY29uc29sZS5sb2coJ1RpbWUgbGltaXQgcmVhY2hlZC4nKQ0KICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgZWxzZWlmIChfU3RhbWluYS5TZXJ2ZXJTYXZlIGFuZCBfU3RhbWluYS5TZXJ2ZXJTYXZlID4gMCBhbmQgKGdldFRpbWVVbnRpbFNlcnZlclNhdmUoKSA8IF9TdGFtaW5hLlNlcnZlclNhdmUpKSB0aGVuDQogICAgICAgICAgICBjb25zb2xlLmxvZygnU2VydmVyIHNhdmUgbGltaXQgcmVhY2hlZC4nKQ0KICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgZWxzZWlmIChfU3RhbWluYS5Ib3VycyBhbmQgKChTZWxmLlN0YW1pbmEoKSAvIDYwKSA8IF9TdGFtaW5hLkhvdXJzKSkgdGhlbg0KICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvdyBzdGFtaW5hIGRldGVjdGVkLicpDQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIC0tIFNvdWwgY2hlY2sNCiAgICBpZiAodGFibGUuY29udGFpbnMoYXJnLCBDSEVDS19TT1VMKSBhbmQgX0NhcC5Tb3VsTWluaW11bSBhbmQgX0NhcC5Tb3VsTWluaW11bSA+IDApIHRoZW4NCiAgICAgICAgaWYgKFNlbGYuU291bCgpIDwgX0NhcC5Tb3VsTWluaW11bSkgdGhlbg0KICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvdyBzb3VsIGRldGVjdGVkLicpDQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIC0tIFN1cHBseSBDYXAgY2hlY2sgKGRldGVybWluZSBpZiB0aGV5IGhhdmUgZW5vdWdoIGZvciB0aGVpciBmdXR1cmUgc3VwcGxpZXMpDQogICAgaWYgKHRhYmxlLmNvbnRhaW5zKGFyZywgQ0hFQ0tfU1VQUExZQ0FQKSBhbmQgX0NhcC5IdW50TWluaW11bSBhbmQgX0NhcC5IdW50TWluaW11bSA+IDApIHRoZW4NCiAgICAgICAgbG9jYWwgZnJlZUNhcCA9IFNlbGYuQ2FwKCkNCiAgICAgICAgLS0gQ291bnQgZnV0dXJlIHBvdGlvbnMNCiAgICAgICAgaWYgKCNQT1RJT05TID4gMCkgdGhlbg0KICAgICAgICAgICAgZm9yIF8sIHBvdGlvbiBpbiBpcGFpcnMoUE9USU9OUykgZG8NCiAgICAgICAgICAgICAgICBpZiAocG90aW9uLmlkIGFuZCBwb3Rpb24uY29zdCBhbmQgcG90aW9uLm1heCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBpZiAocG90aW9uLm1heCA8IHBvdGlvbi5taW4gb3IgcG90aW9uLm1pbiA+IHBvdGlvbi5tYXgpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoKCdNaXNjb25maWd1cmVkIG1pbi9tYXggdmFsdWVzIGZvciBjb25maWc6ICVzJyk6Zm9ybWF0KHBvdGlvbi5uYW1lKSkNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGJ1eUNvdW50ID0gcG90aW9uLm1heCAtIFNlbGYuSXRlbUNvdW50KHBvdGlvbi5pZCkNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgaXRlbVdlaWdodCA9IGJ1eUNvdW50ICogKElURU1fV0VJR0hUU1tJdGVtLkdldEl0ZW1JREZyb21EdWFsSW5wdXQocG90aW9uLmlkKV0gb3IgMCkNCiAgICAgICAgICAgICAgICAgICAgZnJlZUNhcCA9IGZyZWVDYXAgLSBpdGVtV2VpZ2h0DQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIC0tIENvdW50IGZ1dHVyZSBydW5lcw0KICAgICAgICBpZiAoI1JVTkVTID4gMCkgdGhlbg0KICAgICAgICAgICAgZm9yIF8sIHJ1bmUgaW4gaXBhaXJzKFJVTkVTKSBkbw0KICAgICAgICAgICAgICAgIGlmIChydW5lLmlkIGFuZCBydW5lLmNvc3QgYW5kIHJ1bmUubWF4KSB0aGVuDQogICAgICAgICAgICAgICAgICAgIGlmIChydW5lLm1heCA8IHJ1bmUubWluIG9yIHJ1bmUubWluID4gcnVuZS5tYXgpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoKCdNaXNjb25maWd1cmVkIG1pbi9tYXggdmFsdWVzIGZvciBjb25maWc6ICVzJyk6Zm9ybWF0KHJ1bmUubmFtZSkpDQogICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBidXlDb3VudCA9IHJ1bmUubWF4IC0gU2VsZi5JdGVtQ291bnQocnVuZS5pZCkNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgaXRlbVdlaWdodCA9IGJ1eUNvdW50ICogKElURU1fV0VJR0hUU1tJdGVtLkdldEl0ZW1JREZyb21EdWFsSW5wdXQocnVuZS5pZCldIG9yIDApDQogICAgICAgICAgICAgICAgICAgIGZyZWVDYXAgPSBmcmVlQ2FwIC0gaXRlbVdlaWdodA0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICAtLSBDb3VudCBmdXR1cmUgYW1tdW5pdGlvbnMNCiAgICAgICAgaWYgKCNBTU1VTklUSU9OUyA+IDApIHRoZW4NCiAgICAgICAgICAgIGZvciBfLCBhbW1vIGluIGlwYWlycyhBTU1VTklUSU9OUykgZG8NCiAgICAgICAgICAgICAgICBpZiAoYW1tby5pZCBhbmQgYW1tby5jb3N0IGFuZCBhbW1vLm1heCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBpZiAoYW1tby5tYXggPCBhbW1vLm1pbiBvciBhbW1vLm1pbiA+IGFtbW8ubWF4KSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCgnTWlzY29uZmlndXJlZCBtaW4vbWF4IHZhbHVlcyBmb3IgY29uZmlnOiAlcycpOmZvcm1hdChhbW1vLm5hbWUpKQ0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgYnV5Q291bnQgPSBhbW1vLm1heCAtIFNlbGYuSXRlbUNvdW50KGFtbW8uaWQpDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGl0ZW1XZWlnaHQgPSBidXlDb3VudCAqIChJVEVNX1dFSUdIVFNbSXRlbS5HZXRJdGVtSURGcm9tRHVhbElucHV0KGFtbW8uaWQpXSBvciAwKQ0KICAgICAgICAgICAgICAgICAgICBmcmVlQ2FwID0gZnJlZUNhcCAtIGl0ZW1XZWlnaHQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgLS0gQ291bnQgZnV0dXJlIHJpbmdzDQogICAgICAgIGlmICgjUklOR1MgPiAwKSB0aGVuDQogICAgICAgICAgICBmb3IgXywgcmluZyBpbiBpcGFpcnMoUklOR1MpIGRvDQogICAgICAgICAgICAgICAgaWYgKHJpbmcuaWQgYW5kIHJpbmcuY29zdCBhbmQgcmluZy5tYXgpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgaWYgKHJpbmcubWF4IDwgcmluZy5taW4gb3IgcmluZy5taW4gPiByaW5nLm1heCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigoJ01pc2NvbmZpZ3VyZWQgbWluL21heCB2YWx1ZXMgZm9yIGNvbmZpZzogJXMnKTpmb3JtYXQocmluZy5uYW1lKSkNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGJ1eUNvdW50ID0gcmluZy5tYXggLSBTZWxmLkl0ZW1Db3VudChyaW5nLmlkKQ0KICAgICAgICAgICAgICAgICAgICBsb2NhbCBpdGVtV2VpZ2h0ID0gYnV5Q291bnQgKiAoSVRFTV9XRUlHSFRTW0l0ZW0uR2V0SXRlbUlERnJvbUR1YWxJbnB1dChyaW5nLmlkKV0gb3IgMCkNCiAgICAgICAgICAgICAgICAgICAgZnJlZUNhcCA9IGZyZWVDYXAgLSBpdGVtV2VpZ2h0DQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIC0tIENvdW50IGZ1dHVyZSBhbW15cw0KICAgICAgICBpZiAoI0FNVUxFVFMgPiAwKSB0aGVuDQogICAgICAgICAgICBmb3IgXywgYW1teSBpbiBpcGFpcnMoQU1VTEVUUykgZG8NCiAgICAgICAgICAgICAgICBpZiAoYW1teS5pZCBhbmQgYW1teS5jb3N0IGFuZCBhbW15Lm1heCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBpZiAoYW1teS5tYXggPCBhbW15Lm1pbiBvciBhbW15Lm1pbiA+IGFtbXkubWF4KSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCgnTWlzY29uZmlndXJlZCBtaW4vbWF4IHZhbHVlcyBmb3IgY29uZmlnOiAlcycpOmZvcm1hdChhbW15Lm5hbWUpKQ0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgYnV5Q291bnQgPSBhbW15Lm1heCAtIFNlbGYuSXRlbUNvdW50KGFtbXkuaWQpDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGl0ZW1XZWlnaHQgPSBidXlDb3VudCAqIChJVEVNX1dFSUdIVFNbSXRlbS5HZXRJdGVtSURGcm9tRHVhbElucHV0KGFtbXkuaWQpXSBvciAwKQ0KICAgICAgICAgICAgICAgICAgICBmcmVlQ2FwID0gZnJlZUNhcCAtIGl0ZW1XZWlnaHQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgLS0gQ291bnQgZnV0dXJlIHN1cHBsaWVzDQogICAgICAgIGlmICgjU1VQUExJRVMgPiAwKSB0aGVuDQogICAgICAgICAgICBmb3IgXywgc3VwcGx5IGluIGlwYWlycyhTVVBQTElFUykgZG8NCiAgICAgICAgICAgICAgICBpZiAoc3VwcGx5LmlkIGFuZCBzdXBwbHkuY29zdCBhbmQgc3VwcGx5Lm1heCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBpZiAoc3VwcGx5Lm1heCA8IHN1cHBseS5taW4gb3Igc3VwcGx5Lm1pbiA+IHN1cHBseS5tYXgpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoKCdNaXNjb25maWd1cmVkIG1pbi9tYXggdmFsdWVzIGZvciBjb25maWc6ICVzJyk6Zm9ybWF0KHN1cHBseS5uYW1lKSkNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGJ1eUNvdW50ID0gc3VwcGx5Lm1heCAtIFNlbGYuSXRlbUNvdW50KHN1cHBseS5pZCkNCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgaXRlbVdlaWdodCA9IGJ1eUNvdW50ICogKElURU1fV0VJR0hUU1tJdGVtLkdldEl0ZW1JREZyb21EdWFsSW5wdXQoc3VwcGx5LmlkKV0gb3IgMCkNCiAgICAgICAgICAgICAgICAgICAgZnJlZUNhcCA9IGZyZWVDYXAgLSBpdGVtV2VpZ2h0DQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQoNCiAgICAgICAgLS0gQWRkIHdlaWdodCBvZiBlbXB0eSBmbGFza3MgdG8gZnJlZUNhcA0KICAgICAgICBsb2NhbCBzbWFsbEZsYXNrcyA9IElURU1fV0VJR0hUU1syODVdICogU2VsZi5JdGVtQ291bnQoMjg1KQ0KICAgICAgICBsb2NhbCBtZWRpdW1GbGFza3MgPSBJVEVNX1dFSUdIVFNbMjgzXSAqIFNlbGYuSXRlbUNvdW50KDI4MykNCiAgICAgICAgbG9jYWwgbGFyZ2VGbGFza3MgPSBJVEVNX1dFSUdIVFNbMjg0XSAqIFNlbGYuSXRlbUNvdW50KDI4NCkNCiAgICAgICAgZnJlZUNhcCA9IGZyZWVDYXAgKyAoc21hbGxGbGFza3MgKyBtZWRpdW1GbGFza3MgKyBsYXJnZUZsYXNrcykNCiAgICAgICAgLS0gQWN0dWFsIGNvbXBhcmlzb24NCiAgICAgICAgaWYgKGZyZWVDYXAgPCBfQ2FwLkh1bnRNaW5pbXVtKSB0aGVuDQogICAgICAgICAgICBjb25zb2xlLmxvZygnTG93IHN1cHBseSBjYXBhY2l0eSBkZXRlY3RlZC4nKQ0KICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICAtLSBQb3Rpb25zIGNoZWNrDQogICAgaWYgKChjaGVja0FsbCBvciB0YWJsZS5jb250YWlucyhhcmcsIENIRUNLX1BPVElPTlMpIG9yIHRhYmxlLmNvbnRhaW5zKGFyZywgQ0hFQ0tfTUFYX1BPVElPTlMpKSBhbmQgI1BPVElPTlMgPiAwKSB0aGVuDQogICAgICAgIGZvciBfLCBwb3Rpb24gaW4gaXBhaXJzKFBPVElPTlMpIGRvDQogICAgICAgICAgICBsb2NhbCBwb3Rpb25Db3VudCA9IFNlbGYuSXRlbUNvdW50KHBvdGlvbi5pZCkNCiAgICAgICAgICAgIGlmICgodGFibGUuY29udGFpbnMoYXJnLCBDSEVDS19NQVhfUE9USU9OUykgYW5kIHBvdGlvbkNvdW50IDwgcG90aW9uLm5lZWRlZCkgb3IgcG90aW9uQ291bnQgPCBwb3Rpb24ubWluKSB0aGVuDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvdyBwb3Rpb24gY291bnQgZGV0ZWN0ZWQuJykNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgLS0gUnVuZXMgY2hlY2sNCiAgICBpZiAoKGNoZWNrQWxsIG9yIHRhYmxlLmNvbnRhaW5zKGFyZywgQ0hFQ0tfUlVORVMpIG9yIHRhYmxlLmNvbnRhaW5zKGFyZywgQ0hFQ0tfTUFYX1JVTkVTKSkgYW5kICNSVU5FUyA+IDApIHRoZW4NCiAgICAgICAgZm9yIF8sIHJ1bmUgaW4gaXBhaXJzKFJVTkVTKSBkbw0KICAgICAgICAgICAgbG9jYWwgcnVuZUNvdW50ID0gU2VsZi5JdGVtQ291bnQocnVuZS5pZCkNCiAgICAgICAgICAgIGlmICgodGFibGUuY29udGFpbnMoYXJnLCBDSEVDS19NQVhfUlVORVMpIGFuZCBydW5lQ291bnQgPCBydW5lLm5lZWRlZCkgb3IgcnVuZUNvdW50IDwgcnVuZS5taW4pIHRoZW4NCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTG93IHJ1bmUgY291bnQgZGV0ZWN0ZWQuJykNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgLS0gRWRyb24gUnVuZXMgY2hlY2sNCiAgICBpZiAodGFibGUuY29udGFpbnMoYXJnLCBDSEVDS19NQVhfUlVORVNfRURST04pIGFuZCAjUlVORVMgPiAwKSB0aGVuDQogICAgICAgIGZvciBfLCBydW5lIGluIGlwYWlycyhSVU5FUykgZG8NCiAgICAgICAgICAgIGlmICh0YWJsZS5jb250YWlucyhSVU5FU19FRFJPTiwgcnVuZS5pZCkpIHRoZW4NCiAgICAgICAgICAgICAgICBsb2NhbCBydW5lQ291bnQgPSBTZWxmLkl0ZW1Db3VudChydW5lLmlkKQ0KICAgICAgICAgICAgICAgIGlmIChydW5lQ291bnQgPCBydW5lLm5lZWRlZCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTG93IGVkcm9uIHJ1bmUgY291bnQgZGV0ZWN0ZWQuJykNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIC0tIFZlbm9yZSBSdW5lcyBjaGVjaw0KICAgIGlmICh0YWJsZS5jb250YWlucyhhcmcsIENIRUNLX01BWF9SVU5FU19WRU5PUkUpIGFuZCAjUlVORVMgPiAwKSB0aGVuDQogICAgICAgIGZvciBfLCBydW5lIGluIGlwYWlycyhSVU5FUykgZG8NCiAgICAgICAgICAgIGlmICh0YWJsZS5jb250YWlucyhSVU5FU19WRU5PUkUsIHJ1bmUuaWQpKSB0aGVuDQogICAgICAgICAgICAgICAgbG9jYWwgcnVuZUNvdW50ID0gU2VsZi5JdGVtQ291bnQocnVuZS5pZCkNCiAgICAgICAgICAgICAgICBpZiAocnVuZUNvdW50IDwgcnVuZS5uZWVkZWQpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvdyBmcmVlIHJ1bmUgY291bnQgZGV0ZWN0ZWQuJykNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIC0tIEFtbW8gY2hlY2sNCiAgICBpZiAoKGNoZWNrQWxsIG9yIHRhYmxlLmNvbnRhaW5zKGFyZywgQ0hFQ0tfQU1NTykgb3IgdGFibGUuY29udGFpbnMoYXJnLCBDSEVDS19NQVhfQU1NTykpIGFuZCAjQU1NVU5JVElPTlMgPiAwKSB0aGVuDQogICAgICAgIGZvciBfLCBhbW1vIGluIGlwYWlycyhBTU1VTklUSU9OUykgZG8NCiAgICAgICAgICAgIGxvY2FsIGFtbW9Db3VudCA9IFNlbGYuSXRlbUNvdW50KGFtbW8uaWQpDQogICAgICAgICAgICBpZiAoKHRhYmxlLmNvbnRhaW5zKGFyZywgQ0hFQ0tfTUFYX0FNTU8pIGFuZCBhbW1vQ291bnQgPCBhbW1vLm5lZWRlZCkgb3IgYW1tb0NvdW50IDwgYW1tby5taW4pIHRoZW4NCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTG93IGFtbW8gY291bnQgZGV0ZWN0ZWQuJykNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgLS0gUmluZyBjaGVjaw0KICAgIGlmICgoY2hlY2tBbGwgb3IgdGFibGUuY29udGFpbnMoYXJnLCBDSEVDS19SSU5HKSBvciB0YWJsZS5jb250YWlucyhhcmcsIENIRUNLX01BWF9SSU5HKSkgYW5kICNSSU5HUyA+IDApIHRoZW4NCiAgICAgICAgZm9yIF8sIHJpbmcgaW4gaXBhaXJzKFJJTkdTKSBkbw0KICAgICAgICAgICAgbG9jYWwgcmluZ0NvdW50ID0gU2VsZi5JdGVtQ291bnQocmluZy5pZCkNCiAgICAgICAgICAgIGlmICgodGFibGUuY29udGFpbnMoYXJnLCBDSEVDS19NQVhfUklORykgYW5kIHJpbmdDb3VudCA8IHJpbmcubWF4KSBvciByaW5nQ291bnQgPCByaW5nLm1pbikgdGhlbg0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMb3cgcmluZyBjb3VudCBkZXRlY3RlZC4nKQ0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICAtLSBBbXVsZXQgY2hlY2sNCiAgICBpZiAoKGNoZWNrQWxsIG9yIHRhYmxlLmNvbnRhaW5zKGFyZywgQ0hFQ0tfQU1VTEVUKSBvciB0YWJsZS5jb250YWlucyhhcmcsIENIRUNLX01BWF9BTVVMRVQpKSBhbmQgI0FNVUxFVFMgPiAwKSB0aGVuDQogICAgICAgIGZvciBfLCBhbXVsZXQgaW4gaXBhaXJzKEFNVUxFVFMpIGRvDQogICAgICAgICAgICBsb2NhbCBhbXVsZXRDb3VudCA9IFNlbGYuSXRlbUNvdW50KGFtdWxldC5pZCkNCiAgICAgICAgICAgIGlmICgodGFibGUuY29udGFpbnMoYXJnLCBDSEVDS19NQVhfQU1VTEVUKSBhbmQgYW11bGV0Q291bnQgPCBhbXVsZXQubWF4KSBvciBhbXVsZXRDb3VudCA8IGFtdWxldC5taW4pIHRoZW4NCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTG93IGFtdWxldCBjb3VudCBkZXRlY3RlZC4nKQ0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICAtLSBGb29kIGNoZWNrDQogICAgaWYgKF9Gb29kLkVuYWJsZWQgYW5kIF9Gb29kLk1heCA+IDApIHRoZW4NCiAgICAgICAgaWYgKCh0YWJsZS5jb250YWlucyhhcmcsIENIRUNLX0ZPT0QpIG9yIHRhYmxlLmNvbnRhaW5zKGFyZywgQ0hFQ0tfTUFYX0ZPT0QpKSBhbmQgI0ZPT0RTID4gMCkgdGhlbg0KICAgICAgICAgICAgZm9yIF8sIGZvb2QgaW4gaXBhaXJzKEZPT0RTKSBkbw0KICAgICAgICAgICAgICAgIGxvY2FsIGZvb2RDb3VudCA9IFNlbGYuSXRlbUNvdW50KGZvb2QuaWQpDQogICAgICAgICAgICAgICAgbG9jYWwgbWF4VGhyZXNob2xkID0gbWF0aC5mbG9vcigoZm9vZC5tYXggKyBmb29kLm1pbikgLyAyKQ0KICAgICAgICAgICAgICAgIGlmICgodGFibGUuY29udGFpbnMoYXJnLCBDSEVDS19NQVhfRk9PRCkgYW5kIGZvb2RDb3VudCA8IG1heFRocmVzaG9sZCkgb3IgZm9vZENvdW50IDwgZm9vZC5taW4pIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvdyBmb29kIGNvdW50IGRldGVjdGVkLicpDQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICAtLSBTdXBwbHkgY2hlY2sNCiAgICBpZiAoKGNoZWNrQWxsIG9yIHRhYmxlLmNvbnRhaW5zKGFyZywgQ0hFQ0tfU1VQUExJRVMpIG9yIHRhYmxlLmNvbnRhaW5zKGFyZywgQ0hFQ0tfTUFYX1NVUFBMSUVTKSkgYW5kICNTVVBQTElFUyA+IDApIHRoZW4NCiAgICAgICAgZm9yIF8sIHN1cHBseSBpbiBpcGFpcnMoU1VQUExJRVMpIGRvDQogICAgICAgICAgICBsb2NhbCBzdXBwbHlDb3VudCA9IFNlbGYuSXRlbUNvdW50KHN1cHBseS5pZCkNCiAgICAgICAgICAgIGxvY2FsIG1heENvdW50ID0gdGFibGUuY29udGFpbnMoYXJnLCBDSEVDS19NQVhfU1VQUExJRVMpDQogICAgICAgICAgICBpZiAoKG1heENvdW50IGFuZCBzdXBwbHlDb3VudCA8IHN1cHBseS5tYXgpIG9yIHN1cHBseUNvdW50IDwgc3VwcGx5Lm1pbikgdGhlbg0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMb3cgc3VwcGx5IGNvdW50IGRldGVjdGVkLiBbaXRlbTogJy4uIHN1cHBseS5pZCAuLicsICcuLiBzdXBwbHlDb3VudCAuLiAnPCcgLi4gKG1heENvdW50IGFuZCBzdXBwbHkubWF4IG9yIHN1cHBseS5taW4pIC4uJ10nKQ0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICAtLSBXaXRoZHJhdyBDaGVjaw0KICAgIGlmICh0YWJsZS5jb250YWlucyhhcmcsIENIRUNLX1dJVEhEUkFXKSBhbmQgY291bnRQYWlycyhTY3JpcHQuV2l0aGRyYXdJdGVtcykgPiAwKSB0aGVuDQogICAgICAgIGNvbnNvbGUubG9nKCdEZXRlY3RlZCBpdGVtcyB0byB3aXRoZHJhdy4nKQ0KICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgIGVuZA0KDQogICAgLS0gU2VsbCBMb290IGNoZWNrDQogICAgaWYgKHRhYmxlLmNvbnRhaW5zKGFyZywgQ0hFQ0tfU0VMTF9MT09UKSBhbmQgX1NlbGwuTG9vdEVuYWJsZWQpIHRoZW4NCiAgICAgICAgZm9yIGJwLCBpdGVtcyBpbiBwYWlycyhTY3JpcHQuTG9vdENvbnRhaW5lcnMpIGRvDQogICAgICAgICAgICBmb3IgXywgaXRlbWlkIGluIGlwYWlycyhpdGVtcykgZG8NCiAgICAgICAgICAgICAgICBpZiAodGFibGUuY29udGFpbnMoTlBDX0xPT1QsIGl0ZW1pZCkpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgaWYgKFNlbGYuSXRlbUNvdW50KGl0ZW1pZCwgYnAsIGZhbHNlKSA+IDApIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEZXRlY3RlZCBpdGVtcyBhdmFpbGFibGUgdG8gc2VsbC4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICAtLSBUcmF2ZWwgQ29zdCBjaGVjaw0KICAgIGlmICh0YWJsZS5jb250YWlucyhhcmcsIENIRUNLX1RSQVZFTExJTkcpKSB0aGVuDQogICAgICAgIGxvY2FsIHRvd24gPSBTY3JpcHQuVG93bg0KICAgICAgICBsb2NhbCBhcHBseVRyYXZlbENvc3RzID0gZmFsc2UNCiAgICAgICAgaWYgKCNSVU5FUyA+IDApIHRoZW4NCiAgICAgICAgICAgIGxvY2FsIGFwcGx5VHJhdmVsQ29zdHMgPSBmYWxzZQ0KICAgICAgICAgICAgZm9yIF8sIHJ1bmUgaW4gaXBhaXJzKFJVTkVTKSBkbw0KICAgICAgICAgICAgICAgIGlmIChydW5lLmlkIGFuZCBydW5lLmNvc3QgYW5kIHJ1bmUubWF4KSB0aGVuDQogICAgICAgICAgICAgICAgICAgIC0tIHBsYWNlaG9sZGVyDQogICAgICAgICAgICAgICAgICAgIGlmICh0YWJsZS5jb250YWlucyhSVU5FU19FRFJPTiwgcnVuZS5pZCkpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3duIH49ICdlZHJvbicgYW5kIHRvd24gfj0gJ2dyYXkgaXNsYW5kJykgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5VHJhdmVsQ29zdHMgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvd24gPT0gJ2Vkcm9uJykgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5VHJhdmVsQ29zdHMgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQoNCiAgICAgICAgaWYgKF9Tb2Z0Qm9vdHMuRW5hYmxlZCBhbmQgX1NvZnRCb290cy5NYW5hUGVyY2VudCBhbmQgdG93biB+PSAndmVub3JlJykgdGhlbg0KICAgICAgICAgICAgYXBwbHlUcmF2ZWxDb3N0cyA9IHRydWUNCiAgICAgICAgZW5kDQoNCiAgICAgICAgaWYgKG5vdCBhcHBseVRyYXZlbENvc3RzKSB0aGVuDQogICAgICAgICAgICBmb3IgXywgbGFiZWwgaW4gaXBhaXJzKFRSQVZFTF9MQUJFTFMpIGRvDQogICAgICAgICAgICAgICAgaWYgKFdhbGtlci5MYWJlbEV4aXN0cyhsYWJlbCkpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgYXBwbHlUcmF2ZWxDb3N0cyA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgaWYgKGFwcGx5VHJhdmVsQ29zdHMgYW5kIFNlbGYuTW9uZXkoKSA8IFRSQVZFTF9DT1NUKSB0aGVuDQogICAgICAgICAgICBjb25zb2xlLmxvZygnTmVlZHMgdHJhdmVsIG1vbmV5LicpDQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIC0tIERlcG9zaXQgQ2hlY2sNCiAgICBpZiAodGFibGUuY29udGFpbnMoYXJnLCBDSEVDS19ERVBPU0lUKSkgdGhlbg0KICAgICAgICBmb3IgYnAsIGl0ZW1zIGluIHBhaXJzKFNjcmlwdC5Mb290Q29udGFpbmVycykgZG8NCiAgICAgICAgICAgIC0tIENoZWNrIGlmIHdlIGhhdmUgYW55IHVzZWQgc2xvdHMNCiAgICAgICAgICAgIGxvY2FsIGNvbnQgPSBDb250YWluZXIuTmV3KGJwKQ0KICAgICAgICAgICAgbG9jYWwgY2FwYWNpdHkgPSBjb250Okl0ZW1DYXBhY2l0eSgpDQogICAgICAgICAgICAtLSBTdWJ0cmFjdCBjYXNjYWRlIGJwIChpZiBpdCBoYXMgb25lKQ0KICAgICAgICAgICAgaWYgKGNvbnQ6SGFzQ2FzY2FkZUJhY2twYWNrKCkpIHRoZW4NCiAgICAgICAgICAgICAgICBjYXBhY2l0eSA9IGNhcGFjaXR5IC0gMQ0KICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAtLSBJZiB3ZSBoYXZlIGFueSBpdGVtcyBpbiB0aGUgYmFja3BhY2sgKG5vdCBpbmNsdWRpbmcgY2FzY2FkZSBicCkNCiAgICAgICAgICAgIGlmIChjb250OkVtcHR5U2xvdHMoKSA8IGNhcGFjaXR5KSB0aGVuDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RldGVjdGVkIGl0ZW1zIGF2YWlsYWJsZSB0byBkZXBvc2l0LicpDQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICANCiAgICAtLWNvbnNvbGUubG9nKCdQYXNzZWQgc3RhdHVzIGNoZWNrLicpDQogICAgcmV0dXJuIGZhbHNlDQplbmQNCg0KU2VsZi5HZXROZWVkZWRHb2xkQ291bnQgPSBmdW5jdGlvbigpDQogICAgbG9jYWwgdG90YWxDb3N0ID0gMA0KICAgIGxvY2FsIHRvd24gPSBTY3JpcHQuVG93bg0KICAgIGxvY2FsIHRyYXZlbENvc3QgPSBUUkFWRUxfQ09TVA0KICAgIGxvY2FsIGFwcGx5VHJhdmVsQ29zdHMgPSBmYWxzZQ0KDQogICAgaWYgKCNQT1RJT05TID4gMCkgdGhlbg0KICAgICAgICBmb3IgXywgcG90aW9uIGluIGlwYWlycyhQT1RJT05TKSBkbw0KICAgICAgICAgICAgaWYgKHBvdGlvbi5pZCBhbmQgcG90aW9uLmNvc3QgYW5kIHBvdGlvbi5tYXgpIHRoZW4NCiAgICAgICAgICAgICAgICBsb2NhbCBtaXNzaW5nUG90cyA9IG1hdGgubWF4KDAsIHBvdGlvbi5tYXggLSBTZWxmLkl0ZW1Db3VudChwb3Rpb24uaWQpKQ0KICAgICAgICAgICAgICAgIHBvdGlvbi5uZWVkZWQgPSBtaXNzaW5nUG90czsNCiAgICAgICAgICAgICAgICB0b3RhbENvc3QgPSB0b3RhbENvc3QgKyAobWlzc2luZ1BvdHMgKiBwb3Rpb24uY29zdCkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIGlmICgjUlVORVMgPiAwKSB0aGVuDQogICAgICAgIGxvY2FsIGFwcGx5VHJhdmVsQ29zdHMgPSBmYWxzZQ0KICAgICAgICBmb3IgXywgcnVuZSBpbiBpcGFpcnMoUlVORVMpIGRvDQogICAgICAgICAgICBpZiAocnVuZS5pZCBhbmQgcnVuZS5jb3N0IGFuZCBydW5lLm1heCkgdGhlbg0KICAgICAgICAgICAgICAgIC0tIHBsYWNlaG9sZGVyDQogICAgICAgICAgICAgICAgaWYgKHRhYmxlLmNvbnRhaW5zKFJVTkVTX0VEUk9OLCBydW5lLmlkKSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBpZiAodG93biB+PSAnZWRyb24nIGFuZCB0b3duIH49ICdncmF5IGlzbGFuZCcpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5VHJhdmVsQ29zdHMgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRvd24gPT0gJ2Vkcm9uJykgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlUcmF2ZWxDb3N0cyA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgbG9jYWwgbWlzc2luZ1J1bmVzID0gbWF0aC5tYXgoMCwgcnVuZS5tYXggLSBTZWxmLkl0ZW1Db3VudChydW5lLmlkKSkNCiAgICAgICAgICAgICAgICBydW5lLm5lZWRlZCA9IG1pc3NpbmdSdW5lczsNCiAgICAgICAgICAgICAgICB0b3RhbENvc3QgPSB0b3RhbENvc3QgKyAobWlzc2luZ1J1bmVzICogcnVuZS5jb3N0KQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgaWYgKCNBTU1VTklUSU9OUyA+IDApIHRoZW4NCiAgICAgICAgZm9yIF8sIGFtbW8gaW4gaXBhaXJzKEFNTVVOSVRJT05TKSBkbw0KICAgICAgICAgICAgaWYgKGFtbW8uaWQgYW5kIGFtbW8uY29zdCBhbmQgYW1tby5tYXgpIHRoZW4NCiAgICAgICAgICAgICAgICBsb2NhbCBtaXNzaW5nQW1tbyA9IG1hdGgubWF4KDAsIGFtbW8ubWF4IC0gU2VsZi5JdGVtQ291bnQoYW1tby5pZCkpDQogICAgICAgICAgICAgICAgYW1tby5uZWVkZWQgPSBtaXNzaW5nQW1tbzsNCiAgICAgICAgICAgICAgICB0b3RhbENvc3QgPSB0b3RhbENvc3QgKyAobWlzc2luZ0FtbW8gKiBhbW1vLmNvc3QpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICBpZiAoI0ZPT0RTID4gMCkgdGhlbg0KICAgICAgICBmb3IgXywgZm9vZCBpbiBpcGFpcnMoRk9PRFMpIGRvDQogICAgICAgICAgICBpZiAoZm9vZC5pZCBhbmQgZm9vZC5jb3N0IGFuZCBmb29kLm1heCkgdGhlbg0KICAgICAgICAgICAgICAgIGxvY2FsIG1pc3NpbmdGb29kID0gbWF0aC5tYXgoMCwgZm9vZC5tYXggLSBTZWxmLkl0ZW1Db3VudChmb29kLmlkKSkNCiAgICAgICAgICAgICAgICBmb29kLm5lZWRlZCA9IG1pc3NpbmdGb29kOw0KICAgICAgICAgICAgICAgIHRvdGFsQ29zdCA9IHRvdGFsQ29zdCArIChtaXNzaW5nRm9vZCAqIGZvb2QuY29zdCkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIGlmICgjUklOR1MgPiAwKSB0aGVuDQogICAgICAgIGZvciBfLCByaW5nIGluIGlwYWlycyhSSU5HUykgZG8NCiAgICAgICAgICAgIGlmIChyaW5nLmlkIGFuZCByaW5nLmNvc3QgYW5kIHJpbmcubWF4KSB0aGVuDQogICAgICAgICAgICAgICAgbG9jYWwgbWlzc2luZ1JpbmdzID0gbWF0aC5tYXgoMCwgcmluZy5tYXggLSBTZWxmLkl0ZW1Db3VudChyaW5nLmlkKSkNCiAgICAgICAgICAgICAgICByaW5nLm5lZWRlZCA9IG1pc3NpbmdSaW5nczsNCiAgICAgICAgICAgICAgICB0b3RhbENvc3QgPSB0b3RhbENvc3QgKyAobWlzc2luZ1JpbmdzICogcmluZy5jb3N0KQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgaWYgKCNBTVVMRVRTID4gMCkgdGhlbg0KICAgICAgICBmb3IgXywgYW1teSBpbiBpcGFpcnMoQU1VTEVUUykgZG8NCiAgICAgICAgICAgIGlmIChhbW15LmlkIGFuZCBhbW15LmNvc3QgYW5kIGFtbXkubWF4KSB0aGVuDQogICAgICAgICAgICAgICAgbG9jYWwgbWlzc2luZ0FtbXlzID0gbWF0aC5tYXgoMCwgYW1teS5tYXggLSBTZWxmLkl0ZW1Db3VudChhbW15LmlkKSkNCiAgICAgICAgICAgICAgICBhbW15Lm5lZWRlZCA9IG1pc3NpbmdBbW15czsNCiAgICAgICAgICAgICAgICB0b3RhbENvc3QgPSB0b3RhbENvc3QgKyAobWlzc2luZ0FtbXlzICogYW1teS5jb3N0KQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgaWYgKCNTVVBQTElFUyA+IDApIHRoZW4NCiAgICAgICAgZm9yIF8sIHN1cHBseSBpbiBpcGFpcnMoU1VQUExJRVMpIGRvDQogICAgICAgICAgICBpZiAoc3VwcGx5LmlkIGFuZCBzdXBwbHkuY29zdCBhbmQgc3VwcGx5Lm1heCkgdGhlbg0KICAgICAgICAgICAgICAgIGxvY2FsIG1pc3NpbmdTdXBwbGllcyA9IG1hdGgubWF4KDAsIHN1cHBsaWVzLm1heCAtIFNlbGYuSXRlbUNvdW50KHN1cHBsaWVzLmlkKSkNCiAgICAgICAgICAgICAgICBzdXBwbGllcy5uZWVkZWQgPSBtaXNzaW5nU3VwcGxpZXM7DQogICAgICAgICAgICAgICAgdG90YWxDb3N0ID0gdG90YWxDb3N0ICsgKG1pc3NpbmdTdXBwbGllcyAqIHN1cHBsaWVzLmNvc3QpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICBpZiAoX1NvZnRCb290cy5FbmFibGVkIGFuZCBfU29mdEJvb3RzLk1hbmFQZXJjZW50KSB0aGVuDQogICAgICAgIGlmICh0b3duIH49ICd2ZW5vcmUnKSB0aGVuDQogICAgICAgICAgICBhcHBseVRyYXZlbENvc3RzID0gdHJ1ZQ0KICAgICAgICBlbmQNCiAgICAgICAgdG90YWxDb3N0ID0gdG90YWxDb3N0ICsgbWF0aC5tYXgoMCwgU2VsZi5JdGVtQ291bnQoSVRFTUlEX1NPRlRCT09UU19VU0VEKSkgKiBQUklDRV9TT0ZUQk9PVFNfUkVGSUxMDQogICAgZW5kDQoNCiAgICBpZiAobm90IGFwcGx5VHJhdmVsQ29zdHMpIHRoZW4NCiAgICAgICAgZm9yIF8sIGxhYmVsIGluIGlwYWlycyhUUkFWRUxfTEFCRUxTKSBkbw0KICAgICAgICAgICAgaWYgKFdhbGtlci5MYWJlbEV4aXN0cyhsYWJlbCkpIHRoZW4NCiAgICAgICAgICAgICAgICBhcHBseVRyYXZlbENvc3RzID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICB0b3RhbENvc3QgPSB0b3RhbENvc3QgPiAxMDAgYW5kIChtYXRoLmNlaWwoKHRvdGFsQ29zdCAvIDUwMCkpKSAqIDUwMCBvciAxMDANCiAgICBpZiAoYXBwbHlUcmF2ZWxDb3N0cykgdGhlbg0KICAgICAgICB0b3RhbENvc3QgPSB0b3RhbENvc3QgKyB0cmF2ZWxDb3N0ICsgMTAwMA0KICAgIGVuZA0KICAgIHJldHVybiB0b3RhbENvc3QNCmVuZA0KDQpTZWxmLkJhbmsgPSBmdW5jdGlvbihhbW91bnQpDQogICAgLS1sb2NhbCBkaWFsb2cgPSAoYW1vdW50ID09ICdub25lJykgYW5kIHsnaGknLCAnZGVwb3NpdCBhbGwnLCAneWVzJ30gb3IgeydoaSd9DQogICAgbG9jYWwgZGlhbG9nID0geydoaScsICdkZXBvc2l0IGFsbCcsICd5ZXMnfQ0KICAgIFNlbGYuU2F5VG9OcGMoZGlhbG9nLCAyMCkNCg0KICAgIHJkbV9zbGVlcChXQUlUX01JRCkNCg0KICAgIGlmIChub3QgYW1vdW50IG9yIGFtb3VudCB+PSAnbm9uZScpIHRoZW4NCiAgICAgICAgbG9jYWwgY29zdCA9IGFtb3VudCBvciBTZWxmLkdldE5lZWRlZEdvbGRDb3VudCgpDQogICAgICAgIGlmIChjb3N0ID4gMCkgdGhlbg0KICAgICAgICAgICAgU2VsZi5TYXlUb05wYyh7J3dpdGhkcmF3ICcgLi4gY29zdCwgJ3llcyd9LCAzMCkNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXaXRoZHJldyAnLi4gY29zdCAuLiAnZ3AuJykNCiAgICAgICAgZW5kDQogICAgICAgIFNlbGYuU2F5VG9OcGMoJ2JhbGFuY2UnLCAzMCkNCiAgICAgICAgcmRtX3NsZWVwKFdBSVRfTUlEKQ0KICAgICAgICAtLSBNb3ZlIGdvbGQgYW5kIHBsYXQgY29pbnMgKGxlYXZlIGNyeXN0YWwgaW4gbWFpbikNCiAgICAgICAgQ29udGFpbmVyLk1vdmVJdGVtcygtMSwgU2NyaXB0LkdvbGRDb250YWluZXIsIDMwMzEpDQogICAgZW5kDQplbmQNCg0KU2VsZi5SZWFjaERlcG90ID0gZnVuY3Rpb24odHJpZXMsIGJyb3dzZUZpZWxkT25seSkNCiAgICB0cmllcyA9IHRyaWVzIG9yIDMNCg0KICAgIGxvY2FsIGNoZWNrUG9zaXRpb24gPSBmdW5jdGlvbihwb3MsIGxpbWl0KQ0KICAgICAgICAtLSBLZWVwIHdoaWxlIHdlIGFyZSB1bmRlciB0aGUgdGltZSBsaW1pdA0KICAgICAgICB3aGlsZShvcy5jbG9jaygpIDwgbGltaXQpZG8NCiAgICAgICAgICAgIHdhaXQoMTAwKQ0KICAgICAgICAgICAgaWYgKFNlbGYuRGlzdGFuY2VGcm9tUG9zaXRpb24ocG9zLngsIHBvcy55LCBwb3MueikgPD0gMSkgdGhlbg0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZA0KDQogICAgbG9jYWwgd2Fsa1RvRGVwb3QgPSBmdW5jdGlvbigpDQogICAgICAgIGxvY2FsIHN3aXRjaFBvc2l0aW9ucyA9IE1hcC5HZXRJdGVtUG9zaXRpb25zKHtpZD0xMDE0NSwgd2Fsa2FibGU9dHJ1ZX0pDQogICAgICAgIGlmICgjc3dpdGNoUG9zaXRpb25zIDwgMSkgdGhlbg0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgIGVuZA0KDQogICAgICAgIC0tIFNvcnQgYnkgY2xvc2VzdCBkZXBvdCBmaXJzdA0KICAgICAgICBsb2NhbCBwb3MgPSBTZWxmLlBvc2l0aW9uKCkNCiAgICAgICAgc3dpdGNoUG9zaXRpb25zID0gTWFwLlNvcnRQb3NpdGlvbnNCeURpc3RhbmNlKHBvcywgc3dpdGNoUG9zaXRpb25zKQ0KICAgICAgICBmb3IgaSA9IDEsICNzd2l0Y2hQb3NpdGlvbnMgZG8NCiAgICAgICAgICAgIC0tIEVudHJ5IGlzIHRoZSB3YWxrYWJsZSB0aWxlIGluIGZyb250IG9mIHRoZSBkZXBvdCBzd2l0Y2gNCiAgICAgICAgICAgIGxvY2FsIGVudHJ5ID0gTWFwLkZpbmROZWFyZXN0V2Fsa2FibGVUaWxlKHN3aXRjaFBvc2l0aW9uc1tpXSwgZmFsc2UpDQogICAgICAgICAgICBpZiAoZW50cnkpIHRoZW4NCiAgICAgICAgICAgICAgICAtLSBEZXBvdCBwb3NpdGlvbiBpcyBpbiBvcHBvc2l0ZSBkaXJlY3Rpb24gdGhhbiBzd2l0Y2ggdG8gZW50cnkNCiAgICAgICAgICAgICAgICBsb2NhbCBkZXBvdFBvcyA9IGdldFBvc2l0aW9uRnJvbURpcmVjdGlvbihzd2l0Y2hQb3NpdGlvbnNbaV0sIE1hcC5HZXREaXJlY3Rpb25UbyhlbnRyeSwgc3dpdGNoUG9zaXRpb25zW2ldKSwgMSkNCiAgICAgICAgICAgICAgICBpZiAoZGVwb3RQb3MpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgU2VsZi5Ccm93c2VGaWVsZChkZXBvdFBvcy54LCBkZXBvdFBvcy55LCBkZXBvdFBvcy56KQ0KICAgICAgICAgICAgICAgICAgICAtLSBBbGxvdyB1cCB0byA3IHNlY29uZHMgYmVmb3JlIHRyeWluZyBhIG5ldyBkZXBvdA0KICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tQb3NpdGlvbihkZXBvdFBvcywgb3MuY2xvY2soKSArIDcpKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgZW5kDQoNCiAgICByZXBlYXQNCiAgICAgICAgaWYgKHdhbGtUb0RlcG90KCkpIHRoZW4NCiAgICAgICAgICAgIC0tIFdlIG9wZW5lZCB0aGUgYnJvd3NlZmllbGQsIG9wZW4gdGhlIGxvY2tlciB1bmxlc3MgdG9sZCBub3QgdG8NCiAgICAgICAgICAgIGlmIChub3QgYnJvd3NlRmllbGRPbmx5KSB0aGVuDQogICAgICAgICAgICAgICAgQ29udGFpbmVyLkdldExhc3QoKTpPcGVuQ2hpbGRyZW4oezM0OTcsIGZhbHNlLCB0cnVlfSwgezM0OTgsIGZhbHNlLCB0cnVlfSwgezM0OTksIGZhbHNlLCB0cnVlfSwgezM1MDAsIGZhbHNlLCB0cnVlfSkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgZW5kDQogICAgICAgIHRyaWVzID0gdHJpZXMgLSAxDQogICAgICAgIHJkbV9zbGVlcChXQUlUX0xPVykNCiAgICAgICAgY29uc29sZS53YXJuKCgnQXR0ZW1wdCB0byByZWFjaCBhdmFpbGFibGUgZGVwb3RzIHdhcyB1bnN1Y2Nlc3NmdWwuICVkIHRyaWVzIGxlZnQuJyk6Zm9ybWF0KHRyaWVzKSkNCiAgICB1bnRpbCB0cmllcyA8PSAwDQogICAgcmV0dXJuIGZhbHNlDQplbmQNCg0KU2VsZi5EZXBvdCA9IGZ1bmN0aW9uKGRlcG9zaXRMaXN0LCB3aXRoZHJhd0xpc3QpDQogICAgaWYgKFNlbGYuRmxhc2tzKCkgPiAwKSB0aGVuDQogICAgICAgIGxvY2FsIHBvcyA9IFNlbGYuUG9zaXRpb24oKQ0KICAgICAgICBTZWxmLkRyb3BGbGFza3MocG9zLngsIHBvcy55LCBwb3MueikNCiAgICAgICAgcmRtX3NsZWVwKFdBSVRfTE9XKQ0KICAgIGVuZA0KDQogICAgU2VsZi5SZXNldENvbnRhaW5lcnMoKQ0KICAgIFNlbGYuUmVhY2hEZXBvdCg3KQ0KICAgIHJkbV9zbGVlcChXQUlUX0xPV01JRCkNCg0KICAgIGxvY2FsIGRlcG90ID0gU2VsZi5PcGVuRGVwb3QoKQ0KICAgIGlmIChub3QgZGVwb3QpIHRoZW4NCiAgICAgICAgcmV0dXJuDQogICAgZW5kDQoNCiAgICBsb2NhbCB1c2luZ0xvb3RMaXN0ID0gZmFsc2UNCiAgICAtLSBJZiBkZXBvc2l0TGlzdCBpc24ndCBwYXNzZWQsIHRyeSB0byBnZXQgdGhlIGxpc3QgZnJvbSBYQlNUDQogICAgaWYgKG5vdCBkZXBvc2l0TGlzdCkgdGhlbg0KICAgICAgICB1c2luZ0xvb3RMaXN0ID0gdHJ1ZQ0KICAgICAgICBkZXBvc2l0TGlzdCA9IHt9DQogICAgICAgIGZvciBicCwgaXRlbXMgaW4gcGFpcnMoU2NyaXB0Lkxvb3RDb250YWluZXJzKSBkbw0KICAgICAgICAgICAgLS0gRG8gbm90IGRlcG9zaXQgaXRlbXMgdGhhdCBnbyB0byB0aGUgc2VsbCBiYWNrcGFjaw0KICAgICAgICAgICAgZm9yIF8sIGl0ZW1pZCBpbiBpcGFpcnMoaXRlbXMpIGRvDQogICAgICAgICAgICAgICAgbG9jYWwgZGVwb3RTbG90ID0gMA0KICAgICAgICAgICAgICAgIGlmIChJdGVtLmlzU3RhY2thYmxlKGl0ZW1pZCkpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgZGVwb3RTbG90ID0gMQ0KICAgICAgICAgICAgICAgIGVsc2VpZiAoaXRlbWlkID09IDI5MDMgYW5kIFdhbGtlci5MYWJlbEV4aXN0cygncHl0aGl1cycpKSB0aGVuDQogICAgICAgICAgICAgICAgICAgIGRlcG90U2xvdCA9IDINCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBsb2NhbCBsb290U29ydGVyID0gX0xvb3RTb3J0IGFuZCBfTG9vdFNvcnRbSXRlbS5HZXRJdGVtTmFtZUZyb21EdWFsSW5wdXQoaXRlbWlkKTpsb3dlcigpXSBvciBuaWwNCiAgICAgICAgICAgICAgICBpZiAobG9vdFNvcnRlcikgdGhlbg0KICAgICAgICAgICAgICAgICAgICBkZXBvdFNsb3QgPSBsb290U29ydGVyIC0gMQ0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChkZXBvc2l0TGlzdCwge2l0ZW1pZCwgZGVwb3RTbG90fSkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIGlmIChub3Qgd2l0aGRyYXdMaXN0IGFuZCBjb3VudFBhaXJzKFNjcmlwdC5XaXRoZHJhd0l0ZW1zKSA+IDApIHRoZW4NCiAgICAgICAgd2l0aGRyYXdMaXN0ID0ge30NCiAgICAgICAgZm9yIGl0ZW1pZCwgZGF0YSBpbiBwYWlycyhTY3JpcHQuV2l0aGRyYXdJdGVtcykgZG8NCiAgICAgICAgICAgIC0tIHtpZCwgc2xvdCwgZGVzdGluYXRpb24sIGNvdW50fQ0KICAgICAgICAgICAgbG9jYWwgZGVzdGluYXRpb24gPSBTY3JpcHRbZGF0YS5kZXN0XQ0KICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uKSB0aGVuDQogICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0KHdpdGhkcmF3TGlzdCwge2l0ZW1pZCwgU2NyaXB0LlN1cHBseURlcG90LCBkZXN0aW5hdGlvbiwgZGF0YS5jb3VudH0pDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICAtLSBUaGlzIGxpc3QgaXMgdXNlZCBmb3IgdGhlIGRlcG9zaXQgY2hlY2ssIHRvIG5vdCBtZXNzIHdpdGggd2l0aGRyYXcgY29udGFpbmVycw0KICAgIGxvY2FsIHdpdGhkcmF3Q29udCA9IHt9DQogICAgaWYgKHdpdGhkcmF3TGlzdCBhbmQgI3dpdGhkcmF3TGlzdCA+IDApIHRoZW4NCiAgICAgICAgZm9yIF8sIGRhdGEgaW4gaXBhaXJzKHdpdGhkcmF3TGlzdCkgZG8NCiAgICAgICAgICAgIHdpdGhkcmF3Q29udFtkYXRhWzNdXSA9IDENCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICAtLSBDb3JyZWxhdGVzIGRlcG90IHNsb3RzIHRvIGNvbnRhaW5lciBpbmRleGVzDQogICAgbG9jYWwgc2xvdENvbnRhaW5lcnMgPSB7fQ0KDQogICAgZnVuY3Rpb24gb3BlbkRlcG90U2xvdChzbG90LCBlcnJvck9uSW52YWxpZCkNCiAgICAgICAgaWYgKG5vdCBzbG90Q29udGFpbmVyc1tzbG90KzFdIG9yIG5vdCBzbG90Q29udGFpbmVyc1tzbG90KzFdOmlzT3BlbigpKSB0aGVuDQogICAgICAgICAgICBsb2NhbCBpbmRleCA9IENvbnRhaW5lci5HZXRGcmVlU2xvdCgpDQogICAgICAgICAgICBsb2NhbCBkYXRhID0gZGVwb3Q6R2V0SXRlbURhdGEoc2xvdCkNCiAgICAgICAgICAgIC0tIHNsb3QgaXMgbm90IGVtcHR5IG9yIG5vdCBhIGNvbnRhaW5lcg0KICAgICAgICAgICAgaWYgKGVycm9yT25JbnZhbGlkIGFuZCAoZGF0YS5pZCA9PSAwIG9yIG5vdCBJdGVtLmlzQ29udGFpbmVyKGRhdGEuaWQpKSkgdGhlbg0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlBsZWFzZSByZWNvbmZpZ3VyZSB0aGUgZGVwb3QgYnkgcGxhY2luZyB0aHJlZSBjb250YWluZXJzIGluIHRoZSBmaXJzdCB0aHJlZSBkZXBvdCBzbG90cyBhbmQgcmVzdGFydCB0aGUgc2NyaXB0LiIpDQogICAgICAgICAgICAgICAgV2Fsa2VyLlN0b3AoKQ0KICAgICAgICAgICAgICAgIGFzc2VydChmYWxzZSwgIlBsZWFzZSByZWNvbmZpZ3VyZSB0aGUgZGVwb3QgYnkgcGxhY2luZyB0aHJlZSBjb250YWluZXJzIGluIHRoZSBmaXJzdCB0aHJlZSBkZXBvdCBzbG90cyBhbmQgcmVzdGFydCB0aGUgc2NyaXB0LiIpDQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGRlcG90OlVzZUl0ZW0oc2xvdCwgZmFsc2UpDQogICAgICAgICAgICByZG1fc2xlZXAoV0FJVF9MT1dNSUQpDQogICAgICAgICAgICBsb2NhbCBjb250ID0gQ29udGFpbmVyLk5ldyhpbmRleCkNCiAgICAgICAgICAgIGlmIChjb250OmlzT3BlbigpKSB0aGVuDQogICAgICAgICAgICAgICAgc2xvdENvbnRhaW5lcnNbc2xvdCsxXSA9IGNvbnQNCiAgICAgICAgICAgICAgICBjb250Ok1pbmltaXplKCkNCiAgICAgICAgICAgICAgICBzbGVlcCgxMDApDQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgIGVuZA0KICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgIGVuZA0KDQogICAgLS0gRGVwb3NpdGluZw0KICAgIGlmIChkZXBvc2l0TGlzdCBhbmQgI2RlcG9zaXRMaXN0ID4gMCkgdGhlbg0KICAgICAgICAtLSBCdWlsZCBpdGVtTGlzdCwgYWx3YXlzIHNlbmQgdmlhbHMgdG8gcG90aW9uIGJhY2twYWNrDQogICAgICAgIGxvY2FsIGl0ZW1MaXN0ID0gew0KICAgICAgICAgICAgLS0ge2l0ZW1pZC9pdGVtbmFtZSwgY291bnQgb3IgLTEsIG92ZXJyaWRlRGVzdH0NCiAgICAgICAgICAgIHsyODMsIC0xLCBTY3JpcHQuUG90aW9uQ29udGFpbmVyfSwNCiAgICAgICAgICAgIHsyODQsIC0xLCBTY3JpcHQuUG90aW9uQ29udGFpbmVyfSwNCiAgICAgICAgICAgIHsyODUsIC0xLCBTY3JpcHQuUG90aW9uQ29udGFpbmVyfSwNCiAgICAgICAgICAgIHsnKicsIC0xLCBzbG90Q29udGFpbmVyc1sxXX0NCiAgICAgICAgfQ0KICAgICAgICBmb3IgXywgZW50cnkgaW4gaXBhaXJzKGRlcG9zaXRMaXN0KSBkbw0KICAgICAgICAgICAgLS0gRW50cnkgaGFzIG9wdGlvbnMNCiAgICAgICAgICAgIGlmICh0eXBlKGVudHJ5KSA9PSAndGFibGUnKSB0aGVuDQogICAgICAgICAgICAgICAgbG9jYWwgZW50cnlJRCA9IEl0ZW0uR2V0SXRlbUlERnJvbUR1YWxJbnB1dChlbnRyeVsxXSkNCiAgICAgICAgICAgICAgICBsb2NhbCBlbnRyeURlcG90U2xvdCA9IGVudHJ5WzJdIG9yIDANCiAgICAgICAgICAgICAgICBsb2NhbCBlbnRyeUNvdW50ID0gZW50cnlbM10gb3IgLTENCiAgICAgICAgICAgICAgICBpZiAob3BlbkRlcG90U2xvdChlbnRyeURlcG90U2xvdCwgdHJ1ZSkpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0KGl0ZW1MaXN0LCB7ZW50cnlJRCwgZW50cnlDb3VudCwgc2xvdENvbnRhaW5lcnNbZW50cnlEZXBvdFNsb3QrMV06SW5kZXgoKX0pDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAtLSBFbnRyeSBpcyBhIHNpbXBsZSBpdGVtaWQvbmFtZQ0KICAgICAgICAgICAgZWxzZWlmIChvcGVuRGVwb3RTbG90KDAsIHRydWUpKSB0aGVuDQogICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0KGl0ZW1MaXN0LCB7SXRlbS5HZXRJdGVtSURGcm9tRHVhbElucHV0KGVudHJ5KSwgLTEsIHNsb3RDb250YWluZXJzWzFdOkluZGV4KCl9KQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICAtLSBFbmQgQnVpbGRpbmcgaXRlbUxpc3QNCg0KICAgICAgICByZG1fc2xlZXAoV0FJVF9MT1dNSUQpDQoNCiAgICAgICAgLS0gU3RhcnQgRGVwb3NpdDogTG9vcCB0aHJvdWdoIGFsbCBjb250YWluZXJzIHRoYXQgd2VyZSBvcGVuIGJlZm9yZSB0aGUgZGVwb3QgbG9ja2VyDQogICAgICAgIC0tIFNraXAgTWFpbiBhbmQgV2l0aGRyYXcgQmFja3BhY2tzDQogICAgICAgIC0tIENoZWNrIGlmIGl0IGlzIGluIHRoZSBsb290IGxpc3QgKG9ubHkgaWYgd2UgZGlkbid0IHBhc3MgbWFudWFsIGRlcG9zaXRMaXN0KQ0KICAgICAgICBmb3IgaSA9IDEsIGRlcG90OkluZGV4KCkgLSAxIGRvDQogICAgICAgICAgICBpZiAoZ2V0Q29udGFpbmVyT3BlbihpKSBhbmQgbm90IHdpdGhkcmF3Q29udFtpXSBhbmQgKG5vdCB1c2luZ0xvb3RMaXN0IG9yIFNjcmlwdC5Mb290Q29udGFpbmVyc1tpXSkpIHRoZW4NCiAgICAgICAgICAgICAgICBDb250YWluZXIuTW92ZUl0ZW1zKGksIGRlcG90OkluZGV4KCkrMSwgdW5wYWNrKGl0ZW1MaXN0KSkNCiAgICAgICAgICAgICAgICByZG1fc2xlZXAoV0FJVF9MT1dNSUQpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgLS0gRW5kIERlcG9zaXRpbmcNCg0KICAgIC0tIENsb3NpbmcgRGVwb3NpdCBEZXBvdCBTbG90cw0KICAgIGlmICgjc2xvdENvbnRhaW5lcnMgPiAwKSB0aGVuDQogICAgICAgIGZvciBfLCBjb250IGluIGlwYWlycyhzbG90Q29udGFpbmVycykgZG8NCiAgICAgICAgICAgIGNvbnQ6Q2xvc2UoKQ0KICAgICAgICAgICAgd2FpdCgxMDAsIDIwMCkNCiAgICAgICAgZW5kDQogICAgICAgIHNsb3RDb250YWluZXJzID0ge30NCiAgICBlbmQNCg0KICAgIHJkbV9zbGVlcChXQUlUX0xPV01JRCkNCiAgICAtLSBXaXRoZHJhd2luZw0KICAgIGlmICh3aXRoZHJhd0xpc3QgYW5kICN3aXRoZHJhd0xpc3QgPiAwKSB0aGVuDQogICAgICAgIC0tIEJ1aWxkIGl0ZW1MaXN0DQogICAgICAgIGxvY2FsIGl0ZW1MaXN0ID0ge30NCiAgICAgICAgZm9yIF8sIGVudHJ5IGluIGlwYWlycyh3aXRoZHJhd0xpc3QpIGRvDQogICAgICAgICAgICAtLSBFbnRyeSBoYXMgb3B0aW9ucw0KICAgICAgICAgICAgaWYgKHR5cGUoZW50cnkpID09ICd0YWJsZScpIHRoZW4NCiAgICAgICAgICAgICAgICBsb2NhbCBlbnRyeUlEID0gSXRlbS5HZXRJdGVtSURGcm9tRHVhbElucHV0KGVudHJ5WzFdKQ0KICAgICAgICAgICAgICAgIGxvY2FsIGVudHJ5RGVwb3RTbG90ID0gZW50cnlbMl0gb3IgMA0KICAgICAgICAgICAgICAgIGxvY2FsIGVudHJ5RGVzdENvbnQgPSBlbnRyeVszXSBvciAwDQogICAgICAgICAgICAgICAgbG9jYWwgZW50cnlDb3VudCA9IGVudHJ5WzRdIG9yIC0xDQogICAgICAgICAgICAgICAgaWYgKG9wZW5EZXBvdFNsb3QoZW50cnlEZXBvdFNsb3QpKSB0aGVuDQogICAgICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChpdGVtTGlzdCwge2VudHJ5SUQsIGVudHJ5Q291bnQsIGVudHJ5RGVzdENvbnR9KQ0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgLS0gRW50cnkgaXMgYSBzaW1wbGUgaXRlbWlkL25hbWUNCiAgICAgICAgICAgIGVsc2VpZiAob3BlbkRlcG90U2xvdCgwKSkgdGhlbg0KICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChpdGVtTGlzdCwge0l0ZW0uR2V0SXRlbUlERnJvbUR1YWxJbnB1dChlbnRyeSksIC0xLCAwfSkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgLS0gRW5kIEJ1aWxkaW5nIGl0ZW1MaXN0DQoNCiAgICAgICAgcmRtX3NsZWVwKFdBSVRfTE9XTUlEKQ0KICAgICAgICAtLSBTdGFydCBXaXRoZHJhd2FsOiBMb29wIHRocm91Z2ggYWxsIGRlcG90IHNsb3RDb250YWluZXJzLCB3aXRoZHJhdyBpdGVtcyBpbiBpdGVtTGlzdA0KICAgICAgICBmb3Igc2xvdCwgY29udCBpbiBwYWlycyhzbG90Q29udGFpbmVycykgZG8NCiAgICAgICAgICAgIGlmIChjb250OmlzT3BlbigpKSB0aGVuDQogICAgICAgICAgICAgICAgLS0gc2xvdCBpcyBpbmRleCBiYXNlIDEgKGx1YSB0YWJsZSkgbXVzdCBiZSBjb252ZXJ0ZWQgdG8gaW5kZXggMA0KICAgICAgICAgICAgICAgIGNvbnQ6TW92ZUl0ZW1zKDAsIHVucGFjayhpdGVtTGlzdCkpDQogICAgICAgICAgICAgICAgcmRtX3NsZWVwKFdBSVRfTE9XTUlEKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIC0tIEVuZCBXaXRoZHJhd2luZw0KDQogICAgU2VsZi5SZXNldENvbnRhaW5lcnModHJ1ZSkNCmVuZA0KDQpTZWxmLlJlc2V0Q29udGFpbmVycyA9IGZ1bmN0aW9uKG1pbmltaXplKQ0KICAgIFNlbGYuQ2xvc2VDb250YWluZXJzKCkNCiAgICBsb2NhbCBtYWluID0gU2VsZi5PcGVuTWFpbkJhY2twYWNrKCkNCiAgICByZG1fc2xlZXAoV0FJVF9MT1cpDQogICAgaWYgKF9QbGF5ZXIuTWluaW1pemVNYWluQlAgPT0gdHJ1ZSkgdGhlbg0KICAgICAgICBtaW5pbWl6ZUNvbnRhaW5lcihtYWluKQ0KICAgIGVuZA0KICAgIHJkbV9zbGVlcChXQUlUX0xPVykNCiAgICBmb3Igc3BvdCA9IDAsIG1haW46SXRlbUNvdW50KCktMSBkbw0KICAgICAgICBsb2NhbCBpdGVtID0gbWFpbjpHZXRJdGVtRGF0YShzcG90KQ0KICAgICAgICAtLSBPbmx5IG9wZW4gY29udGFpbmVycw0KICAgICAgICBpZiAoSXRlbS5pc0NvbnRhaW5lcihpdGVtLmlkKSkgdGhlbg0KICAgICAgICAgICAgbG9jYWwgb3BlbnRvID0gQ29udGFpbmVyLkdldEZyZWVTbG90KCkNCiAgICAgICAgICAgIHdoaWxlIChtYWluOlVzZUl0ZW0oc3BvdCkgfj0gMSkgZG8gd2FpdCgzMDApIGVuZA0KICAgICAgICAgICAgc2xlZXAoMTIwMCkNCiAgICAgICAgICAgIGlmIChnZXRDb250YWluZXJPcGVuKG9wZW50bykpIHRoZW4NCiAgICAgICAgICAgICAgICByZG1fc2xlZXAoV0FJVF9MT1cpDQogICAgICAgICAgICAgICAgbWluaW1pemVDb250YWluZXIob3BlbnRvKQ0KICAgICAgICAgICAgICAgIHJkbV9zbGVlcChXQUlUX0xPV01JRCkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICBjb25zb2xlLmxvZygnQ29udGFpbmVycyBzdWNjZXNzZnVsbHkgcmVzZXQuJykNCmVuZA0KDQpTZWxmLkl0ZW1Db3VudCA9IGZ1bmN0aW9uKGl0ZW1pZCwgY29udGFpbmVyLCBjb3VudEVxdWlwbWVudCkNCiAgICBpZiAoY291bnRFcXVpcG1lbnQgPT0gbmlsKSB0aGVuIGNvdW50RXF1aXBtZW50ID0gdHJ1ZSBlbmQNCiAgICBpdGVtaWQgPSBJdGVtLkdldEl0ZW1JREZyb21EdWFsSW5wdXQoaXRlbWlkKQ0KICAgIGxvY2FsIHZhbHVlID0gMA0KICAgIGlmIChjb3VudEVxdWlwbWVudCkgdGhlbg0KICAgICAgICBsb2NhbCBzbG90cyA9IHtTZWxmLkhlYWQsIFNlbGYuQXJtb3IsIFNlbGYuTGVncywgU2VsZi5GZWV0LCBTZWxmLkFtdWxldCwgU2VsZi5XZWFwb24sIFNlbGYuUmluZywgU2VsZi5TaGllbGQsIFNlbGYuQW1tb30NCiAgICAgICAgZm9yIGkgPSAxLCAjc2xvdHMgZG8gLS0gY291bnQgc2xvdHMNCiAgICAgICAgICAgIGxvY2FsIHNsb3QgPSBzbG90c1tpXSgpDQogICAgICAgICAgICBpZiAoc2xvdC5pZCA9PSBpdGVtaWQpIHRoZW4NCiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICsgbWF0aC5tYXgoc2xvdC5jb3VudCwgMSkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICBpZiAoY29udGFpbmVyKSB0aGVuIC0tIGNvdW50IHNwZWNpZmljIGNvbnRhaW5lcg0KICAgICAgICB2YWx1ZSA9IHZhbHVlICsgQ29udGFpbmVyLkNvdW50SXRlbXNPZklEKGNvbnRhaW5lciwgaXRlbWlkKSBvciAwDQogICAgZWxzZSAtLSBjb3VudCBldmVyeXRoaW5nDQogICAgICAgIGxvY2FsIGNvbnQgPSBDb250YWluZXIuR2V0Rmlyc3QoKQ0KICAgICAgICB3aGlsZSAoY29udDppc09wZW4oKSkgZG8NCiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKyBjb250OkNvdW50SXRlbXNPZklEKGl0ZW1pZCkNCiAgICAgICAgICAgIGNvbnQgPSBjb250OkdldE5leHQoKQ0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICByZXR1cm4gdmFsdWUNCmVuZA0KDQpTZWxmLlRyYXZlbCA9IGZ1bmN0aW9uKG5wYywgbG9jYXRpb24pDQogICAgU2VsZi5SZWFjaE5wYyhucGMsIDUpDQogICAgd2FpdCgzMDAwKQ0KICAgIGxvY2FsIHRyYXZlbE5wY3MgPSB7J1BhbG9taW5vJywgJ0FwcGFsb29zYSd9DQogICAgbG9jYWwgZGlhbG9nID0geydoaScsIGxvY2F0aW9uLCAneWVzJ30NCiAgICBpZiAodGFibGUuY29udGFpbnModHJhdmVsTnBjcywgbnBjKSBhbmQgbm90IGxvY2F0aW9uKSB0aGVuDQogICAgICAgIGRpYWxvZyA9IHsnaGknLCAndHJhbnNwb3J0JywgJ3llcyd9DQogICAgZW5kDQogICAgU2VsZi5TYXlUb05wYyhkaWFsb2csIDIwKQ0KICAgIHJkbV9zbGVlcChXQUlUX01JRCkNCmVuZA0KDQpTZWxmLkxldml0YXRlID0gZnVuY3Rpb24oZGlyZWN0aW9uLCB1cGRvd24pDQogICAgU2VsZi5UdXJuKGRpcmVjdGlvbikNCiAgICByZG1fc2xlZXAoV0FJVF9MT1cpDQogICAgU2VsZi5TYXkoJ2V4YW5pIGh1ciAnIC4uIHVwZG93bikNCiAgICByZG1fc2xlZXAoV0FJVF9MT1cpDQplbmQNCg0KU2VsZi5pc0luU3BlY2lhbEFyZWEgPSBmdW5jdGlvbihjb25zaWRlciwgdGl0bGUpDQogICAgZnVuY3Rpb24gaXNQb3NJbkFyZWEocG9zLCBhcmVhVG9wTGVmdCwgaGVpZ2h0LCB3aWR0aCkNCiAgICAgICAgbG9jYWwgeFJhbmdlID0gcG9zLnggLSBhcmVhVG9wTGVmdC54DQogICAgICAgIGxvY2FsIHlSYW5nZSA9IHBvcy55IC0gYXJlYVRvcExlZnQueQ0KICAgICAgICBpZiAoKHhSYW5nZSA+PSAwIGFuZCB4UmFuZ2UgPD0gKHdpZHRoIC0gMSkpIGFuZCAoeVJhbmdlID49IDAgYW5kIHlSYW5nZSA8PSAoaGVpZ2h0IC0gMSkpIGFuZCAocG9zLnogPT0gYXJlYVRvcExlZnQueikpIHRoZW4NCiAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIGVuZA0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICBlbmQNCiAgICBsb2NhbCBzcGVjaWFsQXJlYXMgPSBXYWxrZXIuR2V0U3BlY2lhbEFyZWFzKCkNCiAgICBpZiAoc3BlY2lhbEFyZWFzKSB0aGVuDQogICAgICAgIGxvY2FsIHNlbGZQb3MgPSBTZWxmLlBvc2l0aW9uKCkNCiAgICAgICAgZm9yIF8sYXJlYSBpbiBpcGFpcnMoc3BlY2lhbEFyZWFzKSBkbw0KICAgICAgICAgICAgLS0gQ29uc2lkZXIgbm90IHNwZWNpZmllZCBvciBtYXRjaGVzDQogICAgICAgICAgICBpZiAobm90IGNvbnNpZGVyIG9yIGNvbnNpZGVyID09IHRvbnVtYmVyKGFyZWEuY29uc2lkZXIpKSB0aGVuDQogICAgICAgICAgICAgICAgLS0gVGl0bGUgbm90IHNwZWNpZmllZCBvciBtYXRjaGVzDQogICAgICAgICAgICAgICAgaWYgKG5vdCB0aXRsZSBvciB0aXRsZSA9PSBhcmVhLnRpdGxlKSB0aGVuDQogICAgICAgICAgICAgICAgICAgIC0tIFBsYXllciBpcyBpbiByYW5nZQ0KICAgICAgICAgICAgICAgICAgICBpZiAoaXNQb3NJbkFyZWEoc2VsZlBvcywge3g9dG9udW1iZXIoYXJlYS54KSx5PXRvbnVtYmVyKGFyZWEueSksej10b251bWJlcihhcmVhLnopfSwgdG9udW1iZXIoYXJlYS5oZWlnaHQpLCB0b251bWJlcihhcmVhLndpZHRoKSkpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIHJldHVybiBmYWxzZQ0KZW5kDQoNClNlbGYuRW50ZXJEb29yID0gZnVuY3Rpb24oZGlyZWN0aW9uKQ0KICAgIFdhbGtlci5TdG9wKCkNCiAgICAtLSBUT0RPOiB2ZXJpZnkgYW5kIGdvdG8gc3RhcnQgcG9zaXRpb24gYmVmb3JlIGF0dGVtcHRpbmcgdG8gc3RlcCB0aHJvdWdoIGRvb3INCiAgICBsb2NhbCBkb29yUG9zID0gZ2V0UG9zaXRpb25Gcm9tRGlyZWN0aW9uKFNlbGYuUG9zaXRpb24oKSwgZGlyZWN0aW9uKQ0KDQogICAgZnVuY3Rpb24gdmVyaWZ5RW5kUG9zKCkNCiAgICAgICAgbG9jYWwgdGFyZ2V0UG9zID0gZ2V0UG9zaXRpb25Gcm9tRGlyZWN0aW9uKGRvb3JQb3MsIGRpcmVjdGlvbikNCiAgICAgICAgbG9jYWwgZGlzID0gZ2V0RGlzdGFuY2VCZXR3ZWVuKFNlbGYuUG9zaXRpb24oKSwgdGFyZ2V0UG9zKSA9PSAwDQogICAgICAgIFdhbGtlci5TdGFydCgpDQogICAgICAgIHJldHVybiBkaXMNCiAgICBlbmQNCg0KICAgIGZ1bmN0aW9uIHdhbGtUaHJvdWdoKCkNCiAgICAgICAgcmRtX3NsZWVwKFdBSVRfTE9XTUlEKQ0KICAgICAgICBTZWxmLlN0ZXAoZGlyZWN0aW9uKQ0KICAgICAgICByZG1fc2xlZXAoKQ0KICAgICAgICBTZWxmLlN0ZXAoZGlyZWN0aW9uKQ0KICAgICAgICByZG1fc2xlZXAoV0FJVF9MT1dNSUQpDQogICAgICAgIHJldHVybiB2ZXJpZnlFbmRQb3MoKQ0KICAgIGVuZA0KDQogICAgbG9jYWwgZmFpbHMgPSAyMA0KICAgIHdoaWxlKG5vdCBNYXAuSXNUaWxlV2Fsa2FibGUoZG9vclBvcy54LCBkb29yUG9zLnksIGRvb3JQb3MueikgYW5kIFNlbGYuVXNlSXRlbUZyb21Hcm91bmQoZG9vclBvcy54LCBkb29yUG9zLnksIGRvb3JQb3MueikgPT0gMCBhbmQgZmFpbHMgPiAwKWRvDQogICAgICAgIGZhaWxzID0gZmFpbHMgLSAxDQogICAgICAgIHdhaXQoMTAwKQ0KICAgIGVuZA0KDQogICAgcmV0dXJuIHdhbGtUaHJvdWdoKCkNCmVuZA0KDQpTZWxmLlRyYWluVGVsZXBvcnQgPSBmdW5jdGlvbigpDQogICAgV2Fsa2VyLlN0b3AoKQ0KICAgIGxvY2FsIG5wY05hbWUgPSBmYWxzZQ0KICAgIGxvY2FsIG5wY3MgPSB7J0FsaWEnLCdBbWFuZGEnLCdCcmV3c3RlcicsJ0lzaW1vdicsJ0thc21pcicsJ0tqZXNzZScsJ0xvcmlldHRhJywnTWFlYWxpbCcsJ1R5cmlhcycsJ1F1ZW50aW4nLCdZYmVyaXVzJ30NCiAgICBsb2NhbCBzcGVjdGF0b3JzID0gU2VsZi5HZXRTcGVjdGF0b3JzKGZhbHNlKQ0KICAgIGZvciBfLCBjaWQgaW4gaXBhaXJzKHNwZWN0YXRvcnMpIGRvDQogICAgICAgIGlmICh0YWJsZS5jb250YWlucyhucGNzLCBjaWQ6TmFtZSgpKSkgdGhlbg0KICAgICAgICAgICAgbnBjTmFtZSA9IGNpZDpOYW1lKCkNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIGlmIG5vdCAoU2VsZi5JdGVtQ291bnQoSVRFTUlEX0FEVkVOVFVSRVJTX1NUT05FKSA+IDApIHRoZW4NCiAgICAgICAgU2VsZi5SZWFjaE5wYyhucGNOYW1lLCAxNSkNCiAgICAgICAgd2FpdCgxNTAwKQ0KICAgICAgICBTZWxmLlNheVRvTnBjKHsiaGkiLCAiYWR2ZW50dXJlcidzIHN0b25lIiwgInllcyJ9LCA0MCkNCiAgICAgICAgcmRtX3NsZWVwKFdBSVRfTUlESElHSCkNCiAgICAgICAgU2VsZi5UcmFpblRlbGVwb3J0KCkNCiAgICBlbHNlDQogICAgICAgIFNlbGYuVXNlSXRlbShJVEVNSURfQURWRU5UVVJFUlNfU1RPTkUpDQogICAgICAgIHdhaXQoMTUwMCkNCiAgICAgICAgaWYgKFNlbGYuRGlzdGFuY2VGcm9tUG9zaXRpb24oMzIyMTAsIDMyMzAwLCA2KSA+IDEpIHRoZW4NCiAgICAgICAgICAgIHJkbV9zbGVlcChXQUlUX01JREhJR0gpDQogICAgICAgICAgICBTZWxmLlRyYWluVGVsZXBvcnQoKQ0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICBXYWxrZXIuU3RhcnQoKQ0KZW5kDQoNClNlbGYuVHJhaW4gPSBmdW5jdGlvbigpDQogICAgV2Fsa2VyLlN0b3AoKQ0KICAgIGxvY2FsIHN0YXR1ZXMgPSB7DQogICAgICAgIHN3b3JkID0gezMyMTk2LCAzMjI5MiwgN30sDQogICAgICAgIGF4ZSA9IHszMjE5OCwgMzIyOTIsIDd9LA0KICAgICAgICBjbHViID0gezMyMjAwLCAzMjI5MiwgN30sDQogICAgICAgIHNwZWFyID0gezMyMjAyLCAzMjI5MiwgN30sDQogICAgICAgIG1hZ2ljID0gezMyMjA0LCAzMjI5MiwgN30sDQogICAgfQ0KICAgIGlmIChfU3RhbWluYS5UcmFpbmVyIGFuZCBfU3RhbWluYS5UcmFpblNraWxsIGFuZCBfUGxheWVyLlByZW1pdW0pIHRoZW4NCiAgICAgICAgbG9jYWwgc3RhdHVlUG9zID0gc3RhdHVlc1tfU3RhbWluYS5UcmFpblNraWxsXQ0KICAgICAgICBpZiAoc3RhdHVlUG9zKSB0aGVuDQogICAgICAgICAgICBTZWxmLlVzZUl0ZW1Gcm9tR3JvdW5kKHVucGFjayhzdGF0dWVQb3MpKQ0KICAgICAgICBlbHNlDQogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIHNraWxsIHR5cGUsIHZhbGlkIG9wdGlvbnM6IHN3b3JkLCBheGUsIGNsdWIsIHNwZWFyLCBtYWdpYy4nKQ0KICAgICAgICBlbmQNCiAgICBlbmQNCmVuZA0KDQpTZWxmLlJlYWNoTnBjID0gZnVuY3Rpb24obmFtZSwgdHJpZXMpDQogICBmb3IgaSA9IDEsIDEzMDAgZG8NCiAgICAgIGlmIChDcmVhdHVyZS5OYW1lKGkpID09IG5hbWUgYW5kIENyZWF0dXJlLmlzT25TY3JlZW4oaSkgYW5kIENyZWF0dXJlLkRpc3RhbmNlRnJvbVNlbGYoaSkgPiAyKSB0aGVuDQogICAgICAgICBDcmVhdHVyZS5Gb2xsb3coaSkNCiAgICAgICAgIHJkbV9zbGVlcChXQUlUX01JRExPVykNCiAgICAgICAgIGJyZWFrDQogICAgICBlbmQNCiAgIGVuZA0KZW5kDQoNClNlbGYuR2V0UHJpb3JpdHlUYXJnZXRzID0gZnVuY3Rpb24ocmFuZ2UsIHByaW8pDQogICAgbG9jYWwgdGFyZ2V0cyA9IFNlbGYuR2V0VGFyZ2V0cyhyYW5nZSkNCiAgICBsb2NhbCBmaWx0ZXIgPSBUYXJnZXRpbmcuR2V0VGFyZ2V0c0J5UHJpb3JpdHkocHJpbykNCiAgICBsb2NhbCBtYXRjaGVzID0ge30NCiAgICBmb3IgXywgY2lkIGluIGlwYWlycyh0YXJnZXRzKSBkbw0KICAgICAgICBpZiAodGFibGUuY29udGFpbnMoZmlsdGVyLCBjaWQ6TmFtZSgpKSkgdGhlbg0KICAgICAgICAgICAgdGFibGUuaW5zZXJ0KG1hdGNoZXMsIGNpZDpOYW1lKCkpDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIHJldHVybiBtYXRjaGVzDQplbmQNCg0KU2VsZi5pc0NvcnBzZUNvbnRhaW5lck9wZW4gPSBmdW5jdGlvbigpDQogICAgbG9jYWwgaW5kZXggPSAtMQ0KICAgIHdoaWxlIChpbmRleCA8IDE2KSBkbw0KICAgICAgICBpbmRleCA9IGluZGV4ICsgMQ0KICAgICAgICBsb2NhbCBjb250TmFtZSA9IGdldENvbnRhaW5lck5hbWUoaW5kZXgpDQogICAgICAgIGxvY2FsIGlzQ29ycHNlID0gKGNvbnROYW1lOmZpbmQoIlRoZSIpIG9yIGNvbnROYW1lOmZpbmQoIkRlbW9uaWMiKSBvciBjb250TmFtZTpmaW5kKCJEZWFkIikgb3IgY29udE5hbWU6ZmluZCgiU2xhaW4iKSBvciBjb250TmFtZTpmaW5kKCJEaXNzb2x2ZWQiKSBvciBjb250TmFtZTpmaW5kKCJSZW1haW5zIikgb3IgY29udE5hbWU6ZmluZCgiRWxlbWVudGFsIikgb3IgSXRlbS5pc0NvcnBzZShnZXRDb250YWluZXJJRChpbmRleCkpKQ0KICAgICAgICBpZiAoZ2V0Q29udGFpbmVyT3BlbihpbmRleCkgYW5kIGlzQ29ycHNlKSB0aGVuDQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICByZXR1cm4gZmFsc2UNCmVuZA0KDQpTZWxmLkdldENvcnBzZUNvbnRhaW5lcnMgPSBmdW5jdGlvbigpDQogICAgbG9jYWwgaW5kZXggPSAtMQ0KICAgIGxvY2FsIGNvbnRhaW5lcnMgPSB7fQ0KICAgIHdoaWxlIChpbmRleCA8IDE2KSBkbw0KICAgICAgICBpbmRleCA9IGluZGV4ICsgMQ0KICAgICAgICBsb2NhbCBjb250TmFtZSA9IGdldENvbnRhaW5lck5hbWUoaW5kZXgpDQogICAgICAgIGxvY2FsIGlzQ29ycHNlID0gKGNvbnROYW1lOmZpbmQoIlRoZSIpIG9yIGNvbnROYW1lOmZpbmQoIkRlbW9uaWMiKSBvciBjb250TmFtZTpmaW5kKCJEZWFkIikgb3IgY29udE5hbWU6ZmluZCgiU2xhaW4iKSBvciBjb250TmFtZTpmaW5kKCJEaXNzb2x2ZWQiKSBvciBjb250TmFtZTpmaW5kKCJSZW1haW5zIikgb3IgY29udE5hbWU6ZmluZCgiRWxlbWVudGFsIikgb3IgSXRlbS5pc0NvcnBzZShnZXRDb250YWluZXJJRChpbmRleCkpKQ0KICAgICAgICBpZiAoZ2V0Q29udGFpbmVyT3BlbihpbmRleCkgYW5kIGlzQ29ycHNlKSB0aGVuDQogICAgICAgICAgICB0YWJsZS5pbnNlcnQoY29udGFpbmVycywgQ29udGFpbmVyLk5ldyhpbmRleCkpDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIHJldHVybiBjb250YWluZXJzDQplbmQNCg0KU2VsZi5XYWxrID0gZnVuY3Rpb24oZGVzdCwgcmFkaXVzLCBub2RlcykNCiAgICBsb2NhbCBnZXRBZGphY2VudFRpbGVzID0gZnVuY3Rpb24oKQ0KICAgICAgICBsb2NhbCBwb3MgPSBTZWxmLlBvc2l0aW9uKCkNCiAgICAgICAgbG9jYWwgdGlsZXMgPSB7DQogICAgICAgICAgICB7eD1wb3MueCx5PXBvcy55LTF9LA0KICAgICAgICAgICAge3g9cG9zLngrMSx5PXBvcy55fSwNCiAgICAgICAgICAgIHt4PXBvcy54LHk9cG9zLnkrMX0sDQogICAgICAgICAgICB7eD1wb3MueC0xLHk9cG9zLnl9LA0KICAgICAgICAgICAge3g9cG9zLngtMSx5PXBvcy55KzF9LA0KICAgICAgICAgICAge3g9cG9zLngrMSx5PXBvcy55KzF9LA0KICAgICAgICAgICAge3g9cG9zLngtMSx5PXBvcy55LTF9LA0KICAgICAgICAgICAge3g9cG9zLngrMSx5PXBvcy55LTF9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRpbGVzDQogICAgZW5kDQogICAgIA0KICAgIGxvY2FsIGNvbXBhcmVQb3NpdGlvbnMgPSBmdW5jdGlvbihwb3MxLCBwb3MyKQ0KICAgICAgICByZXR1cm4gcG9zMS54ID09IHBvczIueCBhbmQgcG9zMS55ID09IHBvczIueQ0KICAgIGVuZA0KICAgICANCiAgICBsb2NhbCBnZXRUaWxlU2NvcmUgPSBmdW5jdGlvbih0aWxlUG9zLCB0b1BvcywgaGlzdG9yeSkNCiAgICAgICAgbG9jYWwgZyA9IChNYXAuR2V0RGlyZWN0aW9uVG8oU2VsZi5Qb3NpdGlvbigpLCB0aWxlUG9zKSA+IDMpIGFuZCAxNSBvciAxMA0KICAgICAgICBsb2NhbCBmID0gZ2V0RGlzdGFuY2VCZXR3ZWVuKHRpbGVQb3MsIHRvUG9zKQ0KICAgICAgICBsb2NhbCBvID0gMA0KICAgICAgICBsb2NhbCBrZXkgPSB0YWJsZS5zZXJpYWxpemUodGlsZVBvcykNCiAgICAgICAgaWYoaGlzdG9yeVtrZXldKXRoZW4NCiAgICAgICAgICAgIG8gPSBoaXN0b3J5W2tleV0gKiAxNTANCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiBnICsgZiArIG8NCiAgICBlbmQNCiAgICAgDQogICAgbG9jYWwgZ2V0TG93ZXN0Tm9kZSA9IGZ1bmN0aW9uKGRlc3QsIGhpc3RvcnkpDQogICAgICAgIGxvY2FsIHRpbGVzID0gZ2V0QWRqYWNlbnRUaWxlcygpDQogICAgICAgIGxvY2FsIHRhcmdldCA9IDUwMA0KICAgICAgICBsb2NhbCBjaG9zZW4gPSBuaWwNCiAgICAgICAgZm9yIGkgPSAxLCAjdGlsZXMgZG8NCiAgICAgICAgICAgIGxvY2FsIHBvcyA9IHRpbGVzW2ldDQogICAgICAgICAgICBsb2NhbCB3YWxrYWJsZSA9IE1hcC5Jc1RpbGVXYWxrYWJsZShwb3MueCwgcG9zLnksIFNlbGYuUG9zaXRpb24oKS56KQ0KICAgICAgICAgICAgaWYod2Fsa2FibGUpdGhlbg0KICAgICAgICAgICAgICAgIGxvY2FsIHNjb3JlID0gZ2V0VGlsZVNjb3JlKHBvcywgZGVzdCwgaGlzdG9yeSkNCiAgICAgICAgICAgICAgICBpZihzY29yZSA8IHRhcmdldCl0aGVuDQogICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHNjb3JlDQogICAgICAgICAgICAgICAgICAgIGNob3NlbiA9IHBvcw0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICByZXR1cm4gY2hvc2VuDQogICAgZW5kDQogDQogICAgbG9jYWwgaGlzdG9yeSA9IHt9DQogICAgbm9kZXMgPSBub2RlcyBvciAxMDAwDQogICAgcmFkaXVzID0gcmFkaXVzIG9yIDENCiAgICB3aGlsZSh0cnVlKWRvDQogICAgICAgIG5vZGVzID0gbm9kZXMgLSAxDQogICAgICAgIGlmKG5vZGVzIDwgMCl0aGVuDQogICAgICAgICAgICBicmVhaw0KICAgICAgICBlbmQNCiAgICAgICAgbG9jYWwgcG9zID0gU2VsZi5Qb3NpdGlvbigpDQogICAgICAgIGlmKGdldERpc3RhbmNlQmV0d2Vlbihwb3MsIGRlc3QpIDw9IHJhZGl1cyl0aGVuDQogICAgICAgICAgICBicmVhaw0KICAgICAgICBlbmQNCiAgICAgICAgbG9jYWwgbmV4dFBvcyA9IGdldExvd2VzdE5vZGUoZGVzdCwgaGlzdG9yeSkNCiAgICAgICAgaWYobm90IG5leHRQb3MpdGhlbg0KICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgZW5kDQogICAgICAgIGxvY2FsIGtleSA9IHRhYmxlLnNlcmlhbGl6ZShuZXh0UG9zKQ0KICAgICAgICBpZihoaXN0b3J5W2tleV0pdGhlbg0KICAgICAgICAgICAgaGlzdG9yeVtrZXldID0gaGlzdG9yeVtrZXldICsgMQ0KICAgICAgICBlbHNlDQogICAgICAgICAgICBoaXN0b3J5W2tleV0gPSAxDQogICAgICAgIGVuZA0KICAgICAgICBTZWxmLlN0ZXAoTWFwLkdldERpcmVjdGlvblRvKHBvcywgbmV4dFBvcykpDQogICAgICAgIHdhaXRMaW1pdCA9IDYwMA0KICAgICAgICByZXBlYXQNCiAgICAgICAgICAgIHdhaXQoMjAwKQ0KICAgICAgICAgICAgd2FpdExpbWl0ID0gd2FpdExpbWl0IC0gMQ0KICAgICAgICB1bnRpbCAoY29tcGFyZVBvc2l0aW9ucyhTZWxmLlBvc2l0aW9uKCksIG5leHRQb3MpKSBvciB3YWl0TGltaXQgPCAwDQogICAgZW5kDQplbmQNCg0KU2VsZi5DdXJlQ29uZGl0aW9uID0gZnVuY3Rpb24oKQ0KCWlmIFNlbGYuaXNQb2lzb25lZCgpIHRoZW4NCgkJU2VsZi5DYXN0KCdleGFuYSBwb3gnKQ0KCQlyZG1fc2xlZXAoV0FJVF9NSURMT1cpDQoJZW5kDQoJaWYgU2VsZi5pc0J1cm5pbmcoKSB0aGVuDQoJCVNlbGYuQ2FzdCgnZXhhbmEgZmxhbScpDQoJCXJkbV9zbGVlcChXQUlUX01JRExPVykNCgllbmQNCglpZiBTZWxmLmlzQ3Vyc2VkKCkgdGhlbg0KCQlTZWxmLkNhc3QoJ2V4YW5hIG1vcnQnKQ0KCQlyZG1fc2xlZXAoV0FJVF9NSURMT1cpDQoJZW5kDQplbmQNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLS0gRW5kIFNlbGYgRnVuY3Rpb25zDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLS0gTWFwIEZ1bmN0aW9ucw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpNYXAuR2V0RGlyZWN0aW9uVG8gPSBmdW5jdGlvbihwb3MxLCBwb3MyKQ0KICAgIGxvY2FsIGRpciA9IE5PUlRIDQogICAgaWYgKHBvczEueCA+IHBvczIueCkgdGhlbg0KICAgICAgICBkaXIgPSBXRVNUDQogICAgICAgIGlmIChwb3MxLnkgPiBwb3MyLnkpIHRoZW4NCiAgICAgICAgICAgIGRpciA9IE5PUlRIV0VTVA0KICAgICAgICBlbHNlaWYgKHBvczEueSA8IHBvczIueSkgdGhlbg0KICAgICAgICAgICAgZGlyID0gU09VVEhXRVNUDQogICAgICAgIGVuZA0KICAgIGVsc2VpZiAocG9zMS54IDwgcG9zMi54KSB0aGVuDQogICAgICAgIGRpciA9IEVBU1QNCiAgICAgICAgaWYgKHBvczEueSA+IHBvczIueSkgdGhlbg0KICAgICAgICAgICAgZGlyID0gTk9SVEhFQVNUDQogICAgICAgIGVsc2VpZiAocG9zMS55IDwgcG9zMi55KSB0aGVuDQogICAgICAgICAgICBkaXIgPSBTT1VUSEVBU1QNCiAgICAgICAgZW5kDQogICAgZWxzZQ0KICAgICAgICBpZiAocG9zMS55ID4gcG9zMi55KSB0aGVuDQogICAgICAgICAgICBkaXIgPSBOT1JUSA0KICAgICAgICBlbHNlaWYgKHBvczEueSA8IHBvczIueSkgdGhlbg0KICAgICAgICAgICAgZGlyID0gU09VVEgNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgcmV0dXJuIGRpcg0KZW5kDQoNCk1hcC5HZXRPcHBvc2luZ0RpcmVjdGlvbiA9IGZ1bmN0aW9uKGRpcikNCiAgICBsb2NhbCBkaXJlY3Rpb25zID0gew0KICAgICAgICBbTk9SVEhdID0gU09VVEgsDQogICAgICAgIFtTT1VUSF0gPSBOT1JUSCwNCiAgICAgICAgW0VBU1RdID0gV0VTVCwNCiAgICAgICAgW1dFU1RdID0gRUFTVCwNCiAgICAgICAgW05PUlRIRUFTVF0gPSBTT1VUSFdFU1QsDQogICAgICAgIFtTT1VUSFdFU1RdID0gTk9SVEhFQVNULA0KICAgICAgICBbTk9SVEhXRVNUXSA9IFNPVVRIRUFTVCwNCiAgICAgICAgW1NPVVRIRUFTVF0gPSBOT1JUSFdFU1QNCiAgICB9DQogICAgcmV0dXJuIGRpcmVjdGlvbnNbZGlyXQ0KZW5kDQoNCk1hcC5GaW5kTmVhcmVzdFdhbGthYmxlVGlsZSA9IGZ1bmN0aW9uKHBvcywgaW5jbHVkZUNlbnRlcikNCiAgICBsb2NhbCB0aWxlcyA9IE1hcC5HZXRXYWxrYWJsZVRpbGVzKCkNCiAgICAtLSBSZXR1cm4gbm8gbWF0Y2hlcw0KICAgIGlmIChub3QgdGlsZXNbMV0pIHRoZW4NCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgZW5kDQoNCiAgICBNYXAuU29ydFBvc2l0aW9uc0J5RGlzdGFuY2UocG9zLCB0aWxlcykNCg0KICAgIC0tIFRoZSBuZWFyZXN0IGlzIHRoZSBjZW50ZXIgYW5kIHdlIGRvbid0IHdhbnQgaXQsIGdldCB0aGUgbmV4dA0KICAgIGlmIChub3QgaW5jbHVkZUNlbnRlciBhbmQgZ2V0RGlzdGFuY2VCZXR3ZWVuKHBvcywgdGlsZXNbMV0pID09IDApIHRoZW4NCiAgICAgICAgcmV0dXJuIHRpbGVzWzJdDQogICAgZW5kDQogICAgcmV0dXJuIHRpbGVzWzFdDQplbmQNCg0KTWFwLkdldFdhbGthYmxlVGlsZXMgPSBmdW5jdGlvbigpDQogICAgbG9jYWwgd2Fsa2FibGVzID0ge30NCiAgICBsb2NhbCBiYXNlID0gU2VsZi5Qb3NpdGlvbigpDQogICAgZm9yIHggPSAtNywgNyBkbw0KICAgICAgICBmb3IgeSA9IC01LCA1IGRvDQogICAgICAgICAgICBpZiAoTWFwLklzVGlsZVdhbGthYmxlKGJhc2UueCt4LCBiYXNlLnkreSwgYmFzZS56KSkgdGhlbg0KICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydCh3YWxrYWJsZXMsIHt4PWJhc2UueCt4LCB5PWJhc2UueSt5LCB6PWJhc2Uuen0pDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgcmV0dXJuIHdhbGthYmxlcw0KZW5kDQoNCk1hcC5HZXRJdGVtUG9zaXRpb25zID0gZnVuY3Rpb24oLi4uKQ0KICAgIC0tIENvbnZlcnQgaXRlbSBuYW1lcyB0byBpZHMgaWYgYW55DQogICAgbG9jYWwgaXRlbXMgPSB7fQ0KICAgIGZvciBfLCBkYXRhIGluIGlwYWlycyhhcmcpIGRvDQogICAgICAgIC0tIEl0ZW0gaXMgYSB0YWJsZSB3aXRoIGNoZWNrcw0KICAgICAgICBpZiAodHlwZShkYXRhKSA9PSAndGFibGUnKSB0aGVuDQogICAgICAgICAgICBsb2NhbCBpdGVtaWQgPSAodHlwZShkYXRhLmlkKSA9PSAnc3RyaW5nJykgYW5kIEl0ZW0uR2V0SUQoZGF0YS5pZCkgb3IgZGF0YS5pZA0KICAgICAgICAgICAgaXRlbXNbaXRlbWlkXSA9IHt9DQogICAgICAgICAgICBpZiAoZGF0YS5taW5jb3VudCB+PSBuaWwpIHRoZW4NCiAgICAgICAgICAgICAgICBpdGVtc1tpdGVtaWRdLm1pbmNvdW50ID0gZGF0YS5taW5jb3VudA0KICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBpZiAoZGF0YS5tYXhjb3VudCB+PSBuaWwpIHRoZW4NCiAgICAgICAgICAgICAgICBpdGVtc1tpdGVtaWRdLm1heGNvdW50ID0gZGF0YS5tYXhjb3VudA0KICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBpZiAoZGF0YS53YWxrYWJsZSB+PSBuaWwpIHRoZW4NCiAgICAgICAgICAgICAgICBpdGVtc1tpdGVtaWRdLndhbGthYmxlID0gZGF0YS53YWxrYWJsZQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIGxvY2FsIGl0ZW1pZCA9ICh0eXBlKGRhdGEpID09ICdzdHJpbmcnKSBhbmQgSXRlbS5HZXRJRChkYXRhKSBvciBkYXRhDQogICAgICAgICAgICBpdGVtc1tpdGVtaWRdID0ge30NCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgbG9jYWwgcG9zLCBwb3NpdGlvbnMgPSBTZWxmLlBvc2l0aW9uKCksIHt9DQogICAgZm9yIHggPSAtNywgNyBkbw0KICAgICAgICBmb3IgeSA9IC01LCA1IGRvDQogICAgICAgICAgICBsb2NhbCB4T2Zmc2V0LCB5T2Zmc2V0ID0gKHBvcy54ICsgeCksIChwb3MueSArIHkpDQogICAgICAgICAgICBsb2NhbCBtYXBJdGVtID0gTWFwLkdldFRvcFVzZUl0ZW0oeE9mZnNldCwgeU9mZnNldCwgcG9zLnopDQogICAgICAgICAgICBsb2NhbCBpdGVtID0gaXRlbXNbbWFwSXRlbS5pZF0NCiAgICAgICAgICAgIGlmIChpdGVtKSB0aGVuDQogICAgICAgICAgICAgICAgaWYgKGl0ZW0ubWluY291bnQgPT0gbmlsIG9yIG1hcEl0ZW0uY291bnQgPj0gaXRlbS5taW5jb3VudCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5tYXhjb3VudCA9PSBuaWwgb3IgbWFwSXRlbS5jb3VudCA8PSBpdGVtLm1heGNvdW50KSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS53YWxrYWJsZSA9PSBuaWwgb3IgTWFwLklzVGlsZVdhbGthYmxlKHhPZmZzZXQsIHlPZmZzZXQsIHBvcy56KSA9PSBpdGVtLndhbGthYmxlKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0KHBvc2l0aW9ucywge3ggPSB4T2Zmc2V0LCB5ID0geU9mZnNldCwgeiA9IHBvcy56fSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICByZXR1cm4gcG9zaXRpb25zDQplbmQNCg0KTWFwLlNvcnRQb3NpdGlvbnNCeURpc3RhbmNlID0gZnVuY3Rpb24oY2VudGVyUG9zLCBwb3NpdGlvbnMpDQogICAgbG9jYWwgc29ydGVkID0gcG9zaXRpb25zDQogICAgdGFibGUuc29ydChzb3J0ZWQsIGZ1bmN0aW9uKGEsIGIpDQogICAgICAgIHJldHVybiBnZXREaXN0YW5jZUJldHdlZW4oY2VudGVyUG9zLCBhKSA8IGdldERpc3RhbmNlQmV0d2VlbihjZW50ZXJQb3MsIGIpDQogICAgZW5kKQ0KICAgIHJldHVybiBzb3J0ZWQNCmVuZA0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLSBFbmQgTWFwIEZ1bmN0aW9ucw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi0tIFdhbGtlciBGdW5jdGlvbnMNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KV2Fsa2VyLkdldEFsbFdheXBvaW50cyA9IGZ1bmN0aW9uKCkNCiAgICBpZiAobm90IFNjcmlwdC5TZXR0aW5ncykgdGhlbg0KICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcigiJ1NjcmlwdC5Jbml0JyBoYXMgbm90IGJlZW4gY2FsbGVkLiIpDQogICAgZW5kDQogICAgbG9jYWwgd2Fsa2VyID0gU2NyaXB0LlNldHRpbmdzOkdldCgnV2Fsa2VyJykNCiAgICBpZiAod2Fsa2VyIGFuZCB3YWxrZXIuV2F5cG9pbnRMaXN0KSB0aGVuDQogICAgICAgIHJldHVybiB3YWxrZXIuV2F5cG9pbnRMaXN0DQogICAgZW5kDQogICAgcmV0dXJuIGZhbHNlDQplbmQNCg0KV2Fsa2VyLkdldFNwZWNpYWxBcmVhcyA9IGZ1bmN0aW9uKCkNCiAgICBpZiAobm90IFNjcmlwdC5TZXR0aW5ncykgdGhlbg0KICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcigiJ1NjcmlwdC5Jbml0JyBoYXMgbm90IGJlZW4gY2FsbGVkLiIpDQogICAgZW5kDQogICAgbG9jYWwgc3BlY2lhbCA9IFNjcmlwdC5TZXR0aW5nczpHZXQoJ1NwZWNpYWwgQXJlYXMnKQ0KICAgIGlmIChzcGVjaWFsIGFuZCBzcGVjaWFsLkFyZWFMaXN0KSB0aGVuDQogICAgICAgIHJldHVybiBzcGVjaWFsLkFyZWFMaXN0DQogICAgZW5kDQogICAgcmV0dXJuIGZhbHNlDQplbmQNCg0KV2Fsa2VyLlZlcmlmeVBvc2l0aW9uID0gZnVuY3Rpb24obGFiZWwsIG9wdGlvbikNCiAgICBsb2NhbCBwb3MgPSBXYWxrZXIuR2V0UG9zQWZ0ZXJMYWJlbChsYWJlbCkNCiAgICBsb2NhbCBzZWxmUG9zID0gU2VsZi5Qb3NpdGlvbigpDQogICAgbG9jYWwgZGlzdGFuY2UgPSBnZXREaXN0YW5jZUJldHdlZW4oc2VsZlBvcywgcG9zKQ0KICAgIGlmIChwb3MpIHRoZW4NCiAgICAgICAgLS0gbm8gb3B0aW9uIHNwZWNpZmllZCwgY29tcGFyZSBleGFjdCBwb3NpdGlvbg0KICAgICAgICBpZiAobm90IG9wdGlvbiBhbmQgZGlzdGFuY2UgPCAxIGFuZCBzZWxmUG9zLnogPT0gcG9zLnopIHRoZW4NCiAgICAgICAgICAgIC0tY29uc29sZS5sb2coKCdWZXJpZmllZCBleGFjdCBwb3NpdGlvbi4gKCVxKScpOmZvcm1hdChsYWJlbCkpDQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAtLSBvcHRpb24gKD0pIHNwZWNpZmllZCwgY2hlY2sgZm9yIGhpZ2hlciB6IGF4aXMuDQogICAgICAgIGVsc2VpZiAob3B0aW9uID09ICc9JyBhbmQgc2VsZlBvcy56ID09IHBvcy56KSB0aGVuDQogICAgICAgICAgICAtLWNvbnNvbGUubG9nKCgnVmVyaWZpZWQgZmxvb3IuICglcSknKTpmb3JtYXQobGFiZWwpKQ0KICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgLS0gb3B0aW9uICgtKSBzcGVjaWZpZWQsIGNoZWNrIGZvciBoaWdoZXIgeiBheGlzLg0KICAgICAgICBlbHNlaWYgKG9wdGlvbiA9PSAnLScgYW5kIHNlbGZQb3MueiA+IHBvcy56KSB0aGVuDQogICAgICAgICAgICAtLWNvbnNvbGUubG9nKCgnVmVyaWZpZWQgZGVzY2VudC4gKCVxKScpOmZvcm1hdChsYWJlbCkpDQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAtLSBvcHRpb24gKCspIHNwZWNpZmllZCwgY2hlY2sgZm9yIGxvd2VyIHogYXhpcy4NCiAgICAgICAgZWxzZWlmIChvcHRpb24gPT0gJysnIGFuZCBzZWxmUG9zLnogPCBwb3MueikgdGhlbg0KICAgICAgICAgICAgLS1jb25zb2xlLmxvZygoJ1ZlcmlmaWVkIGFzY2VudC4gKCVxKScpOmZvcm1hdChsYWJlbCkpDQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAtLSBvdGhlciBsb25nIG9wdGlvbiBzcGVjaWZpZWQsIHByb2JhYmx5IHJhbmdlLg0KICAgICAgICBlbHNlaWYgKG9wdGlvbiBhbmQgb3B0aW9uOmxlbigpID4gMSkgdGhlbg0KICAgICAgICAgICAgbG9jYWwgb3BlcmF0b3IgPSBvcHRpb246c3ViKDEsMSkNCiAgICAgICAgICAgIGxvY2FsIHZhbHVlID0gdG9udW1iZXIob3B0aW9uOnN1YigyKSkNCiAgICAgICAgICAgIC0tIGlmIHZhbHVlIGlzIGEgbnVtYmVyDQogICAgICAgICAgICBpZiAodmFsdWUpIHRoZW4NCiAgICAgICAgICAgICAgICBsb2NhbCBtZWV0c1JhbmdlID0gZmFsc2UNCiAgICAgICAgICAgICAgICBpZiAob3BlcmF0b3IgPT0gJz4nKSB0aGVuDQogICAgICAgICAgICAgICAgICAgIG1lZXRzUmFuZ2UgPSAoZGlzdGFuY2UgPiB2YWx1ZSkNCiAgICAgICAgICAgICAgICBlbHNlaWYgKG9wZXJhdG9yID09ICc8JykgdGhlbg0KICAgICAgICAgICAgICAgICAgICBtZWV0c1JhbmdlID0gKGRpc3RhbmNlIDwgdmFsdWUpDQogICAgICAgICAgICAgICAgZWxzZWlmIChvcGVyYXRvciA9PSAnPScpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgbWVldHNSYW5nZSA9IChkaXN0YW5jZSA9PSB2YWx1ZSkNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBpZiAobWVldHNSYW5nZSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAtLWNvbnNvbGUubG9nKCgnVmVyaWZpZWQgcG9zaXRpb24gcmFuZ2UuICglcSknKTpmb3JtYXQobGFiZWwpKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIGNvbnNvbGUud2FybigoJ0ZhaWxlZCBsYWJlbCAlcSwgdHJ5aW5nIGFnYWluLiBbRGlzdGFuY2U6ICVkU1FNICB8ICBGbG9vcjogJWQ+JWRdJyk6Zm9ybWF0KGxhYmVsLCBkaXN0YW5jZSwgcG9zLnosIHNlbGZQb3MueikpDQogICAgV2Fsa2VyLkdvdG8obGFiZWwpDQogICAgcmV0dXJuIGZhbHNlDQplbmQNCg0KV2Fsa2VyLkdldE5lZWRlZFRvb2xzID0gZnVuY3Rpb24oKQ0KICAgIGxvY2FsIHRvb2xzID0ge3BpY2s9ZmFsc2UsIHNob3ZlbD1mYWxzZSwgcm9wZT1mYWxzZX0NCiAgICBsb2NhbCB3YXlwb2ludHMgPSBXYWxrZXIuR2V0QWxsV2F5cG9pbnRzKCkNCiAgICBpZiAobm90IHdheXBvaW50cykgdGhlbg0KICAgICAgICByZXR1cm4gdG9vbHMNCiAgICBlbmQNCiAgICBmb3IgaSA9IDEsICN3YXlwb2ludHMgZG8NCiAgICAgICAgaWYgKG5vdCB0b29scy5yb3BlIGFuZCB3YXlwb2ludHNbaV0udGFnID09ICczJykgdGhlbg0KICAgICAgICAgICAgdG9vbHMucm9wZSA9IHRydWUNCiAgICAgICAgZWxzZWlmIChub3QgdG9vbHMuc2hvdmVsIGFuZCB3YXlwb2ludHNbaV0udGFnID09ICc0JykgdGhlbg0KICAgICAgICAgICAgdG9vbHMuc2hvdmVsID0gdHJ1ZQ0KICAgICAgICBlbHNlaWYgKG5vdCB0b29scy5waWNrIGFuZCB3YXlwb2ludHNbaV0udGFnID09ICcyNTUnIGFuZCB3YXlwb2ludHNbaV0udGFnID09ICcyNTUnIGFuZCB3YXlwb2ludHNbaV0udGV4dDpzcGxpdCgnfCcpWzFdID09ICdwaWNrJykgdGhlbg0KICAgICAgICAgICAgdG9vbHMucGljayA9IHRydWUNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgcmV0dXJuIHRvb2xzDQplbmQNCg0KV2Fsa2VyLkxhYmVsRXhpc3RzID0gZnVuY3Rpb24obGFiZWwpDQogICAgd2F5cG9pbnRzID0gd2F5cG9pbnRzIG9yIFdhbGtlci5HZXRBbGxXYXlwb2ludHMoKQ0KICAgIGlmIChub3Qgd2F5cG9pbnRzKSB0aGVuDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZA0KICAgIGZvciBpID0gMSwgI3dheXBvaW50cyBkbw0KICAgICAgICBpZiAod2F5cG9pbnRzW2ldLnRleHQgPT0gKGxhYmVsIC4uICc6JykpIHRoZW4NCiAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIHJldHVybiBmYWxzZQ0KZW5kDQoNCldhbGtlci5HZXRQb3NBZnRlckxhYmVsID0gZnVuY3Rpb24obGFiZWwsIHdheXBvaW50cywgaW5kZXgpDQogICAgd2F5cG9pbnRzID0gd2F5cG9pbnRzIG9yIFdhbGtlci5HZXRBbGxXYXlwb2ludHMoKQ0KICAgIGlmIChub3Qgd2F5cG9pbnRzKSB0aGVuDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZA0KDQogICAgbG9jYWwgZm91bmRMYWJlbCA9IGluZGV4IGFuZCB0cnVlIG9yIGZhbHNlDQogICAgbG9jYWwgc3RhcnRJbmRleCA9IGluZGV4IG9yIDENCiAgICBmb3IgaSA9IHN0YXJ0SW5kZXgsICN3YXlwb2ludHMgZG8NCiAgICAgICAgd2F5cG9pbnQgPSB3YXlwb2ludHNbaV0NCiAgICAgICAgLS0gRmluZCB0aGUgc3RhcnRpbmcgcG9zaXRpb24gaWYgd2UgaGF2ZW4ndCBhbHJlYWR5DQogICAgICAgIGlmIChub3QgZm91bmRMYWJlbCBhbmQgd2F5cG9pbnQudGV4dCA9PSAobGFiZWwgLi4gJzonKSkgdGhlbg0KICAgICAgICAgICAgZm91bmRMYWJlbCA9IHRydWUNCiAgICAgICAgZW5kDQogICAgICAgIC0tIEZpbmQgdGhlIHJlbGF0ZWQgc3RhbmQgcG9zaXRpb24gYWZ0ZXIgd2UgZmluZCB0aGUgbGFiZWwNCiAgICAgICAgaWYgKGZvdW5kTGFiZWwgYW5kIHRvbnVtYmVyKHdheXBvaW50LnRhZykgPCAxMCkgdGhlbg0KICAgICAgICAgICAgbG9jYWwgcG9zID0gZ2V0UG9zRnJvbVN0cmluZyh3YXlwb2ludC50ZXh0KQ0KICAgICAgICAgICAgcmV0dXJuIHBvcy54ID4gMCBhbmQgcG9zIG9yIGZhbHNlDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIHJldHVybiBmYWxzZQ0KZW5kDQoNCldhbGtlci5HZXRMYWJlbEJ5UGF0aE5hbWUgPSBmdW5jdGlvbihwYXRoLCBzdWJwYXRoLCBzdWJpZCkNCiAgICBsb2NhbCB3YXlwb2ludHMgPSBXYWxrZXIuR2V0QWxsV2F5cG9pbnRzKCkNCiAgICBpZiAobm90IHdheXBvaW50cykgdGhlbg0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICBlbmQNCiAgICBmb3IgaSA9IDEsICN3YXlwb2ludHMgZG8NCiAgICAgICAgaWYgKHdheXBvaW50c1tpXS50YWcgPT0gJzI1NScpIHRoZW4NCiAgICAgICAgICAgIGxvY2FsIGxhYmVsID0gdHJpbUxhYmVsKHdheXBvaW50c1tpXS50ZXh0KQ0KICAgICAgICAgICAgbG9jYWwgbGFiZWxEYXRhID0gbGFiZWw6c3BsaXQoJ3wnKQ0KICAgICAgICAgICAgaWYgKCNsYWJlbERhdGEgPiAxIGFuZCBsYWJlbERhdGFbMV0gPT0gcGF0aCBhbmQgbGFiZWxEYXRhWzJdID09IHN1YnBhdGggYW5kIChub3Qgc3ViaWQgb3Igc3ViaWQgPT0gbGFiZWxEYXRhWzNdKSkgdGhlbg0KICAgICAgICAgICAgICAgIHJldHVybiBsYWJlbA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIHJldHVybiBmYWxzZQ0KZW5kDQoNCldhbGtlci5HZXRTdGFydFBvc0xhYmVscyA9IGZ1bmN0aW9uKGFsdFRleHQpDQogICAgbG9jYWwgc3RhcnRMYWJlbCA9IGFsdFRleHQgb3IgJ3N0YXJ0Jw0KICAgIGxvY2FsIHdheXBvaW50cyA9IFdhbGtlci5HZXRBbGxXYXlwb2ludHMoKQ0KICAgIGlmIChub3Qgd2F5cG9pbnRzKSB0aGVuDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZA0KICAgIGxvY2FsIGxhYmVscyA9IHt9DQogICAgZm9yIGkgPSAxLCAjd2F5cG9pbnRzIGRvDQogICAgICAgIGlmICh3YXlwb2ludHNbaV0udGFnID09ICcyNTUnKSB0aGVuDQogICAgICAgICAgICBsb2NhbCBsYWJlbERhdGEgPSB3YXlwb2ludHNbaV0udGV4dDpzcGxpdCgnfCcpDQogICAgICAgICAgICBpZiAoI2xhYmVsRGF0YSA+IDEgYW5kIGxhYmVsRGF0YVsxXSA9PSBzdGFydExhYmVsIGFuZCBsYWJlbERhdGFbMl0gfj0gJ0VuZDonKSB0aGVuDQogICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0KGxhYmVscywgdHJpbUxhYmVsKHdheXBvaW50c1tpXS50ZXh0KSkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICByZXR1cm4gbGFiZWxzDQplbmQNCg0KV2Fsa2VyLkdldENsb3Nlc3RMYWJlbCA9IGZ1bmN0aW9uKG11bHRpRmxvb3IsIC4uLikNCiAgICBsb2NhbCB3YXlwb2ludHMgPSBXYWxrZXIuR2V0QWxsV2F5cG9pbnRzKCkNCiAgICBpZiAobm90IHdheXBvaW50cykgdGhlbg0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICBlbmQNCiAgICBsb2NhbCBwb3NpdGlvbnMgPSB7fQ0KICAgIGxvY2FsIHNlbGZQb3MgPSBTZWxmLlBvc2l0aW9uKCkNCiAgICBmb3IgaSA9IDEsICN3YXlwb2ludHMgZG8NCiAgICAgICAgbG9jYWwgbGFiZWwgPSB0cmltTGFiZWwod2F5cG9pbnRzW2ldLnRleHQpDQogICAgICAgIGlmICh3YXlwb2ludHNbaV0udGFnID09ICcyNTUnIGFuZCAoI2FyZyA8PSAwIG9yIHRhYmxlLmNvbnRhaW5zKGFyZywgbGFiZWwpKSkgdGhlbg0KICAgICAgICAgICAgbG9jYWwgcG9zID0gV2Fsa2VyLkdldFBvc0FmdGVyTGFiZWwobmlsLCB3YXlwb2ludHMsIGkpDQogICAgICAgICAgICBpZiAocG9zIGFuZCAobXVsdGlGbG9vciBvciBzZWxmUG9zLnogPT0gcG9zLnopKSB0aGVuDQogICAgICAgICAgICAgICAgcG9zLmxhYmVsID0gbGFiZWwNCiAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnQocG9zaXRpb25zLCBwb3MpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgcG9zaXRpb25zID0gTWFwLlNvcnRQb3NpdGlvbnNCeURpc3RhbmNlKHNlbGZQb3MsIHBvc2l0aW9ucykNCiAgICByZXR1cm4gcG9zaXRpb25zWzFdIGFuZCBwb3NpdGlvbnNbMV0ubGFiZWwgb3IgZmFsc2UsIHBvc2l0aW9uc1sxXQ0KZW5kDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi0tIEVuZCBXYWxrZXIgRnVuY3Rpb25zDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLS0gTG9vdCBGdW5jdGlvbnMNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KTG9vdGVyLkdldEFsbExvb3RJdGVtcyA9IGZ1bmN0aW9uKCkNCiAgICBpZiAobm90IFNjcmlwdC5TZXR0aW5ncykgdGhlbg0KICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcigiJ1NjcmlwdC5Jbml0JyBoYXMgbm90IGJlZW4gY2FsbGVkLiIpDQogICAgZW5kDQogICAgbG9jYWwgbG9vdGVyID0gU2NyaXB0LlNldHRpbmdzOkdldCgnTG9vdGVyJykNCiAgICBpZiAobm90IGxvb3RlciBvciBub3QgbG9vdGVyLkxvb3RMaXN0KSB0aGVuDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZA0KDQogICAgbG9jYWwgYmFja3BhY2tzID0ge30NCiAgICBsb2NhbCBpZ25vcmVMb290ID0gezMwMzEsMzAzNSwzMDQzfQ0KICAgIGZvciBfLCBsb290RGF0YSBpbiBpcGFpcnMobG9vdGVyLkxvb3RMaXN0KSBkbw0KICAgICAgICBsb2NhbCBicCA9IHRvbnVtYmVyKGxvb3REYXRhLmFjdGlvbikNCiAgICAgICAgbG9jYWwgbG9vdCA9IHRvbnVtYmVyKGxvb3REYXRhLklEKQ0KICAgICAgICBpZiAoYnAgPCAxNiBhbmQgbm90IHRhYmxlLmNvbnRhaW5zKGlnbm9yZUxvb3QsIGxvb3QpKSB0aGVuDQogICAgICAgICAgICBpZiAobm90IGJhY2twYWNrc1ticF0pIHRoZW4NCiAgICAgICAgICAgICAgICBiYWNrcGFja3NbYnBdID0ge30NCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgdGFibGUuaW5zZXJ0KGJhY2twYWNrc1ticF0sIGxvb3QpDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgcmV0dXJuIGJhY2twYWNrcw0KZW5kDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi0tIEVuZCBMb290IEZ1bmN0aW9ucw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi0tIFRhcmdldGluZyBGdW5jdGlvbnMNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KVGFyZ2V0aW5nLkdldFRhcmdldHNCeVByaW9yaXR5ID0gZnVuY3Rpb24ocHJpbykNCiAgICBpZiAobm90IFNjcmlwdC5TZXR0aW5ncykgdGhlbg0KICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcigiJ1NjcmlwdC5Jbml0JyBoYXMgbm90IGJlZW4gY2FsbGVkLiIpDQogICAgZW5kDQogICAgbG9jYWwgdGFyZ2V0aW5nID0gU2NyaXB0LlNldHRpbmdzOkdldCgnVGFyZ2V0aW5nJykNCiAgICBpZiAobm90IHRhcmdldGluZyBvciBub3QgdGFyZ2V0aW5nLlRhcmdldGluZ0xpc3QpIHRoZW4NCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgZW5kDQoNCiAgICBsb2NhbCB0YXJnZXRzID0ge30NCiAgICBmb3IgXywgZGF0YSBpbiBpcGFpcnModGFyZ2V0aW5nLlRhcmdldGluZ0xpc3QpIGRvDQogICAgICAgIGxvY2FsIGN1clByaW8gPSB0b251bWJlcihkYXRhLnByaW8pDQogICAgICAgIGlmIChjdXJQcmlvID49IHByaW8gYW5kIChjdXJQcmlvIH49IDEwIG9yIHByaW8gPT0gMTApKSB0aGVuDQogICAgICAgICAgICB0YWJsZS5pbnNlcnQodGFyZ2V0cywgZGF0YS50eXBlKQ0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIHJldHVybiB0YXJnZXRzDQplbmQNCg0KVGFyZ2V0aW5nLkVuYWJsZUFsbFN0dWNrID0gZnVuY3Rpb24oZW5hYmxlKQ0KICAgIGlmIChub3QgU2NyaXB0LlNldHRpbmdzKSB0aGVuDQogICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKCInU2NyaXB0LkluaXQnIGhhcyBub3QgYmVlbiBjYWxsZWQuIikNCiAgICBlbmQNCg0KICAgIC0tIERpc2FibGluZyBhbGwgc3R1Y2sgKHJlc2V0dGluZyB0byBub3JtYWwgdGFyZ2V0ZXIpDQogICAgaWYgKG5vdCBlbmFibGUpIHRoZW4NCiAgICAgICAgbG9hZFNldHRpbmdzKFNjcmlwdC5TZXR0aW5ncy5fbmFtZSwgJ1NwZWNpYWwgQXJlYXMnKQ0KICAgICAgICB3YWl0KDUwKQ0KICAgICAgICBsb2FkU2V0dGluZ3MoU2NyaXB0LlNldHRpbmdzLl9uYW1lLCAnVGFyZ2V0aW5nJykNCiAgICAgICAgd2FpdCg1MCkNCiAgICAgICAgcHJpbnQoJycpDQogICAgICAgIFRhcmdldGluZy5TdG9wKCkNCiAgICAgICAgVGFyZ2V0aW5nLlN0YXJ0KCkNCiAgICAgICAgTG9vdGVyLlN0YXJ0KCkNCiAgICAgICAgU2NyaXB0LmlzSW5TdHVja01vZGUgPSBmYWxzZQ0KICAgICAgICByZXR1cm4NCiAgICBlbmQNCg0KICAgIC0tIE5vIHRhcmdldGluZyBsaXN0IGRldGVjdGVkDQogICAgbG9jYWwgdGFyZ2V0aW5nID0gU2NyaXB0LlNldHRpbmdzOkdldCgnVGFyZ2V0aW5nJykNCiAgICBpZiAobm90IHRhcmdldGluZyBvciBub3QgdGFyZ2V0aW5nLlRhcmdldGluZ0xpc3QpIHRoZW4NCiAgICAgICAgVGFyZ2V0aW5nLlN0YXJ0KCkNCiAgICAgICAgTG9vdGVyLlN0YXJ0KCkNCiAgICAgICAgcmV0dXJuDQogICAgZW5kDQoNCiAgICBMb290ZXIuU3RvcCgpDQogICAgVGFyZ2V0aW5nLlN0b3AoKQ0KICAgIFNlbGYuU3RvcEF0dGFjaygpDQoNCiAgICAtLSBMb29wIHRocm91Z2ggdGFyZ2V0IGxpc3QsIHJlY29yZCBvbmUgb2YgZXZlcnkgbW9uc3Rlcg0KICAgIGxvY2FsIG1vbnN0ZXJMaXN0ID0ge30NCiAgICBmb3IgXywgZGF0YSBpbiBpcGFpcnModGFyZ2V0aW5nLlRhcmdldGluZ0xpc3QpIGRvDQogICAgICAgIG1vbnN0ZXJMaXN0W2RhdGEudHlwZV0gPSAxDQogICAgZW5kDQoNCiAgICAtLSBTZXQgdGhlIGlmc3R1Y2sgeG1sDQogICAgbG9jYWwgdGFyZ2V0WE1MID0gW1s8cGFuZWwgbmFtZT0iVGFyZ2V0aW5nIj48Y29udHJvbCBuYW1lPSJUYXJnZXRpbmdMaXN0Ij5dXQ0KICAgIGZvciBuYW1lLCBfIGluIHBhaXJzKG1vbnN0ZXJMaXN0KSBkbw0KICAgICAgICB0YXJnZXRYTUwgPSB0YXJnZXRYTUwgLi4gKFtbPGl0ZW0gdHlwZT0iJXMiIHNwbD0iRXhvcmkgSHVyIiBybmU9IjMxNTgiIGNocz0iMCIgYXRrPSIwIiBtYXg9IjEwMCIgbWluPSIwIiBwcmlvPSIxMCIgcHJveD0iNyIgY291bnQ9IjEiLz5dXSk6Zm9ybWF0KG5hbWUpDQogICAgZW5kDQogICAgdGFyZ2V0WE1MID0gdGFyZ2V0WE1MIC4uIFtbPC9jb250cm9sPjwvcGFuZWw+PHBhbmVsIG5hbWU9IlNwZWNpYWwgQXJlYXMiPjxjb250cm9sIG5hbWU9IkFyZWFMaXN0Ij48L2NvbnRyb2w+PC9wYW5lbD5dXQ0KDQogICAgLS0gU2F2ZSBhbmQgbG9hZCBpZnN0dWNrIHhtbA0KCWxvY2FsIGZpbGVuYW1lID0gJ3RtcC10YXJnZXRzLScgLi4gU2VsZi5OYW1lKCk6bG93ZXIoKQ0KICAgIGxvY2FsIGZpbGUgPSBpby5vcGVuKCcuLi9TZXR0aW5ncy8nLi4gZmlsZW5hbWUgLi4nLnhic3QnLCAidysiKQ0KICAgIGlmIChmaWxlKSB0aGVuDQogICAgICAgIGZpbGU6d3JpdGUodGFyZ2V0WE1MKQ0KICAgICAgICBmaWxlOmNsb3NlKCkNCiAgICAgICAgbG9hZFNldHRpbmdzKGZpbGVuYW1lLCAiQWxsIikNCiAgICAgICAgd2FpdCg1MCkNCiAgICAgICAgVGFyZ2V0aW5nLlN0b3AoKQ0KICAgICAgICBUYXJnZXRpbmcuU3RhcnQoKQ0KICAgICAgICBMb290ZXIuU3RvcCgpDQogICAgICAgIHByaW50KCcnKQ0KICAgICAgICBTY3JpcHQuaXNJblN0dWNrTW9kZSA9IHRydWUNCiAgICBlbmQNCg0KICAgIFRhcmdldGluZy5TdGFydCgpDQplbmQNCg0KVGFyZ2V0aW5nLmlzQW50aUx1cmVUaHJlc2hvbGQgPSBmdW5jdGlvbigpDQogICAgaWYgKG5vdCBfU3Bhd24uQW50aUx1cmVBbW91bnQgb3IgX1NwYXduLkFudGlMdXJlQW1vdW50IDw9IDAgb3Igbm90IF9TcGF3bi5BbnRpTHVyZUNyZWF0dXJlcykgdGhlbg0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICBlbmQNCg0KICAgIGxvY2FsIG1vbnN0ZXJzID0gX1NwYXduLkFudGlMdXJlQ3JlYXR1cmVzOnNwbGl0KCcsJykNCiAgICBmb3IgaSA9IDEsICNtb25zdGVycyBkbw0KICAgICAgICBtb25zdGVyc1tpXSA9IG1vbnN0ZXJzW2ldOnRyaW0oKTpsb3dlcigpDQogICAgZW5kDQoNCiAgICBsb2NhbCBjb3VudCA9IDANCiAgICBsb2NhbCBzcGVjdGF0b3JzID0gU2VsZi5HZXRTcGVjdGF0b3JzKGZhbHNlKQ0KICAgIGZvciBfLCBjaWQgaW4gaXBhaXJzKHNwZWN0YXRvcnMpIGRvDQogICAgICAgIGlmIChjaWQ6RGlzdGFuY2VGcm9tU2VsZigpIDw9IDcgYW5kIGNpZDppc01vbnN0ZXIoKSBhbmQgdGFibGUuY29udGFpbnMobW9uc3RlcnMsIGNpZDpOYW1lKCk6bG93ZXIoKSkpIHRoZW4NCiAgICAgICAgICAgIGNvdW50ID0gY291bnQgKyAxDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgcmV0dXJuIGNvdW50ID49IF9TcGF3bi5BbnRpTHVyZUFtb3VudA0KZW5kDQoNClRhcmdldGluZy5pc0x1cmVUaHJlc2hvbGQgPSBmdW5jdGlvbigpDQogICAgaWYgKG5vdCBfU3Bhd24uTHVyZUFtb3VudCBvciBfU3Bhd24uTHVyZUFtb3VudCA8PSAwIG9yIG5vdCBfU3Bhd24uTHVyZUNyZWF0dXJlcykgdGhlbg0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICBlbmQNCg0KICAgIGxvY2FsIG1vbnN0ZXJzID0gX1NwYXduLkx1cmVDcmVhdHVyZXM6c3BsaXQoJywnKQ0KICAgIGZvciBpID0gMSwgI21vbnN0ZXJzIGRvDQogICAgICAgIG1vbnN0ZXJzW2ldID0gbW9uc3RlcnNbaV06dHJpbSgpOmxvd2VyKCkNCiAgICBlbmQNCg0KICAgIGxvY2FsIGNvdW50ID0gMA0KICAgIGxvY2FsIHNwZWN0YXRvcnMgPSBTZWxmLkdldFNwZWN0YXRvcnMoZmFsc2UpDQogICAgZm9yIF8sIGNpZCBpbiBpcGFpcnMoc3BlY3RhdG9ycykgZG8NCiAgICAgICAgaWYgKGNpZDpEaXN0YW5jZUZyb21TZWxmKCkgPD0gNyBhbmQgY2lkOmlzTW9uc3RlcigpIGFuZCB0YWJsZS5jb250YWlucyhtb25zdGVycywgY2lkOk5hbWUoKTpsb3dlcigpKSkgdGhlbg0KICAgICAgICAgICAgY291bnQgPSBjb3VudCArIDENCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICByZXR1cm4gY291bnQgPj0gX1NwYXduLkx1cmVBbW91bnQNCmVuZA0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLSBFbmQgTG9vdCBGdW5jdGlvbnMNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLSBTZXR0aW5ncyBGdW5jdGlvbnMNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KU2V0dGluZ3MgPSB7fQ0KU2V0dGluZ3MuX19pbmRleCA9IFNldHRpbmdzDQpmdW5jdGlvbiBTZXR0aW5ncy5OZXcobmFtZSkNCiAgICBsb2NhbCBmaWxlID0gaW8ub3BlbigoIi4uXFxTZXR0aW5nc1xcJXMueGJzdCIpOmZvcm1hdChuYW1lKSwgInIiKQ0KICAgIGlmIChmaWxlID09IG5pbCkgdGhlbg0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICBlbmQNCg0KICAgIGxvY2FsIGMgPSB7fQ0KICAgIHNldG1ldGF0YWJsZShjLCBTZXR0aW5ncykNCiAgICBsb2NhbCB4bWwgPSBmaWxlOnJlYWQoIiphbGwiKQ0KICAgIGZpbGU6Y2xvc2UoKQ0KDQogICAgYy5fbmFtZSA9IG5hbWUNCiAgICBjLl9kYXRhID0geG1sDQogICAgcmV0dXJuIGMNCmVuZA0KDQpmdW5jdGlvbiBTZXR0aW5nczpHZXQocGFuZWwpDQogICAgc2VsZiA9ICh0eXBlKHNlbGYpID09ICd0YWJsZScpIGFuZCBzZWxmIG9yIFNldHRpbmdzLk5ldyhzZWxmKQ0KICAgIGxvY2FsIHBhcnNlQXJndW1lbnRzID0gZnVuY3Rpb24ocykgDQogICAgICAgIGxvY2FsIGFyZyA9IHt9DQogICAgICAgIHN0cmluZy5nc3ViKHMsICIoJXcrKT0oW1wiJ10pKC4tKSUyIiwgZnVuY3Rpb24gKHcsIF8sIGEpDQogICAgICAgICAgICBhcmdbd10gPSBhDQogICAgICAgIGVuZCkNCiAgICAgICAgcmV0dXJuIGFyZw0KICAgIGVuZA0KICAgIGxvY2FsIHRibCwgdG1wLCB4bWwgPSB7fSwge30sIHNlbGYuX2RhdGENCiAgICBpLCBjdXIgPSAxLCB7cGFuZWw9bmlsLCBjb250cm9sPW5pbH0NCiAgICB3aGlsZSh0cnVlKWRvDQogICAgICAgIGxvY2FsIGlTdGFydCwgaUVuZCwgY2xvc2VkLCBsYWJlbCwgZSwgZW1wdHkgPSBzdHJpbmcuZmluZCh4bWwsICI8KCUvPykoWyV3Ol0rKSguLSkoJS8/KT4iLCBpKQ0KICAgICAgICBpZiAobm90IGlTdGFydCkgdGhlbiBicmVhayBlbmQNCiAgICAgICAgbG9jYWwgYXJnID0gcGFyc2VBcmd1bWVudHMoZSkNCiAgICAgICAgaWYgKGVtcHR5ID09ICcvJyBhbmQgdGJsW2N1ci5wYW5lbF0pIHRoZW4gLS0gY29udGFpbnMgbm8gaW5uZXIgdmFsdWUgKCA8aXRlbSBuYW1lPSJleCIgLz4gKQ0KICAgICAgICAgICAgbG9jYWwgYXJnID0gcGFyc2VBcmd1bWVudHMoZSkNCiAgICAgICAgICAgIGxvY2FsIHRhcmdldCA9IChjdXIuY29udHJvbCB+PSBuaWwpIGFuZCB0YmxbY3VyLnBhbmVsXVtjdXIuY29udHJvbF0gb3IgdGJsW2N1ci5wYW5lbF0NCiAgICAgICAgICAgIGlmIChhcmcubmFtZSkgdGhlbg0KICAgICAgICAgICAgICAgIHRhcmdldFthcmcubmFtZV0gPSBhcmcudmFsdWUNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnQodGFyZ2V0LCBhcmcpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZWxzZWlmIChjbG9zZWQgPT0gJycgYW5kIGFyZy5uYW1lKSB0aGVuIC0tIG5ldyBlbGVtZW50IHN0YXJ0IHdpdGggcG9zc2libGUgY2hpbGRyZW4NCiAgICAgICAgICAgIGlmIChsYWJlbCA9PSAncGFuZWwnIGFuZCAoYXJnLm5hbWUgPT0gcGFuZWwgb3Igbm90IHBhbmVsKSkgdGhlbg0KICAgICAgICAgICAgICAgIHRibFthcmcubmFtZV0gPSB7fQ0KICAgICAgICAgICAgZWxzZWlmIChsYWJlbCA9PSAnY29udHJvbCcgYW5kIHRibFtjdXIucGFuZWxdKSB0aGVuDQogICAgICAgICAgICAgICAgdGJsW2N1ci5wYW5lbF1bYXJnLm5hbWVdID0ge30NCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgY3VyW2xhYmVsXSA9IGFyZy5uYW1lDQogICAgICAgIGVsc2UgLS0gY2xvc2UgdGFnICggPC9lbmQ+ICkNCiAgICAgICAgICAgIGN1cltsYWJlbF0gPSBuaWwNCiAgICAgICAgZW5kDQogICAgICAgIGkgPSBpRW5kICsgMQ0KICAgIGVuZA0KICAgIHJldHVybiBwYW5lbCBhbmQgdGJsW3BhbmVsXSBvciB0YmwNCmVuZA0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi0tIEVuZCBTZXR0aW5ncyBGdW5jdGlvbnMNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLSBDb250YWluZXIgRnVuY3Rpb25zDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCmZ1bmN0aW9uIENvbnRhaW5lcjpPcGVuQ2hpbGRyZW4oLi4uKQ0KICAgIHNlbGYgPSB0eXBlKHNlbGYpPT0ndGFibGUnIGFuZCBzZWxmIG9yIENvbnRhaW5lci5OZXcoc2VsZikNCiAgICANCiAgICBsb2NhbCBpdGVtcyA9IHt9DQogICAgZm9yIGksIGlkIGluIGlwYWlycyh7Li4ufSkgZG8NCiAgICAgICAgaWYgKHR5cGUoaWQpID09ICd0YWJsZScpIHRoZW4NCiAgICAgICAgICAgIGl0ZW1zW2ldID0ge0l0ZW0uR2V0SXRlbUlERnJvbUR1YWxJbnB1dChpZFsxXSksIGlkWzJdLCAoaWRbM10gb3IgZmFsc2UpfQ0KICAgICAgICBlbHNlDQogICAgICAgICAgICBpdGVtc1tpXSA9IHtJdGVtLkdldEl0ZW1JREZyb21EdWFsSW5wdXQoaWQpLCBmYWxzZSwgZmFsc2V9DQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIA0KICAgIGZvciBfLCBpZCBpbiBpcGFpcnMoaXRlbXMpIGRvDQogICAgICAgIGZvciBpID0gMCwgc2VsZjpJdGVtQ291bnQoKS0xIGRvDQogICAgICAgICAgICBsb2NhbCBpdGVtID0gc2VsZjpHZXRJdGVtRGF0YShpKQ0KICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT0gaWRbMV0pIHRoZW4NCiAgICAgICAgICAgICAgICBsb2NhbCBvcGVudG8gPSBDb250YWluZXIuR2V0RnJlZVNsb3QoKQ0KICAgICAgICAgICAgICAgIHdoaWxlIChzZWxmOlVzZUl0ZW0oaSwgaWRbM10pIH49IDEpIGRvIHdhaXQoMzAwKSBlbmQNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiAoaWRbMl0gPT0gdHJ1ZSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICB3YWl0KDUwMCkNCiAgICAgICAgICAgICAgICAgICAgQ29udGFpbmVyLk1pbmltaXplKG9wZW50bykNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICB3YWl0KDgwMCkNCiAgICBlbmQNCmVuZA0KDQpmdW5jdGlvbiBDb250YWluZXI6SXRlbUZ1bGxDb3VudCgpDQogICAgc2VsZiA9IHR5cGUoc2VsZik9PSd0YWJsZScgYW5kIHNlbGYgb3IgQ29udGFpbmVyLk5ldyhzZWxmKQ0KICAgIGxvY2FsIGNvdW50ID0gMA0KICAgIGZvciBzcG90ID0gMCwgc2VsZjpJdGVtQ291bnQoKS0xIGRvDQogICAgICAgIGNvdW50ID0gY291bnQgKyBtYXRoLm1heChzZWxmOkdldEl0ZW1EYXRhKHNwb3QpLmNvdW50LCAxKQ0KICAgIGVuZA0KICAgIHJldHVybiBjb3VudA0KZW5kDQoNCmZ1bmN0aW9uIENvbnRhaW5lcjpIYXNDYXNjYWRlQmFja3BhY2soKQ0KICAgIHNlbGYgPSB0eXBlKHNlbGYpPT0ndGFibGUnIGFuZCBzZWxmIG9yIENvbnRhaW5lci5OZXcoc2VsZikNCiAgICBsb2NhbCBzcG90ID0gc2VsZjpJdGVtQ291bnQoKSAtIDENCiAgICByZXR1cm4gSXRlbS5pc0NvbnRhaW5lcihzZWxmOkdldEl0ZW1EYXRhKHNwb3QpLmlkKQ0KZW5kDQoNCmZ1bmN0aW9uIENvbnRhaW5lcjpPcGVuQ2FzY2FkZSgpDQogICAgc2VsZiA9IHR5cGUoc2VsZik9PSd0YWJsZScgYW5kIHNlbGYgb3IgQ29udGFpbmVyLk5ldyhzZWxmKQ0KICAgIGlmIChub3Qgc2VsZjpIYXNDYXNjYWRlQmFja3BhY2soKSkgdGhlbg0KICAgICAgICByZXR1cm4gMA0KICAgIGVuZA0KICAgIGxvY2FsIHNwb3QgPSBzZWxmOkl0ZW1Db3VudCgpIC0gMQ0KICAgIGxvY2FsIHJldCA9IHNlbGY6VXNlSXRlbShzcG90LCB0cnVlKQ0KICAgIHJkbV9zbGVlcChXQUlUX0xPV01JRCkNCiAgICByZXR1cm4gcmV0DQplbmQNCg0KLS0gaXRlbWlkL2l0ZW1uYW1lDQotLSB7aXRlbWlkL2l0ZW1uYW1lLCBjb3VudCBvciAtMSwgb3ZlcnJpZGVEZXN0LCBwcmlvcml0eX0NCi0tIHsnKicsIC0xLCBvdmVycmlkZURlc3QsIHByaW9yaXR5fQ0KZnVuY3Rpb24gQ29udGFpbmVyOk1vdmVJdGVtcyhkZXN0Q29udGFpbmVyLCAuLi4pDQogICAgbG9jYWwgZGlzYWJsZVNvdXJjZUNhc2NhZGUgPSAodHlwZShzZWxmKX49J3RhYmxlJyBhbmQgc2VsZiA9PSAtMSkNCiAgICBzZWxmID0gdHlwZShzZWxmKT09J3RhYmxlJyBhbmQgc2VsZiBvciBDb250YWluZXIuTmV3KG5vdCBkaXNhYmxlU291cmNlQ2FzY2FkZSBhbmQgc2VsZiBvciAwKQ0KICAgIGxvY2FsIHBvc0Rlc3QgPSB0eXBlKGRlc3RDb250YWluZXIpID09ICd0YWJsZScNCiAgICBsb2NhbCBkZXN0Q29udCA9IHBvc0Rlc3QgYW5kIGRlc3RDb250YWluZXIgb3IgQ29udGFpbmVyLk5ldyhkZXN0Q29udGFpbmVyKQ0KICAgIGxvY2FsIGl0ZW1MaXN0LCBpdGVtTWF0Y2hlcyA9IHt9LCB7fQ0KICAgIGxvY2FsIHdpbGRjYXJkRW5hYmxlZCA9IGZhbHNlDQogICAgbG9jYWwgd2lsZGNhcmREYXRhID0ge30NCg0KICAgIC0tIFNraXAgRW50aXJlIEZ1bmN0aW9uIGlmIGRlc3RpbmF0aW9uIGlzIHNlbGYsIG9yIGEgYnAgZG9lc24ndCBleGlzdA0KICAgIGlmIChub3Qgc2VsZiBvciBub3QgZGVzdENvbnQgb3IgKG5vdCBwb3NEZXN0IGFuZCBzZWxmOkluZGV4KCkgPT0gZGVzdENvbnQ6SW5kZXgoKSkpIHRoZW4NCiAgICAgICAgcmV0dXJuDQogICAgZW5kDQoNCiAgICAtLSBSZW1vdmVEZXN0aW5hdGlvbkVudHJpZXM6IGNhbGwgdGhpcyBmdW5jdGlvbiB0byByZW1vdmUgZXZlcnkgZW50cnkgdGhhdCBkZXBvc2l0cyB0byBhIGNlcnRhaW4gaW5kZXgNCiAgICBmdW5jdGlvbiByZW1vdmVEZXN0aW5hdGlvbkVudHJpZXMoaW5kZXgpDQogICAgICAgIGZvciBpdGVtaWQsIGRhdGEgaW4gcGFpcnMoaXRlbUxpc3QpIGRvDQogICAgICAgICAgICBpZiAoZGF0YVsyXTpJbmRleCgpID09IGluZGV4KSB0aGVuDQogICAgICAgICAgICAgICAgaXRlbUxpc3RbaXRlbWlkXSA9IG5pbA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIC0tIEVuZCBSZW1vdmVEZXN0aW5hdGlvbkVudHJpZXMNCg0KICAgIC0tIENoZWNrTWF0Y2hlczogY2FsbCB0aGlzIGZ1bmN0aW9uIGFmdGVyIGVhY2ggc3VjY2Vzc2Z1bCBtb3ZlIChzbG90cyBvZmZzZXQpDQogICAgZnVuY3Rpb24gY2hlY2tNYXRjaGVzKCkNCiAgICAgICAgaXRlbU1hdGNoZXMgPSB7fQ0KICAgICAgICBsb2NhbCBsYXN0U3BvdCA9IHNlbGY6SXRlbUNvdW50KCktMQ0KICAgICAgICBmb3Igc3BvdCA9IDAsIGxhc3RTcG90IGRvDQogICAgICAgICAgICBpZiAoc3BvdCA8IGxhc3RTcG90IG9yIG5vdCBJdGVtLmlzQ29udGFpbmVyKHNlbGY6R2V0SXRlbURhdGEoc3BvdCkuaWQpKSB0aGVuDQogICAgICAgICAgICAgICAgbG9jYWwgaXRlbSA9IHNlbGY6R2V0SXRlbURhdGEoc3BvdCkNCiAgICAgICAgICAgICAgICAtLSBXaWxkY2FyZCBlbmFibGVkLCBjcmVhdGUgbWF0Y2ggaWYgbmVlZGVkDQogICAgICAgICAgICAgICAgaWYgKHdpbGRjYXJkRW5hYmxlZCBhbmQgI3dpbGRjYXJkRGF0YSA+IDAgYW5kIG5vdCBpdGVtTGlzdFtpdGVtLmlkXSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBpdGVtTGlzdFtpdGVtLmlkXSA9IHdpbGRjYXJkRGF0YQ0KICAgICAgICAgICAgICAgIGVuZA0KDQogICAgICAgICAgICAgICAgLS0gTWF0Y2ggZXhpc3RzIGluIGl0ZW1MaXN0DQogICAgICAgICAgICAgICAgaWYgKGl0ZW1MaXN0W2l0ZW0uaWRdKSB0aGVuDQogICAgICAgICAgICAgICAgICAgIC0tIEluaXRpYWxpemUgbWF0Y2ggdGJsIGlmIGRvZXNuJ3QgZXhpc3QNCiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdCBpdGVtTWF0Y2hlc1tpdGVtLmlkXSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgaXRlbU1hdGNoZXNbaXRlbS5pZF0gPSB7fQ0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgLS0gSW5zZXJ0IHRoaXMgc3BvdCBhcyBhIG1hdGNoIGZvciB0aGlzIGl0ZW1pZA0KICAgICAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnQoaXRlbU1hdGNoZXNbaXRlbS5pZF0sIHNwb3QpDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgLS0gRW5kIENoZWNrTWF0Y2hlcw0KDQogICAgLS0gQnVpbGQgaXRlbUxpc3QNCiAgICBmb3IgXywgZW50cnkgaW4gaXBhaXJzKGFyZykgZG8NCiAgICAgICAgLS0gRW50cnkgaGFzIG9wdGlvbnMNCiAgICAgICAgaWYgKHR5cGUoZW50cnkpID09ICd0YWJsZScpIHRoZW4NCiAgICAgICAgICAgIC0tIFdpbGRjYXJkDQogICAgICAgICAgICBpZiAoZW50cnlbMV0gPT0gJyonKSB0aGVuDQogICAgICAgICAgICAgICAgd2lsZGNhcmRFbmFibGVkID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIHdpbGRjYXJkRGF0YSA9IHsNCiAgICAgICAgICAgICAgICAgICAgZW50cnlbMl0gb3IgLTEsIC0tIGNvdW50DQogICAgICAgICAgICAgICAgICAgIGVudHJ5WzNdIGFuZCAodHlwZShlbnRyeVszXSkgPT0gJ3RhYmxlJyBhbmQgZW50cnlbM10gb3IgQ29udGFpbmVyLk5ldyhlbnRyeVszXSkpIG9yIGRlc3RDb250LCAtLSBkZXN0DQogICAgICAgICAgICAgICAgICAgIGVudHJ5WzRdIG9yIC0xIC0tIHByaW8NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgbG9jYWwgZW50cnlJRCA9IEl0ZW0uR2V0SXRlbUlERnJvbUR1YWxJbnB1dChlbnRyeVsxXSkNCiAgICAgICAgICAgICAgICBsb2NhbCBlbnRyeUNvdW50ID0gZW50cnlbMl0gb3IgLTENCiAgICAgICAgICAgICAgICBsb2NhbCBlbnRyeURlc3QgPSBlbnRyeVszXSBhbmQgKHR5cGUoZW50cnlbM10pID09ICd0YWJsZScgYW5kIGVudHJ5WzNdIG9yIENvbnRhaW5lci5OZXcoZW50cnlbM10pKSBvciBkZXN0Q29udA0KICAgICAgICAgICAgICAgIGxvY2FsIGVudHJ5UHJpbyA9IGVudHJ5WzRdIG9yIC0xDQogICAgICAgICAgICAgICAgaXRlbUxpc3RbZW50cnlJRF0gPSB7ZW50cnlDb3VudCwgZW50cnlEZXN0LCBlbnRyeVByaW99DQogICAgICAgICAgICBlbmQNCiAgICAgICAgLS0gRW50cnkgaXMgYSBzaW1wbGUgaXRlbWlkL25hbWUNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgaXRlbUxpc3RbSXRlbS5HZXRJdGVtSURGcm9tRHVhbElucHV0KGVudHJ5KV0gPSB7LTEsIGRlc3RDb250LCAtMSwgLTF9DQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIC0tIEVuZCBCdWlsZGluZyBpdGVtTGlzdA0KDQogICAgLS0gV2l0aGRyYXcgTWF0Y2hlcw0KICAgIGNoZWNrTWF0Y2hlcygpDQogICAgcmVwZWF0DQogICAgICAgIGxvY2FsIGNvbnRpbnVlID0gZmFsc2UNCiAgICAgICAgLS0gTG9vcCBvbmNlIHBlciByZXBlYXQgKHRvIGdldCBmaXJzdCBwYWlycykNCiAgICAgICAgZm9yIGl0ZW1pZCwgc3BvdHMgaW4gcGFpcnMoaXRlbU1hdGNoZXMpIGRvDQogICAgICAgICAgICBsb2NhbCBkZXN0ID0gaXRlbUxpc3RbaXRlbWlkXVsyXQ0KICAgICAgICAgICAgLS0gQ2hlY2sgaWYgZGVzdGluYXRpb24gaXMgZnVsbCwgaWYgc28gY2FzY2FkZSB0byBjaGlsZCBpZiBwb3NzaWJsZSAoU0tJUCBJRiBQT1NJVElPTikNCiAgICAgICAgICAgIGlmIChub3QgZGVzdC54IGFuZCBkZXN0OmlzRnVsbCgpKSB0aGVuDQogICAgICAgICAgICAgICAgLS0gQ291bGQgbm90IG9wZW4gZGVzdGluYXRpb24gZnVydGhlciwgcmVtb3ZlIGFsbCBlbnRyaWVzIGZvciB0aGlzIGRlc3RpbmF0aW9uDQogICAgICAgICAgICAgICAgaWYgKGRlc3Q6T3BlbkNhc2NhZGUoKSA9PSAwIGFuZCBkZXN0OmlzRnVsbCgpKSB0aGVuDQogICAgICAgICAgICAgICAgICAgIHJlbW92ZURlc3RpbmF0aW9uRW50cmllcyhkZXN0OkluZGV4KCkpDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgbG9jYWwgaXRlbUNvdW50ID0gc2VsZjpJdGVtRnVsbENvdW50KCkNCiAgICAgICAgICAgICAgICBsb2NhbCBtb3ZlQ291bnQgPSBuaWwNCiAgICAgICAgICAgICAgICBsb2NhbCBkYXRhID0gc2VsZjpHZXRJdGVtRGF0YShzcG90c1sxXSkNCiAgICAgICAgICAgICAgICAtLSBIYXMgc2V0IGNvdW50IGxpbWl0DQogICAgICAgICAgICAgICAgaWYgKGl0ZW1MaXN0W2l0ZW1pZF1bMV0gPiAwKSB0aGVuDQogICAgICAgICAgICAgICAgICAgIC0tIFBvc2l0aW9uDQogICAgICAgICAgICAgICAgICAgIGlmIChkZXN0LngpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVDb3VudCA9IG1hdGgubWluKDEwMCwgaXRlbUxpc3RbaXRlbWlkXVsxXSAtIChpdGVtTGlzdFtpdGVtaWRdWzVdIG9yIDApKQ0KICAgICAgICAgICAgICAgICAgICAtLSBDb250YWluZXINCiAgICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgbW92ZUNvdW50ID0gbWF0aC5taW4oMTAwLCBpdGVtTGlzdFtpdGVtaWRdWzFdIC0gU2VsZi5JdGVtQ291bnQoaXRlbWlkLCBkZXN0LCB0cnVlKSkNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgaWYgKG1vdmVDb3VudCA9PSBuaWwgb3IgbW92ZUNvdW50ID4gMCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBpZiAoZGVzdC54KSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmOk1vdmVJdGVtVG9Hcm91bmQoc3BvdHNbMV0sIGRlc3QueCwgZGVzdC55LCBkZXN0LnosIG1vdmVDb3VudCkNCiAgICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZjpNb3ZlSXRlbVRvQ29udGFpbmVyKHNwb3RzWzFdLCBkZXN0OkluZGV4KCksIGRlc3Q6SXRlbUNvdW50KCksIG1vdmVDb3VudCkNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICBpdGVtTGlzdFtpdGVtaWRdID0gbmlsIC0tIGNhcHBlZCB0aGlzIGl0ZW0sIGNsZWFyIHRoZSByZXN0DQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgbG9jYWwgd2FpdFRpbWUgPSBXQUlUX0xPV01JRA0KICAgICAgICAgICAgICAgIGxvY2FsIHdhaXRQcmlvID0gKGl0ZW1MaXN0IGFuZCBpdGVtTGlzdFtpdGVtaWRdKSBhbmQgaXRlbUxpc3RbaXRlbWlkXVszXSBvciAtMQ0KICAgICAgICAgICAgICAgIGlmICh3YWl0UHJpbyBhbmQgd2FpdFByaW8gPj0gMCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBpZiAod2FpdFByaW8gPT0gMCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgd2FpdFRpbWUgPSBXQUlUX0xPT1RfTE9XDQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiAod2FpdFByaW8gPT0gMSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgd2FpdFRpbWUgPSBXQUlUX0xPT1RfTUVEDQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiAod2FpdFByaW8gPT0gMikgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgd2FpdFRpbWUgPSBXQUlUX0xPT1RfSElHSA0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICByZG1fc2xlZXAod2FpdFRpbWUpDQogICAgICAgICAgICAgICAgLS0gSXRlbWNvdW50IGRpZG4ndCBjaGFuZ2U7IG1vdmUgZmFpbGVkDQogICAgICAgICAgICAgICAgLS0gUmVtb3ZlIG9ubHkgdGhpcyBzcGVjaWZpYyBpdGVtLg0KICAgICAgICAgICAgICAgIGlmIChzZWxmOkl0ZW1GdWxsQ291bnQoKSA9PSBpdGVtQ291bnQpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgLS1yZW1vdmVEZXN0aW5hdGlvbkVudHJpZXMoZGVzdDpJbmRleCgpKQ0KICAgICAgICAgICAgICAgICAgICBpdGVtTGlzdFtpdGVtaWRdID0gbmlsDQogICAgICAgICAgICAgICAgLS0gTW92ZWQsIHByb2JhYmx5LCB1cGRhdGUgZmF1eCBtb3ZlY291bnQgaWYgcG9zIGRlc3RpbmF0aW9uDQogICAgICAgICAgICAgICAgZWxzZWlmIChkZXN0LnggYW5kIGl0ZW1MaXN0W2l0ZW1pZF0pIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgaXRlbUxpc3RbaXRlbWlkXVs1XSA9IGRhdGEuY291bnQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgY29udGludWUgPSB0cnVlDQogICAgICAgICAgICBicmVhaw0KICAgICAgICBlbmQNCiAgICAgICAgLS0gVHJ5IHRvIGNhc2NhZGUgdG8gZmluZCBtb3JlIG1hdGNoZXMNCiAgICAgICAgaWYgKG5vdCBjb250aW51ZSBhbmQgbm90IGRpc2FibGVTb3VyY2VDYXNjYWRlKSB0aGVuDQogICAgICAgICAgICBpZiAoc2VsZjpPcGVuQ2FzY2FkZSgpID09IDEpIHRoZW4NCiAgICAgICAgICAgICAgICBjaGVja01hdGNoZXMoKQ0KICAgICAgICAgICAgICAgIGNvbnRpbnVlID0gdHJ1ZQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIC0tIFJlY2hlY2sgc3BvdHMgaW5jYXNlIG9mIG9mZnNldA0KICAgICAgICBlbHNlDQogICAgICAgICAgICBjaGVja01hdGNoZXMoKQ0KICAgICAgICBlbmQNCiAgICB1bnRpbChub3QgY29udGludWUpDQogICAgLS0gRW5kIFdpdGhkcmF3IE1hdGNoZXMNCmVuZA0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLSBFbmQgQ29udGFpbmVyIEZ1bmN0aW9ucw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCg0KCQkJDQpsb2NhbCBzY3JpcHROYW1lID0gJ1tNXSBCYW51dGEgLTEnIC0tIFhCU1QgRmlsZW5hbWUNCmlmKG5vdCBTY3JpcHQuSW5pdChzY3JpcHROYW1lLCc1NTIwMDAwMDAwMDAwMDAwMDAwMDU1MjE1NTIwMDA1NTIxNTUyMDAwMDE1NTIwMDAwMDAwNTUyNTUyMDU1MjE1NTIwMDU1MjU1MjQ1MjU1MjAwMDU1MjQ1MjU1MjAwMDU1MjAwNTUyNDUyNTUyMDA1NTIwMDA1NTI0NTI1NTIwMDAwNTUyMDA1NTI0NTI1NTIwMDA1NTI1NTI0NTI1NTIwMDA1NTI1NTI1NTIwMDA1NTI0NTI1NTIwMDA1NTI0NTI1NTIwMDU1MjU1MjU1MjAwMDA1NTI0NTI1NTIwMDQ1MjAwNTUyNDUyNTUyMDA1NTI0NTI1NTIwMDAwNTUyNDUyNTUyNTUyMTU1MjQ1MjA1NTI1NTIwMDAwMDAwNDUyMTU1MjU1MjE1NTIwMDA1NTI0NTUyMDU1MjQ1MjE1NTIxNTUyNDU1MjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDU1MjU1MjQ1MjAwMDAwMDAwMDAwNTUyNTUyMDU1MjU1MjA1NTIwNTUyMDU1MjU1MjU1MjU1MjU1MjA1NTIwMjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTAwMTExNTUyMTU1MjExMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMDA1NTI1NTIwNTUyMDAwMDAwMDAwNTUyNTUyMTU1MjAwMDAwMDAwMDA1NTI1NTIwMDAwMDAwMDAyMDAwMDAwMDAwNTUyNTUyMTA1NTIxNTUyMTU1MjI1NTI1NTIxNTUyNTUyMDU1MjE1NTI1NTI1NTIwMTU1MjU1MjU1MjExNTUyMDAwMDAwNTUyNTUyMDA1NTIwNTUyNTUyMTA1NTIxNTUyMDEwNTUyNTUyNTUyMDU1MjAwMDAwMDAwMTAwMDAwMDAwNTUyMDAwMDA1NTI0NTIxMDEwNTUyfDAyMTIyMTY1MjAxNDExNDExNzExNjAxOTkyMjE5OTcxMTcwMTUxMTgxMTIwMTExMTIwMTMwMTk5ODAxOTExNzExOTkyMjE4MDE0MDE1MDExMDExMDE0MDEyMjEzNTgwMTQ1NjExNzAxODExNzk5OTU1NTAxMDAxNzAxMDAxOTk5MDE0MDEwMDE3OTg0NjExOTk5MTEwMDE3NTUwMTMxMTEyMTAyMTk5NzExOTAxfDMzMjMzMzMzMjMyMzMzMzMzMzMyMzMzMjMzMzMzMzMzMjMyMzMzMjIyMzMzMzIzMzMyMjMyMzMyMzMzMzIzMycpKXRoZW4gcmV0dXJuIGZhbHNlIGVuZA0KDQoNCi0tIFRvd24gLS0NCkZPT0RTID0ge30NCg0KU2NyaXB0LlRvd24gPSAncG9ydCBob3BlJw0KDQotLSBodW50fEZyb21EZXBvdA0KU2NyaXB0LkV2ZW50KCdzdGFydENoZWNrJywgZnVuY3Rpb24odG9MYWJlbCkNCglsb2NhbCBuZWVkc0dvbGQgPSBTZWxmLkNoZWNrKENIRUNLX0dPTEQpDQoJbG9jYWwgbmVlZHNUb0J1eSA9IFNlbGYuQ2hlY2soQ0hFQ0tfU09GVEJPT1RTLCBDSEVDS19NQVhfUE9USU9OUywgQ0hFQ0tfTUFYX1JVTkVTLCBDSEVDS19NQVhfRk9PRCwgQ0hFQ0tfTUFYX0FNTU8sIENIRUNLX1RSQVZFTExJTkcpDQoJbG9jYWwgY2hlY2tEZXBvdCA9IFNlbGYuQ2hlY2soQ0hFQ0tfREVQT1NJVCwgQ0hFQ0tfQ0FQLCBDSEVDS19TVVBQTFlDQVAsIENIRUNLX01BWF9TVVBQTElFUywgQ0hFQ0tfU1RBTUlOQSkNCgktLSBJZiB3ZSBkb24ndCBuZWVkIHRvIGdvIHRvIHRvd24sIGdvIHRvIGh1bnQgbGFiZWwgKGlmIGxhYmVsIGRvZXNuJ3QgZXhpc3QgaXQgZ29lcyB0byBkZXBvdCkNCglXYWxrZXIuQ29uZGl0aW9uYWxHb3RvKFdhbGtlci5MYWJlbEV4aXN0cygnaHVudHwnLi50b0xhYmVsKSBhbmQgbm90IGNoZWNrRGVwb3QgYW5kIG5vdCBuZWVkc1RvQnV5IGFuZCBub3QgKG5lZWRzR29sZCBhbmQgbmVlZHNUb0J1eSksICdodW50fCcuLnRvTGFiZWwpDQplbmQpDQoNCi0tIENoZWNrIGlmIHdlIG5lZWQgdG8gbG9nb3V0L3RyYWluIGZvciBhbnkgc3RhbWluYS90aW1lIHJlYXNvbnMsIGlmIG5vdCBjaGVjayBpZiB3ZSBuZWVkIG1vbmV5IGZvciBzdXBwbGllcw0KbG9jYWwgdHJhaW5Nb25leSA9IGZhbHNlDQpTY3JpcHQuRXZlbnQoJ2NoZWNrU3RhbWluYScsIGZ1bmN0aW9uKCkNCglsb2NhbCBub1N0YW1pbmEgPSBTZWxmLkNoZWNrKENIRUNLX1NUQU1JTkEpDQoJaWYobm9TdGFtaW5hKXRoZW4NCgkJaWYobm90IF9TdGFtaW5hLlRyYWluZXIgb3Igbm90IF9QbGF5ZXIuUHJlbWl1bSl0aGVuDQoJCQlXYWxrZXIuU3RvcCgpDQoJCWVsc2VpZihTZWxmLk1vbmV5KCkgPCAzMCl0aGVuDQoJCQl0cmFpbk1vbmV5ID0gMzANCgkJCVdhbGtlci5Hb3RvKCdza2lwU3RhbWluYScpDQoJCWVuZA0KCWVsc2UNCgkJV2Fsa2VyLkdvdG8oJ3NraXBTdGFtaW5hJykNCgllbmQNCmVuZCkNCg0KLS0gRGVwb3NpdCBhbGwgb2Ygb3VyIGdvbGQsIGlmIG5vbmUsIGp1c3QgZ290byB3aXRoZHJhdyBzdXBwbGllcy9kZXBvc2l0IGxvb3QNClNjcmlwdC5FdmVudCgnY2hlY2tEZXBvc2l0R29sZCcsIGZ1bmN0aW9uKCkNCglXYWxrZXIuQ29uZGl0aW9uYWxHb3RvKFNlbGYuTW9uZXkoKSA9PSAwLCAnc2tpcERlcG9zaXRHb2xkJykNCmVuZCkNCg0KbG9jYWwgZGVwb3NpdEdvbGRUcmllcyA9IDANClNjcmlwdC5FdmVudCgnZGVwb3NpdEdvbGQnLCBmdW5jdGlvbigpDQoJU2VsZi5CYW5rKCdub25lJykNCgktLSBEaWRuJ3QgZGVwb3NpdCBnb2xkDQoJaWYoU2VsZi5Nb25leSgpID4gMCl0aGVuDQoJCWRlcG9zaXRHb2xkVHJpZXMgPSBkZXBvc2l0R29sZFRyaWVzICsgMQ0KCQlpZihkZXBvc2l0R29sZFRyaWVzIDw9IDUpdGhlbg0KCQkJV2Fsa2VyLkdvdG8oJ3ByZURlcG9zaXRHb2xkJykNCgkJZW5kDQoJLS0gRGVwb3NpdGVkIHN1Y2Nlc3NmdWxseQ0KCWVsc2UNCgkJZGVwb3NpdEdvbGRUcmllcyA9IDANCgllbmQNCmVuZCkNCg0KLS0gRGVwb3NpdCBMb290IC8gV2l0aGRyYXcgU3VwcGxpZXMsIGlmIG5vbmUgbmVlZGVkLCBza2lwDQpTY3JpcHQuRXZlbnQoJ2NoZWNrRGVwb3QnLCBmdW5jdGlvbigpDQoJV2Fsa2VyLkNvbmRpdGlvbmFsR290byhub3QgU2VsZi5DaGVjayhDSEVDS19DQVAsIENIRUNLX0RFUE9TSVQsIENIRUNLX1dJVEhEUkFXLCBDSEVDS19NQVhfRk9PRCwgQ0hFQ0tfTUFYX1NVUFBMSUVTKSwgJ3NraXBEZXBvdCcpDQplbmQpDQoNClNjcmlwdC5FdmVudCgnZGVwb3QnLCBmdW5jdGlvbigpDQoJU2VsZi5EZXBvdCgpDQoJaWYoU2VsZi5DaGVjayhDSEVDS19TVVBQTFlDQVApKXRoZW4NCgkJV2Fsa2VyLlN0b3AoKQ0KCQljb25zb2xlLmVycm9yKCJOb3QgZW5vdWdoIGNhcCBmb3Igc3VwcGxpZXMuIFBsZWFzZSByZWNvbmZpZ3VyZSBhbmQgcmVzdGFydCB0aGUgc2NyaXB0LiIsIHRydWUpDQoJZW5kDQplbmQpDQoNCi0tIENoZWNrIGlmIHdlIG5lZWQgdG8gZ28gdXBzdGFpcnMgdG8gbnBjcw0KU2NyaXB0LkV2ZW50KCdjaGVja0JhbmtNYWdpY0FtbW8nLCBmdW5jdGlvbigpDQoJbG9jYWwgY2hlY2tnb2xkID0gU2VsZi5DaGVjayhDSEVDS19HT0xEKQ0KCWxvY2FsIG5vdGhpbmdUb0J1eSA9IG5vdCBTZWxmLkNoZWNrKENIRUNLX1NPRlRCT09UUywgQ0hFQ0tfTUFYX1BPVElPTlMsIENIRUNLX01BWF9SVU5FUywgQ0hFQ0tfTUFYX0ZPT0QsIENIRUNLX01BWF9BTU1PLCBDSEVDS19UUkFWRUxMSU5HKQ0KCWxvY2FsIG5lZWRzQW1tb01hZ2ljID0gU2VsZi5DaGVjayhDSEVDS19NQVhfUlVORVNfVkVOT1JFLCBDSEVDS19NQVhfUE9USU9OUywgQ0hFQ0tfTUFYX0FNTU8pDQoJLS0gSWYgd2UncmUgZ29pbmcgZm9yIHRyYWluIG1vbmV5LCBpZ25vcmUgYWxsIG90aGVyIGNoZWNrcyBhbmQgZG8gTk9UIHNraXANCglXYWxrZXIuQ29uZGl0aW9uYWxHb3RvKChub3QgY2hlY2tnb2xkIG9yIG5vdGhpbmdUb0J1eSkgYW5kIG5vdCBuZWVkc0FtbW9NYWdpYyBhbmQgbm90IHRyYWluTW9uZXksICdza2lwQmFua01hZ2ljQW1tbycpDQplbmQpDQoNCi0tIENoZWNrIGlmIHdlIG5lZWQgdG8gZ28gdG8gdGhlIGJhbmsgb3IgYW1tbyBzaG9wDQpTY3JpcHQuRXZlbnQoJ2NoZWNrQmFua0FtbW8nLCBmdW5jdGlvbigpDQoJbG9jYWwgY2hlY2tnb2xkID0gU2VsZi5DaGVjayhDSEVDS19HT0xEKQ0KCWxvY2FsIG5vdGhpbmdUb0J1eSA9IG5vdCBTZWxmLkNoZWNrKENIRUNLX1NPRlRCT09UUywgQ0hFQ0tfTUFYX1BPVElPTlMsIENIRUNLX01BWF9SVU5FUywgQ0hFQ0tfTUFYX0ZPT0QsIENIRUNLX01BWF9BTU1PLCBDSEVDS19UUkFWRUxMSU5HKQ0KCWxvY2FsIG5lZWRzQW1tbyA9IFNlbGYuQ2hlY2soQ0hFQ0tfTUFYX0FNTU8pDQoJV2Fsa2VyLkNvbmRpdGlvbmFsR290bygobm90IGNoZWNrZ29sZCBvciBub3RoaW5nVG9CdXkpIGFuZCBub3QgbmVlZHNBbW1vIGFuZCBub3QgdHJhaW5Nb25leSwgJ2NoZWNrTWFnaWMnKQ0KZW5kKQ0KDQpTY3JpcHQuRXZlbnQoJ2NoZWNrQW1tbycsIGZ1bmN0aW9uKCkNCglXYWxrZXIuQ29uZGl0aW9uYWxHb3RvKHRyYWluTW9uZXkgb3Igbm90IFNlbGYuQ2hlY2soQ0hFQ0tfTUFYX0FNTU8pLCAnY2hlY2tNYWdpYycpDQplbmQpDQoNCi0tIENoZWNrIGlmIHdlIG5lZWQgdG8gZ28gdG8gdGhlIGJhbmsNClNjcmlwdC5FdmVudCgnY2hlY2tCYW5rJywgZnVuY3Rpb24oKQ0KCWxvY2FsIGNoZWNrZ29sZCA9IFNlbGYuQ2hlY2soQ0hFQ0tfR09MRCkNCglsb2NhbCBub3RoaW5nVG9CdXkgPSBub3QgU2VsZi5DaGVjayhDSEVDS19TT0ZUQk9PVFMsIENIRUNLX01BWF9QT1RJT05TLCBDSEVDS19NQVhfUlVORVMsIENIRUNLX01BWF9GT09ELCBDSEVDS19NQVhfQU1NTywgQ0hFQ0tfVFJBVkVMTElORykNCglXYWxrZXIuQ29uZGl0aW9uYWxHb3RvKChub3QgY2hlY2tnb2xkIG9yIG5vdGhpbmdUb0J1eSkgYW5kIG5vdCB0cmFpbk1vbmV5LCAnY2hlY2tBbW1vJykNCmVuZCkNCg0KU2NyaXB0LkV2ZW50KCdjaGVja01hZ2ljJywgZnVuY3Rpb24oKQ0KCWxvY2FsIG5lZWRzTWFnaWMgPSBTZWxmLkNoZWNrKENIRUNLX01BWF9SVU5FU19WRU5PUkUsIENIRUNLX01BWF9QT1RJT05TKQ0KCS0tIFNraXAgbWFnaWMgc2hvcCBpZiB3ZSBvbmx5IHdlbnQgaGVyZSBmb3IgdHJhaW5pbmcgbW9uZXkNCglXYWxrZXIuQ29uZGl0aW9uYWxHb3RvKG5vdCBuZWVkc01hZ2ljIG9yIHRyYWluTW9uZXksICdza2lwTWFnaWMnKQ0KZW5kKQ0KDQpsb2NhbCBiYW5rVHJpZXMgPSAwDQpTY3JpcHQuRXZlbnQoJ2JhbmsnLCBmdW5jdGlvbigpDQoJU2VsZi5CYW5rKHRyYWluTW9uZXkpDQoJaWYoKG5vdCB0cmFpbk1vbmV5IGFuZCBTZWxmLkNoZWNrKENIRUNLX0dPTEQpKSBvciAodHJhaW5Nb25leSBhbmQgU2VsZi5Nb25leSgpIDwgMzApKXRoZW4NCgkJYmFua1RyaWVzID0gYmFua1RyaWVzICsgMQ0KCQlpZihiYW5rVHJpZXMgPD0gMyl0aGVuDQoJCQlXYWxrZXIuR290bygncHJlQmFuaycpDQoJCWVsc2UNCgkJCVdhbGtlci5TdG9wKCkNCgkJCWNvbnNvbGUuZXJyb3IoIkZhaWxlZCB3aXRoZHJhd2luZyBzdWZmaWNpZW50IGZ1bmRzLCBwbGVhc2UgY2hlY2sgaWYgeW91IGhhdmUgZW5vdWdoIG1vbmV5L2NhcCBhbmQgcmVzdGFydCB0aGUgc2NyaXB0LiIsIHRydWUpDQoJCWVuZA0KCWVsc2UNCgkJYmFua1RyaWVzID0gMA0KCWVuZA0KZW5kKQ0KDQpTY3JpcHQuRXZlbnQoJ3Nob3BNYWdpYycsIGZ1bmN0aW9uKCkNCgktLSBDb3ZlcnMgZmxhc2tzLCBwb3RzLCBhbmQgZnJlZSBydW5lcw0KCVNlbGYuU2hvcFNlbGxGbGFza3MoKQ0KCVNlbGYuU2hvcEJ1eVBvdHMoKQ0KCVNlbGYuU2hvcEJ1eVJ1bmVzKHRydWUsIFJVTkVTX1ZFTk9SRSkNCglXYWxrZXIuQ29uZGl0aW9uYWxHb3RvKFNlbGYuQ2hlY2soQ0hFQ0tfTUFYX1BPVElPTlMsIENIRUNLX01BWF9SVU5FU19WRU5PUkUpLCAncHJlTWFnaWMnKQ0KZW5kKQ0KDQpTY3JpcHQuRXZlbnQoJ3Nob3BBbW1vJywgZnVuY3Rpb24oKQ0KCVNlbGYuU2hvcEJ1eUFtbW8oZmFsc2UpDQoJV2Fsa2VyLkNvbmRpdGlvbmFsR290byhTZWxmLkNoZWNrKENIRUNLX01BWF9BTU1PKSwgJ3ByZUFtbW9TaG9wJykNCmVuZCkNCg0KLS0gQ2hlY2sgaWYgd2UgbmVlZCB0byByZWZpbGwgc29mdGJvb3RzLCBpZiBub3QgY2hlY2sgaWYgd2UgbmVlZCBhbW1vDQpTY3JpcHQuRXZlbnQoJ2NoZWNrU29mdGJvb3RzQW5kRWRyb25SdW5lcycsIGZ1bmN0aW9uKCkNCgktLSBkb2Vzbid0IG5lZWQgc29mdGJvb3RzIG9yIGVkcm9uIHJ1bmVzLCBlbnRlciB0b3duIG9yIGNoZWNrU3RhbWluYSBpZiB3ZSB3ZW50IGZvciB0cmFpbmluZyBtb25leQ0KCVdhbGtlci5Db25kaXRpb25hbEdvdG8odHJhaW5Nb25leSBvciBub3QgU2VsZi5DaGVjayhDSEVDS19TT0ZUQk9PVFMsIENIRUNLX01BWF9SVU5FU19FRFJPTiksICh0cmFpbk1vbmV5IGFuZCAnY2hlY2tTdGFtaW5hJyBvciAnZW50ZXJUb3duJykpDQoJLS0gZWxzZSBjb250aW51ZXMgZG93biBib2F0IHJvdXRlIChubyBhY3Rpb24gbmVlZGVkKQ0KZW5kKQ0KDQpTY3JpcHQuRXZlbnQoJ2NoZWNrU29mdGJvb3RzJywgZnVuY3Rpb24oKQ0KCS0tIGRvZXNuJ3QgbmVlZCBzb2Z0Ym9vdHMgc3BlY2lmaWNhbGx5LCBza2lwIHRoZSByZWZpbGxlciBucGMNCglXYWxrZXIuQ29uZGl0aW9uYWxHb3RvKG5vdCBTZWxmLkNoZWNrKENIRUNLX1NPRlRCT09UUyksICdjaGVja0Vkcm9uUnVuZXMnKQ0KCS0tIGVsc2UgY29udGludWVzIGRvd24gdG8gc29mYm9vdHMgcmVmaWxsZXINCmVuZCkNCg0KU2NyaXB0LkV2ZW50KCdjaGVja0Vkcm9uUnVuZXMnLCBmdW5jdGlvbigpDQoJLS0gZG9lc24ndCBuZWVkIGVkcm9uIHJ1bmVzLCByZXR1cm4gdG8gZGFyYXNoaWENCglXYWxrZXIuQ29uZGl0aW9uYWxHb3RvKG5vdCBTZWxmLkNoZWNrKENIRUNLX01BWF9SVU5FU19FRFJPTiksICd2ZW5vcmVUb1BvcnRIb3BlJykNCgktLSBlbHNlIHRyYXZlbHMgdG8gZWRyb24NCmVuZCkNCg0KU2NyaXB0LkV2ZW50KCdzaG9wRWRyb25SdW5lcycsIGZ1bmN0aW9uKCkNCglTZWxmLlNob3BCdXlSdW5lcyhmYWxzZSwgUlVORVNfRURST04pDQoJV2Fsa2VyLkNvbmRpdGlvbmFsR290byhTZWxmLkNoZWNrKENIRUNLX01BWF9SVU5FU19FRFJPTiksICdwcmVFZHJvblJ1bmVzJykNCmVuZCkNCg0KU2NyaXB0LkV2ZW50KCdwb3J0SG9wZVRvVmVub3JlJywgZnVuY3Rpb24oKQ0KCVNlbGYuVHJhdmVsKCdDaGFybGVzJywgJ3Zlbm9yZScpDQplbmQpDQoNClNjcmlwdC5FdmVudCgndmVub3JlVG9Qb3J0SG9wZScsIGZ1bmN0aW9uKCkNCglTZWxmLlRyYXZlbCgnQ2FwdGFpbiBGZWFybGVzcycsICdwb3J0IGhvcGUnKQ0KZW5kKQ0KDQpTY3JpcHQuRXZlbnQoJ2Vkcm9uVG9WZW5vcmUnLCBmdW5jdGlvbigpDQoJU2VsZi5UcmF2ZWwoJ0NhcHRhaW4gU2VhaG9yc2UnLCAndmVub3JlJykNCmVuZCkNCg0KU2NyaXB0LkV2ZW50KCdlZHJvblRvUG9ydEhvcGUnLCBmdW5jdGlvbigpDQoJU2VsZi5UcmF2ZWwoJ0NhcHRhaW4gU2VhaG9yc2UnLCAncG9ydCBob3BlJykNCmVuZCkNCg0KU2NyaXB0LkV2ZW50KCd2ZW5vcmVUb0Vkcm9uJywgZnVuY3Rpb24oKQ0KCVNlbGYuVHJhdmVsKCdDYXB0YWluIEZlYXJsZXNzJywgJ2Vkcm9uJykNCmVuZCkNCg0KU2NyaXB0LkV2ZW50KCd0b0JhbnV0YUVhc3QnLCBmdW5jdGlvbigpDQoJU2VsZi5UcmF2ZWwoJ09sZCBBZGFsbCcsICdlYXN0JykNCmVuZCkNCg0KU2NyaXB0LkV2ZW50KCd0b0JhbnV0YScsIGZ1bmN0aW9uKCkNCglTZWxmLlRyYXZlbCgnTG9yZWsnLCAnYmFudXRhJykNCmVuZCkNCg0KU2NyaXB0LkV2ZW50KCdwb3J0SG9wZVRvRm9yYmlkZGVuJywgZnVuY3Rpb24oKQ0KCVNlbGYuVHJhdmVsKCdUaGUgQmxpbmQgUHJvcGhldCcsICd0cmFuc3BvcnQnKQ0KZW5kKQ0KDQpTY3JpcHQuRXZlbnQoJ3Nob3BTb2Z0Qm9vdHMnLCBmdW5jdGlvbigpDQoJU2VsZi5Tb2Z0Qm9vdHNSZXBhaXIoKQ0KZW5kKQ0KDQpTY3JpcHQuRXZlbnQoJ3RyYWluVGVsZXBvcnQnLCBmdW5jdGlvbigpDQoJU2VsZi5UcmFpblRlbGVwb3J0KCkNCmVuZCkNCg0KU2NyaXB0LkV2ZW50KCd0cmFpblN0YXR1ZScsIGZ1bmN0aW9uKCkNCglTZWxmLlRyYWluKCkNCmVuZCkNCg0KLS0gU3Bhd24gY2hlY2tpbmcNClNjcmlwdC5FdmVudCgnY2hlY2tIdW50JywgZnVuY3Rpb24oc3RhdGUpDQoJbG9jYWwgc3RhdGUgPSBzdGF0ZSBvciAnJw0KCVdhbGtlci5Db25kaXRpb25hbEdvdG8obm90IFNlbGYuQ2hlY2soKSwgJ2NvbnRpbnVlSHVudCcgLi4gc3RhdGUpDQoJTW9kdWxlLlN0b3AoJ2FsYXJtLXN1cHBsaWVzJykNCglNb2R1bGUuU3RvcCgnc2NyZWVuc2hvdGxldmVsJykNCglNb2R1bGUuU3RvcCgnc2tpbm5lcicpDQoJTW9kdWxlLlN0b3AoJ2x1cmUnKQ0KZW5kKQ0KDQotLSBTcGF3biBUcmlnZ2Vycw0KU2NyaXB0LkV2ZW50KCdjb250aW51ZUh1bnQnLCBmdW5jdGlvbigpDQoJaWYoX1BsYXllci5QbGF5ZXJBbGFybSl0aGVuDQoJCU1vZHVsZS5TdGFydCgnYWxhcm0tc3VwcGxpZXMnKQ0KCWVuZA0KCWlmKF9QbGF5ZXIuUGxheWVyU2NyZWVuc2hvdCl0aGVuDQoJCU1vZHVsZS5TdGFydCgnc2NyZWVuc2hvdGxldmVsJykNCgllbmQNCglpZiAoX1NwYXduLkx1cmVNb2RlKSB0aGVuDQoJCU1vZHVsZS5TdGFydCgnbHVyZScpDQoJZW5kDQoJTW9kdWxlLlN0YXJ0KCdza2lubmVyJykNCmVuZCkNCi0tIEVuZCBUb3duIC0tDQoNCk1vZHVsZS5OZXcoJ2FsYXJtLXN1cHBsaWVzJywgZnVuY3Rpb24obW9kdWxlKQ0KCWxvY2FsIGFsYXJtVGFibGVzID0geydSVU5FUycsICdQT1RJT05TJywgJ0FNTVVOSVRJT05TJywgJ1JJTkdTJywgJ0FNVUxFVFMnfQ0KCWZvciBfLCBzdXBwbHlLZXkgaW4gaXBhaXJzKGFsYXJtVGFibGVzKSBkbw0KCQlmb3IgXywgc3VwcGx5IGluIGlwYWlycyhfR1tzdXBwbHlLZXldKSBkbw0KCQkgICAgaWYoc3VwcGx5LmFsYXJtIGFuZCBzdXBwbHkuYWxhcm0gPiAwIGFuZCBTZWxmLkl0ZW1Db3VudChzdXBwbHkuaWQpIDw9IHN1cHBseS5hbGFybSl0aGVuDQoJCSAgICAgICAgYWxlcnQoKQ0KCQkgICAgICAgIGNvbnNvbGUubG9nKCgiTG93ICVzcyBkZXRlY3RlZC4iKTpmb3JtYXQoSXRlbS5HZXROYW1lKHN1cHBseS5pZCkpKQ0KCQkgICAgICAgIGJyZWFrDQoJCSAgICBlbmQNCgkJZW5kDQoJZW5kDQoJaWYoYWxhcm1QbGF5ZXJzKXRoZW4NCgkgICAgZm9yIF8sIGNpZCBpbiBpcGFpcnMoU2VsZi5HZXRTcGVjdGF0b3JzKCkpIGRvDQoJICAgICAgICBpZihjaWQ6aXNQbGF5ZXIoKSl0aGVuDQoJICAgICAgICAgICAgYWxlcnQoKQ0KCSAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQbGF5ZXIgZGV0ZWN0ZWQuJykNCgkgICAgICAgICAgICBicmVhaw0KCSAgICAgICAgZW5kDQoJICAgIGVuZA0KCWVuZA0KCW1vZHVsZTpEZWxheSgxNTAwMCkNCmVuZCwgZmFsc2UpDQoNCmlmIChfU3Bhd24uQW50aVRhcmdldFRpbWUgYW5kIF9TcGF3bi5BbnRpVGFyZ2V0VGltZSA+IDApIHRoZW4NCglsb2NhbCBhbnRpVGFyZ2V0VGltZSA9IG9zLnRpbWUoKQ0KCWxvY2FsIGFudGlUYXJnZXRJRCA9IFNlbGYuVGFyZ2V0SUQoKQ0KCWxvY2FsIGFudGlUYXJnZXRFbmFibGVkID0gZmFsc2UNCglsb2NhbCBhbnRpVGFyZ2V0U3dpdGNoVGltZSA9IF9TcGF3bi5BbnRpVGFyZ2V0U3dpdGNoIG9yIDUNCglNb2R1bGUuTmV3KCdhbnRpLXRhcmdldGluZy10cmFwJywgZnVuY3Rpb24obW9kdWxlKQ0KDQoJCS0tIE91ciBsYXN0IHJvdW5kLCB3ZSBlbmFibGVkIGFudGktdGFyZ2V0aW5nLXN0dWNrLiBUaW1lIHRvIGRpc2FibGUuDQoJCWlmIChhbnRpVGFyZ2V0RW5hYmxlZCkgdGhlbg0KCQkJVGFyZ2V0aW5nLkVuYWJsZUFsbFN0dWNrKGZhbHNlKQ0KCQkJYW50aVRhcmdldEVuYWJsZWQgPSBmYWxzZQ0KCQkJYW50aVRhcmdldFRpbWUgPSBvcy50aW1lKCkNCgkJZW5kDQoNCgkJLS0gV2UgaGF2ZSBhIHRhcmdldA0KCQlsb2NhbCBuZXdUYXJnZXRJRCA9IFNlbGYuVGFyZ2V0SUQoKQ0KCQlpZiAobm90IGFudGlUYXJnZXRFbmFibGVkIGFuZCBuZXdUYXJnZXRJRCA+IDApIHRoZW4NCgkJCS0tIFRhcmdldCBpcyB0aGUgc2FtZSBhcyBsYXN0IHRpbWUuDQoJCQlpZiAobmV3VGFyZ2V0SUQgPT0gYW50aVRhcmdldElEKSB0aGVuDQoJCQkJLS0gV2UndmUgYmVlbiB0YXJnZXRpbmcgb3ZlciB0aGUgdGltZS1saW1pdC4NCgkJCQlpZiAob3MuZGlmZnRpbWUob3MudGltZSgpLCBhbnRpVGFyZ2V0VGltZSkgPiBfU3Bhd24uQW50aVRhcmdldFRpbWUpIHRoZW4NCgkJCQkJVGFyZ2V0aW5nLkVuYWJsZUFsbFN0dWNrKHRydWUpDQoJCQkJCWFudGlUYXJnZXRFbmFibGVkID0gdHJ1ZQ0KCQkJCQltb2R1bGU6RGVsYXkoYW50aVRhcmdldFN3aXRjaFRpbWUgKiAxMDAwKQ0KCQkJCWVuZA0KCQkJLS0gVGFyZ2V0IGhhcyBjaGFuZ2VkLCB1cGRhdGUgdGltZXMgYW5kIGlkDQoJCQllbHNlDQoJCQkJYW50aVRhcmdldElEID0gbmV3VGFyZ2V0SUQNCgkJCQlhbnRpVGFyZ2V0VGltZSA9IG9zLnRpbWUoKQ0KCQkJZW5kDQoJCWVuZA0KDQoJCW1vZHVsZTpEZWxheSgxMDAwKQ0KCWVuZCkNCmVuZA0KDQoNCg0KDQotLSBDaGVjayBjb25maWcgaWYgZW5hYmxlZA0KaWYoI0FNVUxFVFMgPiAwKXRoZW4NCgktLSBEZXRlcm1pbmUgbm9ybWFsIGFtdWxldA0KCWxvY2FsIG5vcm1hbEFtdWxldCA9IDANCglmb3IgXywgbGlzdGVkQW11bGV0IGluIGlwYWlycyhOT1JNQUxfQU1VTEVUUykgZG8NCgkJaWYoU2VsZi5JdGVtQ291bnQobGlzdGVkQW11bGV0LCAwLCB0cnVlKSA+IDApdGhlbg0KCQkJLS0gRm91bmQgbm9ybWFsIGFtdWxldA0KCQkJbm9ybWFsQW11bGV0ID0gbGlzdGVkQW11bGV0DQoJCQljb25zb2xlLmxvZygnRGV0ZWN0ZWQgbm9ybWFsIGFtdWxldDogKCcgLi4gSXRlbS5HZXROYW1lKGxpc3RlZEFtdWxldCkgLi4gJyknKQ0KCQkJYnJlYWsNCgkJZW5kDQoJZW5kDQoJaWYobm9ybWFsQW11bGV0ID4gMCl0aGVuDQoJCU1vZHVsZS5OZXcoJ2VxdWlwLWFtdWxldCcsIGZ1bmN0aW9uKG1vZHVsZSkNCgkJCWxvY2FsIHRhcmdldHMgPSAjU2VsZi5HZXRQcmlvcml0eVRhcmdldHMoNywgMCkNCgkJCWxvY2FsIGN1ckFtdWxldCA9IFNlbGYuQW11bGV0KCkuaWQNCgkJCWxvY2FsIGVxdWlwTm9ybWFsQW11bGV0ID0gdHJ1ZQ0KCQkJZm9yIF8sIGFtbXkgaW4gaXBhaXJzKEFNVUxFVFMpIGRvDQoJCQkJLS0gSWYgd2UgaGF2ZSBhbiBhbXVsZXQgdG8gZXF1aXANCgkJCQlpZiAoU2VsZi5JdGVtQ291bnQoYW1teS5pZCkgPiAwKSB0aGVuDQoJCQkJCS0tIEFtdWxldCB0cmlnZ2VyZWQ6ICh0YXJnZXRzIGFib3ZlIGxpbWl0IC8gaGVhbHRoIGJlbG93IGNvbmZpZyUgLyBtYW5hIGJlbG93IGNvbmZpZyUpDQoJCQkJCWlmIChhbW15LmxpbWl0IGFuZCB0YXJnZXRzID49IGFtbXkubGltaXQgYW5kIGFtbXkubGltaXQgfj0gMCkgb3IgKGFtbXkuaGVhbHRoIGFuZCBTZWxmLkhlYWx0aFBlcmNlbnQoKSA8PSBhbW15LmhlYWx0aCBhbmQgYW1teS5oZWFsdGggfj0gMCkgb3IgKGFtbXkubWFuYSBhbmQgU2VsZi5NYW5hUGVyY2VudCgpIDw9IGFtbXkubWFuYSBhbmQgYW1teS5tYW5hIH49IDApIHRoZW4NCgkJCQkJCS0tIFdlJ3JlIG5vdCB3ZWFyaW5nIGFtdWxldA0KCQkJCQkJaWYoY3VyQW11bGV0IH49IGFtbXkuaWQpdGhlbg0KCQkJCQkJCS0tIEVxdWlwIHRoZSBhbXVsZXQNCgkJCQkJCQlsb2NhbCB0cmllcyA9IDANCgkJCQkJCQlyZXBlYXQNCgkJCQkJCQkJdHJpZXMgPSB0cmllcyAtIDENCgkJCQkJCQkJU2VsZi5FcXVpcChhbW15LmlkLCAnYW11bGV0JykNCgkJCQkJCQkJd2FpdCg5MCwgMTkwKQ0KCQkJCQkJCXVudGlsKHRyaWVzIDw9IDAgb3IgY3VyQW11bGV0IH49IFNlbGYuQW11bGV0KCkuaWQpDQoJCQkJCQkJbW9kdWxlOkRlbGF5KDEwMDApDQoJCQkJCQkJYnJlYWsNCgkJCQkJCS0tIFdlIGFyZSB3ZWFyaW5nIHRoaXMgYW11bGV0IGZvciBhIHJlYXNvbiAoZG8gbm90IGVxdWlwIG5vcm1hbEFtdWxldCkNCgkJCQkJCWVsc2UNCgkJCQkJCQllcXVpcE5vcm1hbEFtdWxldCA9IGZhbHNlDQoJCQkJCQkJYnJlYWs7DQoJCQkJCQllbmQNCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbmQNCgkJCS0tIENoZWNrIGlmIHdlIHNob3VsZCBlcXVpcCBub3JtYWwgYW11bGV0IChubyBsaW1pdHMgbWV0IGZvciBvdGhlciBhbXVsZXRzKQ0KCQkJaWYoZXF1aXBOb3JtYWxBbXVsZXQgYW5kIGN1ckFtdWxldCB+PSBub3JtYWxBbXVsZXQpdGhlbg0KCQkJCS0tIEVxdWlwIHRoZSBub3JtYWwgYW11bGV0DQoJCQkJbG9jYWwgdHJpZXMgPSAwDQoJCQkJcmVwZWF0DQoJCQkJCXRyaWVzID0gdHJpZXMgLSAxDQoJCQkJCVNlbGYuRXF1aXAobm9ybWFsQW11bGV0LCAnYW11bGV0JykNCgkJCQkJd2FpdCg5MCwgMTkwKQ0KCQkJCXVudGlsKHRyaWVzIDw9IDAgb3IgY3VyQW11bGV0IH49IFNlbGYuQW11bGV0KCkuaWQpDQoJCQkJbW9kdWxlOkRlbGF5KDEwMDApDQoJCQllbmQNCgkJZW5kKQ0KCWVuZA0KZW5kDQoNCg0KLS0gQ2hlY2sgY29uZmlnIGlmIGVuYWJsZWQNCmlmKCNSSU5HUyA+IDApdGhlbg0KCS0tIERldGVybWluZSBub3JtYWwgcmluZw0KCWxvY2FsIG5vcm1hbFJpbmcgPSAwDQoJZm9yIF8sIGxpc3RlZFJpbmcgaW4gaXBhaXJzKE5PUk1BTF9SSU5HUykgZG8NCgkJaWYoU2VsZi5JdGVtQ291bnQobGlzdGVkUmluZywgMCwgdHJ1ZSkgPiAwKXRoZW4NCgkJCS0tIEZvdW5kIG5vcm1hbCByaW5nDQoJCQlub3JtYWxSaW5nID0gbGlzdGVkUmluZw0KCQkJY29uc29sZS5sb2coJ0RldGVjdGVkIG5vcm1hbCByaW5nOiAoJyAuLiBJdGVtLkdldE5hbWUobGlzdGVkUmluZykgLi4gJyknKQ0KCQkJYnJlYWsNCgkJZW5kDQoJZW5kDQoJaWYobm9ybWFsUmluZyA+IDApdGhlbg0KCQlNb2R1bGUuTmV3KCdlcXVpcC1yaW5nJywgZnVuY3Rpb24obW9kdWxlKQ0KCQkJbG9jYWwgdGFyZ2V0cyA9ICNTZWxmLkdldFByaW9yaXR5VGFyZ2V0cyg3LCAwKQ0KCQkJbG9jYWwgY3VyUmluZyA9IFNlbGYuUmluZygpLmlkDQoJCQlsb2NhbCBlcXVpcE5vcm1hbFJpbmcgPSB0cnVlDQoJCQlmb3IgXywgcmluZyBpbiBpcGFpcnMoUklOR1MpIGRvDQoJCQkJLS0gSWYgd2UgaGF2ZSBhIHJpbmcgdG8gZXF1aXANCgkJCQlpZiAoU2VsZi5JdGVtQ291bnQocmluZy5pZCkgPiAwKSB0aGVuDQoJCQkJCS0tIFJpbmcgdHJpZ2dlcmVkOiAodGFyZ2V0cyBhYm92ZSBsaW1pdCAvIGhlYWx0aCBiZWxvdyBjb25maWclIC8gbWFuYSBiZWxvdyBjb25maWclKQ0KCQkJCQlpZiAocmluZy5saW1pdCBhbmQgdGFyZ2V0cyA+PSByaW5nLmxpbWl0IGFuZCByaW5nLmxpbWl0IH49IDApIG9yIChyaW5nLmhlYWx0aCBhbmQgU2VsZi5IZWFsdGhQZXJjZW50KCkgPD0gcmluZy5oZWFsdGggYW5kIHJpbmcuaGVhbHRoIH49IDApIG9yIChyaW5nLm1hbmEgYW5kIFNlbGYuTWFuYVBlcmNlbnQoKSA8PSByaW5nLm1hbmEgYW5kIHJpbmcubWFuYSB+PSAwKSB0aGVuDQoJCQkJCQktLSBXZSdyZSBub3Qgd2VhcmluZyByaW5nDQoJCQkJCQlpZihjdXJSaW5nIH49IEl0ZW0uR2V0UmluZ0FjdGl2ZUlEKHJpbmcuaWQpKXRoZW4NCgkJCQkJCQktLSBFcXVpcCB0aGUgcmluZw0KCQkJCQkJCWxvY2FsIHRyaWVzID0gMA0KCQkJCQkJCXJlcGVhdA0KCQkJCQkJCQl0cmllcyA9IHRyaWVzIC0gMQ0KCQkJCQkJCQlTZWxmLkVxdWlwKHJpbmcuaWQsICdyaW5nJykNCgkJCQkJCQkJd2FpdCg5MCwgMTkwKQ0KCQkJCQkJCXVudGlsKHRyaWVzIDw9IDAgb3IgY3VyUmluZyB+PSBTZWxmLlJpbmcoKS5pZCkNCgkJCQkJCQltb2R1bGU6RGVsYXkoMTAwMCkNCgkJCQkJCQlicmVhaw0KCQkJCQkJLS0gV2UgYXJlIHdlYXJpbmcgdGhpcyByaW5nIGZvciBhIHJlYXNvbiAoZG8gbm90IGVxdWlwIG5vcm1hbFJpbmcpDQoJCQkJCQllbHNlDQoJCQkJCQkJZXF1aXBOb3JtYWxSaW5nID0gZmFsc2UNCgkJCQkJCQlicmVhazsNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVuZA0KCQkJLS0gQ2hlY2sgaWYgd2Ugc2hvdWxkIGVxdWlwIG5vcm1hbCByaW5nIChubyBsaW1pdHMgbWV0IGZvciBvdGhlciByaW5ncykNCgkJCWlmKGVxdWlwTm9ybWFsUmluZyBhbmQgY3VyUmluZyB+PSBub3JtYWxSaW5nKXRoZW4NCgkJCQktLSBFcXVpcCB0aGUgbm9ybWFsIHJpbmcNCgkJCQlsb2NhbCB0cmllcyA9IDANCgkJCQlyZXBlYXQNCgkJCQkJdHJpZXMgPSB0cmllcyAtIDENCgkJCQkJU2VsZi5FcXVpcChub3JtYWxSaW5nLCAncmluZycpDQoJCQkJCXdhaXQoOTAsIDE5MCkNCgkJCQl1bnRpbCh0cmllcyA8PSAwIG9yIGN1clJpbmcgfj0gU2VsZi5SaW5nKCkuaWQpDQoJCQkJbW9kdWxlOkRlbGF5KDEwMDApDQoJCQllbmQNCgkJZW5kKQ0KCWVuZA0KZW5kDQoNCg0KLS0gRnVybml0dXJlIERlc3Ryb3llcg0KTW9kdWxlLk5ldygnYW50aS10cmFwJywgZnVuY3Rpb24obW9kdWxlKQ0KCWxvY2FsIHBvcyA9IFNlbGYuUG9zaXRpb24oKQ0KCWxvY2FsIGRlc3Ryb3lXZWFwb24gPSBTZWxmLldlYXBvbigpLmlkDQoJaWYgKGRlc3Ryb3lXZWFwb24gPT0gMCBvciB0YWJsZS5jb250YWlucyhESVNUQU5DRV9XRUFQT05TLCBkZXN0cm95V2VhcG9uKSBvciB0YWJsZS5jb250YWlucyhST0RTLCBkZXN0cm95V2VhcG9uKSBvciB0YWJsZS5jb250YWlucyhXQU5EUywgZGVzdHJveVdlYXBvbikpIHRoZW4NCgkJZGVzdHJveVdlYXBvbiA9IDANCgkJZm9yIF8sIGlkIGluIGlwYWlycyh7MzI2NywzMjkyLDMyOTF9KSBkbw0KCQkJaWYgKFNlbGYuSXRlbUNvdW50KGlkKSA+PSAxKSB0aGVuDQoJCQkJZGVzdHJveVdlYXBvbiA9IGlkDQoJCQkJYnJlYWsNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCS0tY29uc29sZS53YXJuKCdDYW5ub3QgZGVzdHJveSBmdXJuaXR1cmUsIHB1dCBhIGRhZ2dlciwga25pZmUsIG9yIGNvbWJhdCBrbmlmZSBpbiB5b3VyIG1haW4gYmFja3BhY2suJykNCglpZiAoZGVzdHJveVdlYXBvbiA+IDApIHRoZW4NCgkJZm9yIHkgPSAtMSwgMSBkbw0KCQkJZm9yIHggPSAtMSwgMSBkbw0KCQkJCWlmICh4fj0wIG9yIHl+PTApIHRoZW4NCgkJCQkJbG9jYWwgcG9zWCwgcG9zWSA9IHBvcy54ICsgeCwgcG9zLnkgKyB5DQoJCQkJCWxvY2FsIGl0ZW1JRCA9IE1hcC5HZXRUb3BVc2VJdGVtKHBvc1gsIHBvc1ksIHBvcy56KS5pZA0KCQkJCQlpZiAodGFibGUuY29udGFpbnMoRlVSTklUVVJFLCBpdGVtSUQpKSB0aGVuDQoJCQkJCQlXYWxrZXIuU3RvcCgpDQoJCQkJCQlsb2NhbCB0cmllcyA9IDEyDQoJCQkJCQlyZXBlYXQNCgkJICAgICAgICAJCQl0cmllcyA9IHRyaWVzIC0gMQ0KCQkJCQkJCWlmIChTZWxmLlVzZUl0ZW1XaXRoR3JvdW5kKGRlc3Ryb3lXZWFwb24sIHBvc1gsIHBvc1ksIHBvcy56KSB+PSAwKSB0aGVuDQoJCQkJCQkJCWNvbnNvbGUubG9nKCgnRGVzdHJveWluZyBmdXJuaXR1cmUgKGhpdHM6ICVkKScpOmZvcm1hdChtYXRoLmFicyh0cmllcy0xMikpKQ0KCQkJCQkJCWVuZA0KCQkgICAgICAgIAkJCXJkbV9zbGVlcChXQUlUX0xPV01JRCkNCgkJCQkJCXVudGlsIHRyaWVzIDw9IDAgb3IgTWFwLkdldFRvcFVzZUl0ZW0ocG9zWCwgcG9zWSwgcG9zLnopLmlkIH49IGl0ZW1JRCBvciBTZWxmLkRpc3RhbmNlRnJvbVBvc2l0aW9uKHBvc1gsIHBvc1ksIHBvcy56KSA+IDENCgkJCQkJCW1vZHVsZTpEZWxheSgxNDAwKQ0KCQkJCQkJV2Fsa2VyLlN0YXJ0KCkNCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoJZW5kDQplbmQpDQoNCi0tIFVzZSBtYW5hcyB3aGVuIG5vIHRhcmdldHMgYXJlIGFyb3VuZA0KaWYoX01hbmEuUmVzdG9yZVBlcmNlbnQgYW5kIF9NYW5hLlJlc3RvcmVQZXJjZW50ID4gMCBhbmQgX1BvdGlvbi5NYW5hSUQpdGhlbg0KCWxvY2FsIHBvdGlvbklEID0gSXRlbS5HZXRJdGVtSURGcm9tRHVhbElucHV0KF9Qb3Rpb24uTWFuYUlEKQ0KCU1vZHVsZS5OZXcoJ21hbmEtcmVmaWxsJywgZnVuY3Rpb24obW9kdWxlKQ0KCQlpZiAobW9uc3RlcnNBcm91bmQoNykgPT0gMCkgdGhlbg0KCQkJaWYgKFNlbGYuTWFuYVBlcmNlbnQoKSA8IF9NYW5hLlJlc3RvcmVQZXJjZW50KSBhbmQgKFNlbGYuSXRlbUNvdW50KHBvdGlvbklEKSA+IDApIGFuZCAoU2VsZi5IZWFsdGhQZXJjZW50KCkgPj0gODApIHRoZW4NCgkJCQlXYWxrZXIuU3RvcCgpDQoJCQkJcmVwZWF0DQoJCQkJCXNlbGZVc2VJdGVtV2l0aENyZWF0dXJlKHBvdGlvbklELCBnZXRTZWxmSUQoKSkNCgkJCQl1bnRpbCAobW9uc3RlcnNBcm91bmQoNykgPiAwKSBvciAoU2VsZi5NYW5hUGVyY2VudCgpID49IF9NYW5hLlJlc3RvcmVQZXJjZW50KSBvciAoU2VsZi5IZWFsdGhQZXJjZW50KCkgPCA4MCkgb3IgKFNlbGYuSXRlbUNvdW50KHBvdGlvbklEKSA9PSAwKQ0KCQkJCVdhbGtlci5TdGFydCgpDQoJCQllbmQNCgkJZW5kDQoJCW1vZHVsZTpEZWxheSgxMDAwKQ0KCWVuZCkNCmVuZA0KDQpmdW5jdGlvbiBnZXRNb25zdGVyc0Fyb3VuZChyYWRpdXMsIC4uLikNCiAgICBsb2NhbCB0ID0gey4uLn0NCiAgICBsb2NhbCBtb25zdGVycyA9IHt9DQogICAgZm9yIGkgPSBDUkVBVFVSRVNfTE9XLCBDUkVBVFVSRVNfSElHSCBkbw0KICAgICAgICBsb2NhbCBjcmVhdHVyZSA9IENyZWF0dXJlLkdldEZyb21JbmRleChpKSANCiAgICAgICAgaWYgKGNyZWF0dXJlOmlzVmFsaWQoKSkgYW5kIGNyZWF0dXJlOklEKCkgfj0gU2VsZi5JRCgpIHRoZW4NCiAgICAgICAgICAgIGlmIChjcmVhdHVyZTppc09uU2NyZWVuKCkgYW5kIGNyZWF0dXJlOmlzVmlzaWJsZSgpIGFuZCBjcmVhdHVyZTppc0FsaXZlKCkpIHRoZW4gDQogICAgICAgICAgICAgICAgaWYgbm90IGNyZWF0dXJlOmlzUGxheWVyKCkgdGhlbiANCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgbmFtZSA9IGNyZWF0dXJlOk5hbWUoKQ0KICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXR1cmU6RGlzdGFuY2VGcm9tU2VsZigpIDw9IHJhZGl1cykgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCN0ID4gMCBhbmQgdGFibGUuY29udGFpbnModCwgbmFtZSkpIG9yICgjdCA9PSAwKSB0aGVuIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChtb25zdGVycywgY3JlYXR1cmUpDQogICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgcmV0dXJuIG1vbnN0ZXJzDQplbmQNCg0KZnVuY3Rpb24gbW9uc3RlcnNBcm91bmQocmFkaXVzLCAuLi4pIA0KICAgIGlmIGdldE1vbnN0ZXJzQXJvdW5kKHJhZGl1cywgLi4uKSB0aGVuDQogICAgICAgIHJldHVybiAjZ2V0TW9uc3RlcnNBcm91bmQocmFkaXVzLCAuLi4pDQogICAgZWxzZQ0KICAgICAgICByZXR1cm4gMA0KICAgIGVuZA0KZW5kDQoNCmlmKF9QbGF5ZXIuTGV2ZWxTY3JlZW5zaG90IG9yIF9QbGF5ZXIuU2t1bGxTY3JlZW5zaG90KXRoZW4NCglsb2NhbCBzY3JlZW5RdWV1ZWQsIGxldmVsVXAsIGFjdGl2ZVNrdWxsLCBwbGF5ZXJWaXNpYmxlLCBjdXJMZXZlbCA9IGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBTZWxmLkxldmVsKCkNCglNb2R1bGUuTmV3KCdzY3JlZW5zaG90bGV2ZWwnLCBmdW5jdGlvbihtb2R1bGUpDQoJCS0tIExhc3QgbW9kdWxlIHF1ZXVlZCBhIHNjcmVlbnNob3QNCgkJaWYoc2NyZWVuUXVldWVkKXRoZW4NCgkJCXNjcmVlbnNob3QoU2VsZi5OYW1lKCkgLi4gIChsZXZlbFVwIGFuZCAiIGxldmVsICIgb3IgYWN0aXZlU2t1bGwgYW5kICIgc2t1bGwgIiBvciAiIHBsYXllciAiKSAuLiBTZWxmLkxldmVsKCkpDQoJCQlhY3RpdmVTa3VsbCwgbGV2ZWxVcCwgc2NyZWVuUXVldWVkID0gZmFsc2UsIGZhbHNlLCBmYWxzZQ0KCQktLSBRdWV1ZSBhIHNjcmVlbnNob3QgZm9yIHRoZSBuZXh0IG1vZHVsZSBsb29wDQoJCWVsc2VpZihfUGxheWVyLkxldmVsU2NyZWVuc2hvdCBhbmQgU2VsZi5MZXZlbCgpID4gY3VyTGV2ZWwpdGhlbg0KCQkJbGV2ZWxVcCwgc2NyZWVuUXVldWVkLCBjdXJMZXZlbCA9IHRydWUsIHRydWUsIFNlbGYuTGV2ZWwoKQ0KCQllbHNlaWYoX1BsYXllci5Ta3VsbFNjcmVlbnNob3QgYW5kIFNlbGYuU2t1bGwoKSB+PSAwIGFuZCBub3QgYWN0aXZlU2t1bGwpdGhlbg0KCQkJYWN0aXZlU2t1bGwsIHNjcmVlblF1ZXVlZCA9IHRydWUsIHRydWUNCgkJZWxzZWlmKF9QbGF5ZXIuUGxheWVyU2NyZWVuc2hvdCBhbmQgc2NyZWVuc2hvdFBsYXllcnMpdGhlbg0KCQkgICAgZm9yIF8sIGNpZCBpbiBpcGFpcnMoU2VsZi5HZXRTcGVjdGF0b3JzKCkpIGRvDQoJCSAgICAgICAgaWYoY2lkOmlzUGxheWVyKCkpdGhlbg0KCQkgICAgICAgICAgICBwbGF5ZXJWaXNpYmxlLCBzY3JlZW5RdWV1ZWQgPSB0cnVlLCB0cnVlDQoJCSAgICAgICAgICAgIGJyZWFrDQoJCSAgICAgICAgZW5kDQoJCSAgICBlbmQNCgkJZW5kDQogICAgZW5kLCBmYWxzZSkNCmVuZA0KDQppZihfUGxheWVyLlNwZWVkTG9vdGVyIGFuZCBfUGxheWVyLlNwZWVkTG9vdGVyIH49ICdvZmYnKXRoZW4NCglsb2NhbCBsb290ZXJTcGVlZHMgPSB7ZmFzdCA9IDAsIG1lZCA9IDEsIHNsb3cgPSAyfQ0KCWxvY2FsIHNwZWVkTG9vdGVyUHJpbyA9IGxvb3RlclNwZWVkc1tfUGxheWVyLlNwZWVkTG9vdGVyXSBvciAyDQoJbG9jYWwgc3BlZWRMb290ZXJNb3ZlTGlzdCA9IHt9DQoJaWYobm90IF9QbGF5ZXIuTG9vdGVySWdub3JlR29sZCl0aGVuDQoJCXRhYmxlLmluc2VydChzcGVlZExvb3Rlck1vdmVMaXN0LCB7MzAzMSwgLTEsIFNjcmlwdC5Hb2xkQ29udGFpbmVyLCBzcGVlZExvb3RlclByaW99KQ0KCWVuZA0KCWZvciBicCwgaXRlbXMgaW4gcGFpcnMoU2NyaXB0Lkxvb3RDb250YWluZXJzKSBkbw0KCQlmb3IgXywgaXRlbWlkIGluIGlwYWlycyhpdGVtcykgZG8NCgkJCXRhYmxlLmluc2VydChzcGVlZExvb3Rlck1vdmVMaXN0LCB7aXRlbWlkLCAtMSwgYnAsIHNwZWVkTG9vdGVyUHJpb30pDQoJCWVuZA0KCWVuZA0KCU1vZHVsZS5OZXcoJ3NwZWVkLWxvb3RlcicsIGZ1bmN0aW9uKG1vZHVsZSkNCgkJaWYoU2VsZi5pc0NvcnBzZUNvbnRhaW5lck9wZW4oKSl0aGVuDQoJCQlsb2NhbCBjb3Jwc2VzID0gU2VsZi5HZXRDb3Jwc2VDb250YWluZXJzKCkNCgkJCWZvciBfLCBjb3Jwc2UgaW4gaXBhaXJzKGNvcnBzZXMpIGRvDQoJCQkJY29ycHNlOk1vdmVJdGVtcygwLCB1bnBhY2soc3BlZWRMb290ZXJNb3ZlTGlzdCkpDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KZW5kDQoNCi0tIERyb3AgRmxhc2tzL0Ryb3AgR29sZC9Tb2Z0Ym9vdCBFcXVpcHBlci9Vc2UgRGVtb25pYyBCbG9vZA0KbG9jYWwgbm9ybWFsQm9vdHMgPSAwDQppZihfU29mdEJvb3RzLkVuYWJsZWQgYW5kIF9Tb2Z0Qm9vdHMuTWFuYVBlcmNlbnQpdGhlbg0KCWZvciBpPTEsICNOT1JNQUxfQk9PVFMgZG8NCgkJaWYoU2VsZi5JdGVtQ291bnQoTk9STUFMX0JPT1RTW2ldLCAwLCB0cnVlKSA+IDApdGhlbg0KCQkJbm9ybWFsQm9vdHMgPSBOT1JNQUxfQk9PVFNbaV0NCgkJCWNvbnNvbGUubG9nKCdEZXRlY3RlZCBub3JtYWwgYm9vdHMuICgnIC4uIEl0ZW0uR2V0TmFtZShOT1JNQUxfQk9PVFNbaV0pIC4uICcpJykNCgkJCWJyZWFrOw0KCQllbmQNCgllbmQNCglpZihub3JtYWxCb290cyA8PSAwKXRoZW4NCgkJY29uc29sZS5sb2coJ0ZhaWxlZCB0byBkZXRlY3Qgbm9ybWFsIGJvb3RzLicpDQoJZW5kDQplbmQNCk1vZHVsZS5OZXcoJ3ZpYWxkcm9wLXNiZXF1aXAnLCBmdW5jdGlvbihtb2R1bGUpDQoJLS0gU3dpdGNoIGJldHdlZW4gbm9ybWFsIGFuZCBzb2Z0Ym9vdHMNCglpZihfU29mdEJvb3RzLkVuYWJsZWQgYW5kIF9Tb2Z0Qm9vdHMuTWFuYVBlcmNlbnQgYW5kIG5vcm1hbEJvb3RzID4gMCl0aGVuDQoJCWxvY2FsIGN1ckJvb3RzID0gU2VsZi5GZWV0KCkuaWQNCgkJaWYoKFNlbGYuTWFuYVBlcmNlbnQoKSA8PSBfU29mdEJvb3RzLk1hbmFQZXJjZW50KSBhbmQgKGN1ckJvb3RzIH49IElURU1JRF9TT0ZUQk9PVFNfSU5VU0UpIGFuZCAoU2VsZi5JdGVtQ291bnQoSVRFTUlEX1NPRlRCT09UU19ORVcpID4gMCBhbmQgbm90IFNlbGYuaXNJblB6KCkpKSB0aGVuDQoJCQlTZWxmLkVxdWlwKElURU1JRF9TT0ZUQk9PVFNfTkVXLCAiZmVldCIpDQoJCQltb2R1bGU6RGVsYXkoMTAwMCkNCgkJZWxzZWlmKFNlbGYuaXNJblB6KCkgb3IgKFNlbGYuTWFuYVBlcmNlbnQoKSA+PSBfU29mdEJvb3RzLk1hbmFQZXJjZW50KSBvciAoY3VyQm9vdHMgPT0gSVRFTUlEX1NPRlRCT09UU19VU0VEKSBhbmQgKGN1ckJvb3RzIH49IG5vcm1hbEJvb3RzKSl0aGVuDQoJCQlTZWxmLkVxdWlwKG5vcm1hbEJvb3RzLCAiZmVldCIpDQoJCQltb2R1bGU6RGVsYXkoMTAwMCkNCgkJZW5kDQoJZW5kDQoJLS0gRHJvcCBmbGFza3MNCglpZihfQ2FwLkRyb3BGbGFza3Mgb3IgX0NhcC5Ecm9wR29sZCl0aGVuDQoJCWxvY2FsIGZsYXNrcyA9IFNlbGYuRmxhc2tzKCkNCgkJbG9jYWwgc2VsZkNhcCA9IFNlbGYuQ2FwKCkNCgkJaWYoX0NhcC5IdW50TWluaW11bSBhbmQgX0NhcC5IdW50TWluaW11bSA+IDAgYW5kIHNlbGZDYXAgPCBfQ2FwLkh1bnRNaW5pbXVtKXRoZW4NCgkJCWxvY2FsIHBvcyA9IFNlbGYuUG9zaXRpb24oKQ0KCQkJaWYoX0NhcC5Ecm9wRmxhc2tzIGFuZCBzZWxmQ2FwIDwgX0NhcC5IdW50TWluaW11bSBhbmQgU2VsZi5GbGFza3MoKSA+IDApdGhlbg0KCQkJCWNvbnNvbGUubG9nKCdEcm9wcGluZyAnIC4uIGZsYXNrcyAuLiAnIGZsYXNrcy4nKQ0KCQkJCVNlbGYuRHJvcEZsYXNrcyhwb3MueCwgcG9zLnksIHBvcy56KQ0KCQkJCW1vZHVsZTpEZWxheSgxMDAwKQ0KCQkJZWxzZWlmKF9DYXAuRHJvcEdvbGQgYW5kIHNlbGZDYXAgPCBfQ2FwLkh1bnRNaW5pbXVtKXRoZW4NCgkJCQlsb2NhbCBkcm9wQ291bnQgPSBtYXRoLmNlaWwoKF9DYXAuSHVudE1pbmltdW0gLSBzZWxmQ2FwKSAvIDAuMTApDQoJCQkJaWYoU2VsZi5JdGVtQ291bnQoMzAzMSkgPj0gZHJvcENvdW50KXRoZW4NCgkJCQkJY29uc29sZS5sb2coJ0Ryb3BwaW5nICcgLi4gZHJvcENvdW50IC4uICcgZ29sZC4nKQ0KCQkJCQlTZWxmLkRyb3BJdGVtKHBvcy54LCBwb3MueSwgcG9zLnosIDMwMzEsIGRyb3BDb3VudCkNCgkJCQllbmQNCgkJCQltb2R1bGU6RGVsYXkoMTAwMCkNCgkJCWVuZA0KCQllbmQNCgllbmQNCgktLSBVc2UgRGVtb25pYyBCbG9vZA0KCWlmKFNlbGYuSXRlbUNvdW50KDY1NTgpID4gMCl0aGVuDQoJCVNlbGYuVXNlSXRlbSg2NTU4KQ0KCWVuZA0KZW5kKQ0KDQoNCg==]]></script>
	<script name="[M] Config-Banuta -1.lua"><![CDATA[aWYgbm90IF9fIHRoZW4gcmV0dXJuIGVuZA0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi0tIEcgRSBOIEUgUiBBIEwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfA0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCi0tIEdlbmVyYWwgU2V0dXAgLS0NCl9QbGF5ZXIuTGV2ZWxTY3JlZW5zaG90ID0gdHJ1ZQkJCQktLSBEbyB5b3Ugd2FudCB0byB0YWtlIGEgc2NyZWVuc2hvdCB3aGVuIHlvdSBsZXZlbCB1cD8gKHRydWUvZmFsc2UpDQpfUGxheWVyLlNrdWxsU2NyZWVuc2hvdCA9IHRydWUJCQkJLS0gRG8geW91IHdhbnQgdG8gdGFrZSBhIHNjcmVlbnNob3QgaWYgeW91IGdldCBza3VsbGVkPyAodHJ1ZS9mYWxzZSkNCl9QbGF5ZXIuUGxheWVyU2NyZWVuc2hvdCA9IGZhbHNlCQkJLS0gRG8geW91IHdhbnQgdG8gdGFrZSBhIHNjcmVlbnNob3Qgd2hlbiBhIHBsYXllciBlbnRlcnMgeW91ciB2aWV3IHdoaWxlIGluIHNwYXduPyAodHJ1ZS9mYWxzZSkNCl9QbGF5ZXIuUGxheWVyQWxhcm0gPSBmYWxzZQkJCQkJLS0gRG8geW91IHdhbnQgdG8gdHJpZ2dlciBhbiBhbGFybSB3aGVuIGEgcGxheWVyIGVudGVycyB5b3VyIHZpZXcgd2hpbGUgaW4gc3Bhd24/ICh0cnVlL2ZhbHNlKQ0KX1BsYXllci5NaW5pbWl6ZU1haW5CUCA9IHRydWUJCQkJLS0gRG8geW91IHdhbnQgdG8gbWluaW1pemUgeW91ciBtYWluIGJhY2twYWNrPyBDQVVUSU9OOiBNb3ZlIHlvdXIgaGVhbHRoL21hbmEgYmFycyBpbi1nYW1lIHRvIGFzIHNvdXRoIGFzIHBvc3NpYmxlLiAodHJ1ZS9mYWxzZSkNCl9QbGF5ZXIuU3BlZWRMb290ZXIgPSAnb2ZmJwkJCQkJLS0gVGhlIHNwZWVkIGF0IHdoaWNoIHRoZSBzcGVlZCBsb290ZXIgb3BlcmF0ZXMuIChvZmYvZmFzdC9tZWQvc2xvdykNCg0KLS0gUm91dGUgU2V0dXAgLS0NCl9Sb3V0ZS5ib2F0U2hvcnRjdXQgPSBmYWxzZQkJCQkJLS0gV2hldGhlciB0aGUgY2hhcmFjdGVyIGNvbnRpbnVlcyB0aHJvdWdoIHRoZSBib2F0IHNob3J0Y3V0cy4gKHRydWUvZmFsc2UpDQpfUm91dGUuZnJvc3QgPSBmYWxzZQkJCQkJCS0tIFdoZXRoZXIgdGhlIGNoYXJhY3RlciBjb250aW51ZXMgdGhyb3VnaCB0aGUgZnJvc3Qgcm91dGUuICh0cnVlL2ZhbHNlKQ0KX1JvdXRlLmFmdGVyRnJvc3QgPSBmYWxzZQkJCQkJLS0gV2hldGhlciB0aGUgY2hhcmFjdGVyIGNvbnRpbnVlcyB0aHJvdWdoIHRoZSBhZnRlciBmcm9zdCByb3V0ZS4gKHRydWUvZmFsc2UpDQoNCi0tIFNwYXduIFNldHVwIC0tDQpfU3Bhd24uTHVyZSA9IGZhbHNlCSAJCQkJCQktLSBEbyB5b3Ugd2FudCB0byBlbmFibGUgbHVyZSBtb2RlPyAodHJ1ZS9mYWxzZSkNCl9TcGF3bi5BbnRpVGFyZ2V0VGltZSA9IDMwCQkJCQktLSBUaGUgYW1vdW50IG9mIHRpbWUgdGFyZ2V0aW5nIG9uZSBzcGVjaWZpYyBjcmVhdHVyZSB0byB0cmlnZ2VyIGlmLXN0dWNrIHRhcmdldGluZy4gKDAgdG8gZGlzYWJsZSkNCl9TcGF3bi5BbnRpVGFyZ2V0U3dpdGNoID0gNQkJCQkJLS0gVGhlIGFtb3VudCBvZiB0aW1lIHVudGlsIHlvdSByZXR1cm4gdG8gcmVndWxhciB0YXJnZXRpbmcuDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLSBJIE4gViBFIE4gVCBPIFIgWSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLS0gQVVUT01BVElDIFdJVEhEUkFXSU5HIElTIEVOQUJMRUQgQlVUIElTIE5PVCBSRVFVSVJFRCBUTyBSRUZJTEwuDQotLSBBZGQgc3VwcGxpZXMsIGxpc3RlZCBpbiB0aGUgc2V0dXAgYmVsb3csIHRvIGRlcG90IGJhY2twYWNrICMzIHRvIGF1dG9tYXRpY2FsbHkgd2l0aGRyYXcgZnJvbSB0aGUgeW91ciBkZXBvdC4NCi0tIFRoZSBzY3JpcHQgd2lsbCBwdXJjaGFzZSBzdXBwbGllcyBmcm9tIE5QQ3MgaWYgaXQgZmFpbHMgdG8gd2l0aGRyYXcgZnJvbSB0aGUgZGVwb3QuDQoNCi0tIElGIFBPVElPTlMsIEFNTU8gT1IgUlVORVMgSU5ERVBFTkRFTlRMWSBFUVVBTCBNT1JFIFRIQU4gMTAwLCBZT1UgV0lMTCBORUVEIFRPIENBUlJZIEEgQkFDS1BBQ0sgRk9SIFRIT1NFIElURU1TLg0KLS0gRXhhbXBsZTogSWYgeW91IGNoYW5nZSBhbW11bml0aW9uIGZyb20gc3BlYXJzIHRvIGFycm93cyBhbmQgeW91IGluY3JlYXNlIHRoZSBtYXggbGltaXQgdG8gYWJvdmUgMTAwLA0KLS0geW91IHdpbGwgYmUgcmVxdWlyZWQgdG8gaGF2ZSBhbiBhbW11bml0aW9uIGJhY2twYWNrLg0KLS0gRXhhbXBsZTogSWYgcnVuZXMgbWF4IGNvdW50IGlzIHNldCB0byBhYm92ZSAxMDAsIHlvdSB3aWxsIGJlIHJlcXVpcmVkIHRvIGhhdmUgYSBydW5lIGJhY2twYWNrLg0KDQotLSBBVVRPTUFUSUMgQkFDS1BBQ0sgUFJJT1JJVFk6IE1haW4sIExvb3QsIEdvbGQsIFBvdGlvbnMsIFJ1bmVzLCBBbW11bml0aW9uLg0KDQotLSBNYW5hIFBvdGlvbnMgU2V0dXAgLS0NCl9Qb3Rpb24uTWFuYUlEID0gJ2dyZWF0IG1hbmEgcG90aW9uJwkJLS0gSUQvTmFtZSBvZiBtYW5hIHBvdGlvbi4NCl9Qb3Rpb24uTWFuYUNvc3QgPSAxMjAJCQkJCQktLSBUaGUgcHJpY2Ugb2YgYSBzaW5nbGUgbWFuYSBwb3Rpb24uDQpfUG90aW9uLk1hbmFNaW4gPSAxNzUJCQkJCQktLSBUaGUgYW1vdW50IG9mIG1hbmEgcG90aW9ucyBhdCB3aGljaCB5b3Ugd2lsbCBsZWF2ZSB0byBnbyByZWZpbGwuIA0KX1BvdGlvbi5NYW5hTWF4ID0gNTAwCQkJCQkJLS0gVGhlIGFtb3VudCBvZiBtYW5hIHBvdGlvbnMgeW91IHdhbnQgdG8gYnV5Lg0KX1BvdGlvbi5NYW5hV2l0aGRyYXcgPSB0cnVlCQkJCQktLSBEbyB5b3Ugd2FudCB0byB3aXRoZHJhdyBtYW5hIHBvdGlvbnMgZnJvbSB0aGUgZGVwb3Q/DQpfUG90aW9uLk1hbmFBbGFybSA9IDAJCQkJCQktLSBUaGUgYW1vdW50IG9mIG1hbmEgcG90aW9ucyB0byB0cmlnZ2VyIGFuIGFsYXJtLiAoMCB0byBkaXNhYmxlKQ0KDQotLSBSaW5nIFNldHVwIC0tDQpfUmluZy5SaW5nRW5hYmxlZCA9IGZhbHNlCQkJCQktLSBEbyB5b3Ugd2FudCB0byB1c2UgcmluZ3M/IChyZXF1aXJlcyBhIG5vcm1hbCByaW5nKQ0KX1JpbmcuUmluZ0xpbWl0ID0gMQkJCQkJCQktLSBIb3cgbWFueSBjcmVhdHVyZXMgYXQgd2hpY2ggeW91IHdpbGwgZXF1aXAgdGhlIHJpbmc/ICgwIHRvIGRpc2FibGUpDQpfUmluZy5SaW5nSGVhbHRoID0gMzAJCQkJCQktLSBUaGUgaGVhbHRoIHBlcmNlbnRhZ2UgaW4gd2hpY2ggeW91IGVxdWlwIHRoZSByaW5nPyAoMCB0byBkaXNhYmxlKQ0KX1JpbmcuUmluZ01hbmEgPSAxMAkJCQkJCQktLSBUaGUgbWFuYSBwZXJjZW50YWdlIGluIHdoaWNoIHlvdSBlcXVpcCB0aGUgcmluZz8gKDAgdG8gZGlzYWJsZSkNCl9SaW5nLlJpbmdJRCA9ICdsaWZlIHJpbmcnCQkJCQktLSBJRC9OYW1lIG9mIGEgcmluZy4NCl9SaW5nLlJpbmdNaW4gPSAwCQkJCQkJCS0tIFRoZSBhbW91bnQgb2YgcmluZ3MgYXQgd2hpY2ggeW91IGxlYXZlIHRvIGdvIHJlZmlsbC4NCl9SaW5nLlJpbmdNYXggPSAzCQkJCQkJCS0tIFRoZSBhbW91bnQgb2YgcmluZ3MgeW91IHdhbnQgdG8gd2l0aGRyYXcgZnJvbSB0aGUgZGVwb3QuDQpfUmluZy5SaW5nQWxhcm0gPSAwCQkJCQkJCS0tIFRoZSBhbW91bnQgb2YgcmluZ3MgdG8gdHJpZ2dlciBhbiBhbGFybS4gKDAgdG8gZGlzYWJsZSkNCg0KLS0gQW11bGV0IFNldHVwIC0tDQpfQW11bGV0LkFtdWxldEVuYWJsZWQgPSBmYWxzZQkJCQktLSBEbyB5b3Ugd2FudCB0byB1c2UgYW11bGV0cz8gKHJlcXVpcmVzIGEgbm9ybWFsIG5lY2tsYWNlKQ0KX0FtdWxldC5BbXVsZXRMaW1pdCA9IDEJCQkJCQktLSBIb3cgbWFueSBjcmVhdHVyZXMgYXQgd2hpY2ggeW91IHdpbGwgZXF1aXAgdGhlIGFtdWxldD8gKDAgdG8gZGlzYWJsZSkNCl9BbXVsZXQuQW11bGV0SGVhbHRoID0gMzAJCQkJCS0tIFRoZSBoZWFsdGggcGVyY2VudGFnZSBpbiB3aGljaCB5b3UgZXF1aXAgdGhlIGFtdWxldD8gKDAgdG8gZGlzYWJsZSkNCl9BbXVsZXQuQW11bGV0TWFuYSA9IDEwCQkJCQkJLS0gVGhlIG1hbmEgcGVyY2VudGFnZSBpbiB3aGljaCB5b3UgZXF1aXAgdGhlIGFtdWxldD8gKDAgdG8gZGlzYWJsZSkNCl9BbXVsZXQuQW11bGV0SUQgPSAnZ2FybGljIG5lY2tsYWNlJwkJLS0gSUQvTmFtZSBvZiB0aGUgYW11bGV0Lg0KX0FtdWxldC5BbXVsZXRNaW4gPSAxCQkJCQkJLS0gVGhlIGFtb3VudCBvZiBhbXVsZXRzIGF0IHdoaWNoIHlvdSBsZWF2ZSB0byBnbyByZWZpbGwuDQpfQW11bGV0LkFtdWxldE1heCA9IDMJCQkJCQktLSBUaGUgYW1vdW50IG9mIGFtdWxldHMgeW91IHdhbnQgdG8gd2l0aGRyYXcgZnJvbSB0aGUgZGVwb3QuDQpfQW11bGV0LkFtdWxldEFsYXJtID0gMAkJCQkJCS0tIFRoZSBhbW91bnQgb2YgYW11bGV0cyB0byB0cmlnZ2VyIGFuIGFsYXJtLiAoMCB0byBkaXNhYmxlKQ0KDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLS0gUyBVIFAgUCBPIFIgVCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KLS0gU29mdGJvb3QgRXF1aXBwZXINCl9Tb2Z0Qm9vdHMuRW5hYmxlZCA9IGZhbHNlCQkJCQktLSBXb3VsZCB5b3UgbGlrZSB0byBzd2l0Y2ggdG8gc29mdGJvb3RzIGF0IGEgY2VydGFpbiBtYW5hIHBlcmNlbnQ/ICh0cnVlL2ZhbHNlKQ0KX1NvZnRCb290cy5NYW5hUGVyY2VudCA9IDk1CQkJCQktLSBXaGF0IG1hbmEgcGVyY2VudCB0byB1c2Ugc29mdGJvb3RzIGF0Lg0KDQotLSBNYW5hIFJlc3RvcmVyIC0tDQpfTWFuYS5SZXN0b3JlUGVyY2VudCA9IDkwCQkJCQktLSBNYW5hIHBlcmNlbnQgdG8gcmVzdG9yZSBtYW5hIHVwIHRvIHdoaWxlIG5vIGNyZWF0dXJlcyBvbi1zY3JlZW4uICgwIHRvIGRpc2FibGUpDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLSBTIFQgQSBUIFUgUyAgICBDIEggRSBDIEsgUyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KDQotLSBDYXBhY2l0eSBDaGVja3MgLS0NCl9DYXAuSHVudE1pbmltdW0gPSAxMDAJCQkJCQktLSBJZiBjYXBhY2l0eSBnb2VzIGJlbG93IHRoaXMgbnVtYmVyIGl0IHdpbGwgZXhpdCBzcGF3bi4gKDAgdG8gZGlzYWJsZSkNCl9DYXAuRHJvcEZsYXNrcyA9IHRydWUJCQkJCQktLSBEcm9wIGZsYXNrcyB3aGVuIGNhcGFjaXR5IGRyb3BzIGJlbG93IHRoaXMgbnVtYmVyICh0cnVlL2ZhbHNlKQ0KX0NhcC5Ecm9wR29sZCA9IGZhbHNlCQkJCQkJLS0gRHJvcCBnb2xkIHdoZW4gY2FwYWNpdHkgZHJvcHMgYmVsb3cgdGhpcyBudW1iZXIgKHRydWUvZmFsc2UpDQoNCi0tIFN0YW1pbmEgQ2hlY2sgLS0NCl9TdGFtaW5hLkxvZ291dAk9IHRydWUJCQkJCQktLSBXb3VsZCB5b3UgbGlrZSB0byBsb2cgd2hlbiBsb3cgb24gc3RhbWluYT8gKHRydWUvZmFsc2UpDQpfU3RhbWluYS5Ib3VycyA9IDE2CQkJCQkJCS0tIEF0IHdoYXQgc3RhbWluYSBsZXZlbCB3b3VsZCB5b3UgbGlrZSB0byBsb2cgb3V0PyAoaW4gaG91cnMpDQpfU3RhbWluYS5TZXJ2ZXJTYXZlID0gMCAgICAgIAkJCQktLSBIb3cgbWFueSBob3VycyBiZWZvcmUgc2VydmVyIHNhdmUgd291bGQgeW91IGxpa2UgdG8gbG9nb3V0PyAoMCB0byBkaXNhYmxlKQ0KX1N0YW1pbmEuVGltZUxpbWl0ID0gMAkJCQkJCS0tIFRoZSBtYXhpbXVtIGhvdXJzIHRvIGh1bnQgaWYgTG9nb3V0IGlzIGVuYWJsZWQgKDAgdG8gZGlzYWJsZSkNCl9TdGFtaW5hLlRyYWluZXIgPSBmYWxzZQkJCQkJLS0gV291bGQgeW91IGxpa2UgdG8gbG9nIGF0IHRoZSB0cmFpbmVyIHdoZW4gbG93IG9uIHN0YW1pbmE/ICh0cnVlL2ZhbHNlKQ0KX1N0YW1pbmEuVHJhaW5Ta2lsbCA9ICdtYWdpYycJCQkJLS0gVGhlIHNraWxsIHN0YXR1ZSB0byB1c2U6IHN3b3JkLCBheGUsIGNsdWIsIHNwZWFyLCBtYWdpYy4NCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi0tIFIgVSBOIEUgLyBTIFAgRSBMIEwgICAgUyBIIE8gTyBUIEUgUiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfA0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLSBNQUtFIFNVUkUgWU9VUiBDSEFSQUNURVIgQ0FOIENBU1QgVEhFIFNQRUxMUyBDT1JSRVNQT05ESU5HIFRPIEVBQ0ggU0VDVElPTiBQUklPUiBUTyBFTkFCTElORy4NCi0tIFVsdGltYXRlIGFyZWEgc3BlbGxzIGluY2x1ZGU6IEV0ZXJuYWwgV2ludGVyLCBSYWdlIG9mIHRoZSBTa2llcy4NCi0tIFN0cm9uZyB3YXZlIHNwZWxscyBpbmNsdWRlOiBTdHIuIEljZSBXYXZlLCBFbmVyZ3kgV2F2ZS4NCi0tIFdhdmUgc3BlbGxzIGluY2x1ZGU6IEZpcmUgV2F2ZSwgSWNlIFdhdmUuDQotLSBTdHJvbmcgYmVhbSBzcGVsbHMgaW5jbHVkZTogR3JlYXQgRW5lcmd5IEJlYW0uDQotLSBCZWFtIHNwZWxscyBpbmNsdWRlOiBFbmVyZ3kgQmVhbS4NCi0tIFN0cm9uZyBzdHJpa2Ugc3BlbGxzIGluY2x1ZGU6IFN0ci4gSWNlIFN0cmlrZSwgU3RyLiBFbmVyZ3kgU3RyaWtlLg0KLS0gU3RyaWtlIHNwZWxscyBpbmNsdWRlOiBJY2UgU3RyaWtlLCBFbmVyZ3kgU3RyaWtlLg0KDQpfU2hvb3Rlci5VbHRpbWF0ZUFyZWEgPSB0cnVlCQkJCS0tIFdvdWxkIHlvdSBsaWtlIHRvIHVzZSB1bHRpbWF0ZSBhcmVhIHNwZWxscz8gKHRydWUvZmFsc2UpDQpfU2hvb3Rlci5TdHJvbmdXYXZlcyA9IGZhbHNlCQkJCS0tIFdvdWxkIHlvdSBsaWtlIHRvIHVzZSBzdHJvbmcgd2F2ZSBzcGVsbHM/ICh0cnVlL2ZhbHNlKQ0KX1Nob290ZXIuV2F2ZXMgPSBmYWxzZQkJCQkJCS0tIFdvdWxkIHlvdSBsaWtlIHRvIHVzZSB3YXZlIHNwZWxscz8gKHRydWUvZmFsc2UpDQpfU2hvb3Rlci5TdHJvbmdCZWFtcyA9IGZhbHNlCQkJCS0tIFdvdWxkIHlvdSBsaWtlIHRvIHVzZSBzdHJvbmcgYmVhbSBzcGVsbHM/ICh0cnVlL2ZhbHNlKQ0KX1Nob290ZXIuQmVhbXMgPSBmYWxzZQkJCQkJCS0tIFdvdWxkIHlvdSBsaWtlIHRvIHVzZSBiZWFtIHNwZWxscz8gKHRydWUvZmFsc2UpDQpfU2hvb3Rlci5TdHJvbmdTdHJpa2VzID0gdHJ1ZQkJCQktLSBXb3VsZCB5b3UgbGlrZSB0byB1c2Ugc3Ryb25nIHN0cmlrZSBzcGVsbHM/ICh0cnVlL2ZhbHNlKQ0KX1Nob290ZXIuU3RyaWtlcyA9IHRydWUJCQkJCQktLSBXb3VsZCB5b3UgbGlrZSB0byB1c2Ugc3RyaWtlIHNwZWxscz8gKHRydWUvZmFsc2UpDQoNCi0tIE1pc3NpbGUgcnVuZXMgU2V0dXAgLS0NCl9SdW5lLk1pc3NpbGVFbmFibGVkID0gdHJ1ZQkJCQkJLS0gV291bGQgeW91IGxpa2UgdG8gYnV5L3dpdGhkcmF3L3VzZSB0aGlzIHJ1bmU/DQpfUnVuZS5NaXNzaWxlSUQgPSAzMTU1CQkJCQkJLS0gSUQvTmFtZSBvZiB0aGUgbWlzc2lsZSBydW5lLg0KX1J1bmUuTWlzc2lsZUNvc3QgPSAxMDgJCQkJCQktLSBUaGUgcHJpY2Ugb2YgYSBzaW5nbGUgbWlzc2lsZSBydW5lLg0KX1J1bmUuTWlzc2lsZU1pbiA9IDE1MAkJCQkJCS0tIFRoZSBhbW91bnQgb2YgbWlzc2lsZSBydW5lcyBhdCB3aGljaCB5b3Ugd2lsbCBsZWF2ZSB0byBnbyByZWZpbGwuDQpfUnVuZS5NaXNzaWxlTWF4ID0gNTUwCQkJCQkJLS0gVGhlIGFtb3VudCBvZiBtaXNzaWxlIHJ1bmVzIHlvdSB3YW50IHRvIGJ1eS4NCl9SdW5lLk1pc3NpbGVXaXRoZHJhdyA9IHRydWUJCQkJLS0gRG8geW91IHdhbnQgdG8gd2l0aGRyYXcgbWlzc2lsZSBydW5lcyBmcm9tIHRoZSBkZXBvdD8NCl9SdW5lLk1pc3NpbGVBbGFybSA9IDAJCQkJCQktLSBUaGUgYW1vdW50IG9mIG1pc3NpbGUgcnVuZXMgdG8gdHJpZ2dlciBhbiBhbGFybS4gKDAgdG8gZGlzYWJsZSkNCg0KLS0gQXJlYSBydW5lcyBTZXR1cCAtLQ0KX1J1bmUuQXJlYUVuYWJsZWQgPSB0cnVlCQkJCQktLSBXb3VsZCB5b3UgbGlrZSB0byBidXkvd2l0aGRyYXcvdXNlIHRoaXMgcnVuZT8NCl9SdW5lLkFyZWFJRCA9IDMyMDIJCQkJCQkJLS0gSUQvTmFtZSBvZiB0aGUgYXJlYSBydW5lLg0KX1J1bmUuQXJlYUNvc3QgPSAzNwkJCQkJCQktLSBUaGUgcHJpY2Ugb2YgYSBzaW5nbGUgYXJlYSBydW5lLg0KX1J1bmUuQXJlYU1pbiA9IDE1MAkJCQkJCQktLSBUaGUgYW1vdW50IG9mIGFyZWEgcnVuZXMgYXQgd2hpY2ggeW91IHdpbGwgbGVhdmUgdG8gZ28gcmVmaWxsLg0KX1J1bmUuQXJlYU1heCA9IDU1MAkJCQkJCQktLSBUaGUgYW1vdW50IG9mIGFyZWEgcnVuZXMgeW91IHdhbnQgdG8gYnV5Lg0KX1J1bmUuQXJlYVdpdGhkcmF3ID0gZmFsc2UJCQkJCS0tIERvIHlvdSB3YW50IHRvIHdpdGhkcmF3IGFyZWEgcnVuZXMgZnJvbSB0aGUgZGVwb3Q/DQpfUnVuZS5BcmVhQWxhcm0gPSAwCQkJCQkJCS0tIFRoZSBhbW91bnQgb2YgYXJlYSBydW5lcyB0byB0cmlnZ2VyIGFuIGFsYXJtLiAoMCB0byBkaXNhYmxlKQ0KDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLS0gSCBVIEQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCl9IVUQuU2hvd0ljb25zID0gdHJ1ZQkJCQkJCS0tIFdoZXRoZXIgdG8gc2hvdyB0aGUgbG9vdCBpY29ucyBpbiB0aGUgSFVEIG9yIG5vdC4gKHRydWUvZmFsc2UpDQpfSFVELlVzZU91dGZpdFRoZW1lID0gZmFsc2UJCQkJCS0tIEVuYWJsZSB0byB1c2UgeW91ciBwbGF5ZXIncyBvdXRmaXQgYXMgdGhlIEhVRCBjb2xvcnMuICh0cnVlL2ZhbHNlKQ0KX0hVRC5Mb2dTdGF0aXN0aWNzID0gZmFsc2UJCQkJCS0tIExvZ3MgeW91ciBzdGF0aXN0aWNzIGluIGEgQ1NWIGZpbGUuIChkaXJlY3RvcnkgJ1hlbm9Cb3QvU3luTG9nJyBtdXN0IGV4aXN0KQ==]]></script>
	<script name="[M] HUD-Banuta -1.lua"><![CDATA[bG9jYWwgX19fayA9IFtbNTUyMDAwMDAwMDAwMDAwMDAwMDA1NTIxNTUyMDAwNTUyMTU1MjAwMDAxNTUyMDAwMDAwMDU1MjU1MjA1NTIxNTUyMDA1NTI1NTI0NTI1NTIwMDA1NTI0NTI1NTIwMDA1NTIwMDU1MjQ1MjU1MjAwNTUyMDAwNTUyNDUyNTUyMDAwMDU1MjAwNTUyNDUyNTUyMDAwNTUyNTUyNDUyNTUyMDAwNTUyNTUyNTUyMDAwNTUyNDUyNTUyMDAwNTUyNDUyNTUyMDA1NTI1NTI1NTIwMDAwNTUyNDUyNTUyMDA0NTIwMDU1MjQ1MjU1MjAwNTUyNDUyNTUyMDAwMDU1MjQ1MjU1MjU1MjE1NTI0NTIwNTUyNTUyMDAwMDAwMDQ1MjE1NTI1NTIxNTUyMDAwNTUyNDU1MjA1NTI0NTIxNTUyMTU1MjQ1NTIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA1NTI1NTI0NTIwMDAwMDAwMDAwMDU1MjU1MjA1NTI1NTIwNTUyMDU1MjA1NTI1NTI1NTI1NTI1NTIwNTUyMDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEwMDExMTU1MjE1NTIxMTEwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTAwNTUyNTUyMDU1MjAwMDAwMDAwMDU1MjU1MjE1NTIwMDAwMDAwMDAwNTUyNTUyMDAwMDAwMDAwMjAwMDAwMDAwMDU1MjU1MjEwNTUyMTU1MjE1NTIyNTUyNTUyMTU1MjU1MjA1NTIxNTUyNTUyNTUyMDE1NTI1NTI1NTIxMTU1MjAwMDAwMDU1MjU1MjAwNTUyMDU1MjU1MjEwNTUyMTU1MjAxMDU1MjU1MjU1MjA1NTIwMDAwMDAwMDEwMDAwMDAwMDU1MjAwMDAwNTUyNDUyMTAxMDU1MnwwMjEyMjE2NTIwMTQxMTQxMTcxMTYwMTk5MjIxOTk3MTE3MDE1MTE4MTEyMDExMTEyMDEzMDE5OTgwMTkxMTcxMTk5MjIxODAxNDAxNTAxMTAxMTAxNDAxMjIxMzU4MDE0NTYxMTcwMTgxMTc5OTk1NTUwMTAwMTcwMTAwMTk5OTAxNDAxMDAxNzk4NDYxMTk5OTExMDAxNzU1MDEzMTExMjEwMjE5OTcxMTkwMXwzMzIzMzMzMzIzMjMzMzMzMzMzMjMzMzIzMzMzMzMzMzIzMjMzMzIyMjMzMzMyMzMzMjIzMjMzMjMzMzMyMzNdXQ0KbG9jYWwgc2NyaXB0TmFtZSA9ICJbTV0gQmFudXRhIC0xIg0KbG9jYWwgdmVyc2lvbiA9IDcNCg0KeGJzdCA9ICcnDQpTT0ZUQk9PVFNfQUNUSVZFX0lEID0gMzU0OQ0KbG9jYWwgbG9vdFZhbHVlcyA9IHsNCiAgICBbMTA3XT17Yz01MDAwfSxbMTEwXT17Yz01MDAwfSxbMTIzXT17Yz0xNjAwMH0sWzEyNV09e2M9NTAwMH0sWzEyNl09e2M9NTAwMH0sDQogICAgWzEzMF09e2M9MTAwfSxbMTMzXT17Yz01MDAwfSxbMTM1XT17Yz01MDAwfSxbMTM4XT17Yz02MDB9LFsxNDFdPXtjPTIwMDB9LFsxNDJdPXtjPTYwMDB9LFsyMzZdPXtjPTEwMH0sDQogICAgWzIzN109e2M9ODB9LFsyMzhdPXtjPTEyMH0sWzIzOV09e2M9MTkwfSxbMjY2XT17Yz00NX0sWzI2OF09e2M9NTB9LFsyODFdPXt2PTMwMDB9LFsyODJdPXt2PTMwMDB9LA0KICAgIFsyODNdPXt2PTV9LFsyODRdPXt2PTV9LFsyODVdPXt2PTV9LFszNDddPXtjPTV9LFszNDldPXtjPTE1MDAwfSxbMzk2XT17Yz01MDAwfSxbNjQ1XT17dj0xMjAwMH0sDQogICAgWzY1MF09e2M9NTB9LFs2NjBdPXt2PTEwMDB9LFs2NjRdPXt2PTE1MDAwfSxbNjY2XT17dj0yMDAwfSxbNjY5XT17dj05MDAwfSxbNjc0XT17dj0xMjAwfSwNCiAgICBbNjc5XT17dj0xMDAwfSxbNjgzXT17dj0xNTAwMH0sWzY4NV09e3Y9MjAwMH0sWzY4OF09e3Y9OTAwMH0sWzY5M109e3Y9MTIwMH0sWzc2MV09e2M9NX0sDQogICAgWzc2Ml09e2M9NX0sWzc2M109e2M9NX0sWzc3NF09e2M9NX0sWzc3OV09e3Y9MTAwMH0sWzc4M109e3Y9MTUwMDB9LFs3ODVdPXt2PTIwMDB9LA0KICAgIFs3ODhdPXt2PTkwMDB9LFs3OTNdPXt2PTEyMDB9LFs3OTRdPXt2PTEwMDB9LFs3OThdPXt2PTE1MDAwfSxbODAyXT17dj0yMDAwfSxbODA1XT17dj05MDAwfSwNCiAgICBbODEwXT17dj0xMjAwfSxbODExXT17dj0xMTAwMH0sWzgxMl09e3Y9MTEwMDB9LFs4MTNdPXt2PTI1MDB9LFs4MTRdPXt2PTE1MDB9LFs4MTVdPXt2PTE1MDB9LA0KICAgIFs4MTZdPXt2PTE1MDB9LFs4MTddPXt2PTE1MDB9LFs4MThdPXt2PTI1MDB9LFs4MTldPXt2PTI1MDB9LFs4MjBdPXt2PTI1MDB9LFs4MjFdPXt2PTExMDAwfSwNCiAgICBbODIyXT17dj0xMTAwMH0sWzgyM109e3Y9MTEwMDB9LFs4MjRdPXt2PTExMDAwfSxbODI1XT17dj0xMTAwMH0sWzgyNl09e3Y9MTEwMDB9LFs4MjddPXt2PTI1MDB9LA0KICAgIFs4MjhdPXt2PTI1MDB9LFs4MjldPXt2PTI1MDB9LFs4MzBdPXt2PTI1MDB9LFs4MzFdPXtjPTgwfSxbODMyXT17Yz04MH0sWzgzM109e2M9ODB9LFs4MzRdPXtjPTgwfSwNCiAgICBbODYwXT17Yz0zMDB9LFs4NzJdPXtjPTUwfSxbOTAyXT17dj01MDAwfSxbOTAzXT17dj0xNX0sWzkwNl09e2M9MTk5fSxbOTE5XT17Yz0xMDAwMH0sWzk0MF09e3Y9MjAwMH0sDQogICAgWzk0MV09e3Y9MjAwMH0sWzk0NF09e3Y9MjAwMH0sWzk0NV09e3Y9MjAwMH0sWzk0N109e3Y9NTAwMH0sWzk1M109e3Y9MTB9LFs5NTNdPXt2PTEwfSxbOTU0XT17dj01MDAwfSwNCiAgICBbMjQ4MF09e2M9MTB9LFsyNDgxXT17Yz0xMH0sWzI0ODJdPXtjPTEwfSxbMjQ4M109e2M9MTB9LFsyNDg4XT17dj0yMH0sWzI2MzldPXtjPTUwfSxbMjY0MF09e2M9NTB9LA0KICAgIFsyNjQxXT17Yz01MH0sWzI2NDRdPXtjPTI1fSxbMjY0N109e2M9MjV9LFsyNjUwXT17Yz0yNX0sWzI2NTNdPXtjPTI1fSxbMjY1Nl09e2M9MjV9LFsyNjU5XT17Yz0yNX0sDQogICAgWzI2NjRdPXtjPTQwfSxbMjY2N109e2M9MjV9LFsyNjY4XT17Yz00MH0sWzI3NzVdPXtjPTQwfSxbMjc3Nl09e2M9NDB9LFsyNzc3XT17Yz0xNX0sWzI3NzldPXtjPTU1fSwNCiAgICBbMjc4MF09e2M9MjV9LFsyNzgxXT17Yz0yNX0sWzI3ODJdPXtjPTI1fSxbMjc4M109e2M9MjV9LFsyNzg0XT17Yz0yNX0sWzI3ODVdPXtjPTI1fSxbMjc4Nl09e2M9MjV9LA0KICAgIFsyNzg3XT17Yz0yNX0sWzI3ODhdPXtjPTI1fSxbMjc4OV09e2M9MTh9LFsyNzkwXT17Yz0xOH0sWzI3OTFdPXtjPTMwfSxbMjc5Ml09e2M9N30sWzI3OTNdPXtjPTEyfSwNCiAgICBbMjc5NF09e2M9MTB9LFsyNzk2XT17Yz01MH0sWzI3OTddPXtjPTUwfSxbMjc5OF09e2M9MzV9LFsyNzk5XT17Yz03MH0sWzI4MDBdPXtjPTMwfSxbMjgwMV09e2M9NzV9LA0KICAgIFsyODAyXT17Yz01MH0sWzI4MDNdPXtjPTUwfSxbMjgwNF09e2M9NTB9LFsyODA1XT17Yz01MH0sWzI4MDZdPXtjPTI1fSxbMjgwN109e2M9MjAwfSxbMjgwOF09e2M9NTB9LA0KICAgIFsyODExXT17Yz04fSxbMjg0Ml09e3Y9MTAwfSxbMjg0OF09e3Y9MjAwMH0sWzI4NTJdPXt2PTIwMDB9LFsyODUzXT17Yz01fSxbMjg1NF09e2M9MTB9LFsyODU2XT17Yz0xMH0sDQogICAgWzI4NTddPXtjPTIwfSxbMjg1OF09e2M9MjB9LFsyODU5XT17Yz0yMH0sWzI4NjBdPXtjPTIwfSxbMjg2MV09e2M9MjB9LFsyODYyXT17Yz0yMH0sWzI4NjNdPXtjPTIwfSwNCiAgICBbMjg2NF09e2M9NX0sWzI4NjVdPXtjPTIwfSxbMjg2Nl09e2M9MjB9LFsyODY3XT17Yz0yMH0sWzI4NjhdPXtjPTIwfSxbMjg2OV09e2M9MjB9LFsyODcwXT17Yz0yMH0sDQogICAgWzI4NzFdPXtjPTIwfSxbMjg3Ml09e2M9MjB9LFsyODczXT17Yz00fSxbMjg3NF09e3Y9NX0sWzI4NzVdPXtjPTN9LFsyODc2XT17Yz0zfSxbMjg4MV09e2M9Mn0sDQogICAgWzI4ODRdPXtjPTJ9LFsyOTAxXT17Yz0xMH0sWzI5MDNdPXt2PTI1MH0sWzI5MjBdPXtjPTJ9LFsyOTMyXT17dj0xOTB9LFsyOTgxXT17Yz01fSxbMjk4M109e2M9Nn0sDQogICAgWzI5ODRdPXtjPTV9LFsyOTg1XT17Yz01fSxbMjk4Nl09e2M9NTB9LFsyOTg4XT17Yz0zMH0sWzI5OTBdPXtjPTExMX0sWzI5OTFdPXt2PTIwMH0sWzMwMDJdPXt2PTQwMH0sDQogICAgWzMwMDNdPXt2PTE1LCBjPTUwfSxbMzAwNF09e3Y9MTAwfSxbMzAwNl09e3Y9MzAwMDB9LFszMDA3XT17dj0yNTB9LFszMDA4XT17dj00MDB9LFszMDEwXT17dj04MDB9LA0KICAgIFszMDEyXT17dj0xMDB9LFszMDEzXT17dj0yMDAwfSxbMzAxNF09e3Y9NTAwfSxbMzAxNl09e3Y9MjAwMCwgYz0zNTYwfSxbMzAxN109e3Y9MTUwfSxbMzAxOF09e3Y9MjAwfSwNCiAgICBbMzAxOV09e3Y9MzIwMDB9LFszMDI1XT17dj0yMDB9LFszMDI2XT17dj0xNjB9LFszMDI3XT17dj0yODB9LFszMDI4XT17dj0zMDB9LFszMDI5XT17dj0yNTB9LA0KICAgIFszMDMwXT17dj0yNTB9LFszMDMxXT17dj0xLCBjPTF9LFszMDMyXT17dj0yNTB9LFszMDMzXT17dj0yMDB9LFszMDM0XT17dj0zMjB9LFszMDM1XT17dj0xMDB9LA0KICAgIFszMDM2XT17dj0xMDAwMH0sWzMwMzddPXt2PTEwMDB9LFszMDM4XT17dj01MDAwfSxbMzAzOV09e3Y9MTAwMH0sWzMwNDFdPXt2PTUwMDB9LFszMDQzXT17dj0xMDAwMH0sDQogICAgWzMwNDRdPXt2PTEwMH0sWzMwNDVdPXt2PTMwfSxbMzA0Nl09e3Y9MzUsIGM9MTIwfSxbMzA0N109e3Y9MzUsIGM9MTIwfSxbMzA0OF09e3Y9MjUwfSxbMzA0OV09e3Y9MjAwfSwNCiAgICBbMzA1MF09e3Y9NTB9LFszMDUxXT17dj0xMDB9LFszMDUyXT17dj01MH0sWzMwNTNdPXt2PTEwMH0sWzMwNTRdPXt2PTUwLCBjPTEwMH0sWzMwNTVdPXt2PTI1MDB9LA0KICAgIFszMDU2XT17dj01MCwgYz0xMDB9LFszMDU3XT17dj00NTAwMH0sWzMwNjBdPXt2PTc1MH0sWzMwNjFdPXt2PTg1fSxbMzA2Ml09e3Y9MTcwfSxbMzA2M109e3Y9ODAwMH0sDQogICAgWzMwNjVdPXt2PTIwMDAsIGM9MTAwMDB9LFszMDY2XT17dj0xMDAsIGM9NTAwfSxbMzA2N109e3Y9MzAwMCwgYz0xNTAwMH0sWzMwNjhdPXt2PTEwMDAwfSwNCiAgICBbMzA2OV09e3Y9MTAwMCwgYz01MDAwfSxbMzA3MF09e3Y9MjAwLCBjPTEwMDB9LFszMDcxXT17dj0zMDAwfSxbMzA3Ml09e3Y9MTAwMH0sWzMwNzNdPXt2PTIwMDB9LA0KICAgIFszMDc0XT17dj0xMDB9LFszMDc1XT17dj0yMDB9LFszMDc2XT17dj0xOTB9LFszMDc3XT17dj0xMDB9LFszMDc4XT17dj01MH0sWzMwNzldPXt2PTMwMDAwfSwNCiAgICBbMzA4MV09e3Y9NTAwfSxbMzA4Ml09e3Y9MTAwfSxbMzA4M109e3Y9NTB9LFszMDg0XT17dj0xMDB9LFszMDg1XT17dj0xMDB9LFszMDkxXT17dj0xMDB9LA0KICAgIFszMDkyXT17dj0xMDB9LFszMDkzXT17dj0xMDB9LFszMDk3XT17dj0xMDB9LFszMDk4XT17dj0xMDB9LFszMTAxXT17Yz0xNTB9LFszMTQ4XT17Yz0xNX0sDQogICAgWzMxNDldPXtjPTE2Mn0sWzMxNTJdPXtjPTk1fSxbMzE1M109e2M9NjV9LFszMTUzXT17Yz0yMTB9LFszMTU1XT17Yz0xMDh9LFszMTU2XT17Yz0xMDh9LA0KICAgIFszMTU4XT17Yz0zMH0sWzMxNTldPXtjPTE2MH0sWzMxNjBdPXtjPTE3NX0sWzMxNjFdPXtjPTQ1fSxbMzE2NF09e2M9Mzh9LFszMTY1XT17Yz03MDB9LFszMTY2XT17Yz04NX0sDQogICAgWzMxNjhdPXtjPTE2Mn0sWzMxNzJdPXtjPTIxfSxbMzE3M109e2M9ODV9LFszMTc0XT17Yz00fSxbMzE3NV09e2M9Mzd9LFszMTc2XT17Yz01Mn0sWzMxNzddPXtjPTgwfSwNCiAgICBbMzE3OF09e2M9NjV9LFszMTc5XT17Yz0xMn0sWzMxODBdPXtjPTExNn0sWzMxODJdPXtjPTE2fSxbMzE4OF09e2M9Mjh9LFszMTg5XT17Yz0zMH0sDQogICAgWzMxOTBdPXtjPTYxfSxbMzE5MV09e2M9NDV9LFszMTkyXT17Yz0xMTd9LFszMTk1XT17Yz00Nn0sWzMxOTddPXtjPTI2fSxbMzE5OF09e2M9MTJ9LFszMjAwXT17Yz0zMX0sDQogICAgWzMyMDJdPXtjPTM3fSxbMzIwM109e2M9Mzc1fSxbMzIwNV09e2M9MTAwMH0sWzMyMDhdPXt2PTI1MH0sWzMyMTZdPXtjPTgwMDB9LFszMjE3XT17Yz04MDAwfSwNCiAgICBbMzIxOF09e2M9MTYwMDB9LFszMjIwXT17Yz04MDAwfSxbMzIyM109e2M9NTAwMH0sWzMyMzNdPXtjPTE2MDAwfSxbMzIzNF09e2M9MTUwfSwNCiAgICBbMzI0OV09e3Y9MjAwMDB9LFszMjY0XT17dj0yNSwgYz04NX0sWzMyNjVdPXt2PTQ1MH0sWzMyNjZdPXt2PTgwfSxbMzI2N109e3Y9MiwgYz01fSwNCiAgICBbMzI2OF09e3Y9NSwgYz04fSxbMzI2OV09e3Y9NDAwfSxbMzI3MF09e3Y9MX0sWzMyNzFdPXt2PTEwMDB9LFszMjcyXT17dj03LCBjPTE1fSxbMzI3M109e3Y9MTIsIGM9MjV9LA0KICAgIFszMjc0XT17dj03LCBjPTIwfSxbMzI3NV09e3Y9MjYwfSxbMzI3Nl09e3Y9MjV9LFszMjc3XT17dj0zLCBjPTEwfSxbMzI3OV09e3Y9MTIwMH0sWzMyODBdPXt2PTQwMDB9LA0KICAgIFszMjgxXT17dj0xNzAwMH0sWzMyODJdPXt2PTEwMH0sWzMyODNdPXt2PTExOCwgYz00NzN9LFszMjg0XT17dj0xMDAwfSxbMzI4NV09e3Y9NTF9LFszMjg2XT17dj0zMCwgYz05MH0sDQogICAgWzMyODddPXt2PTE3fSxbMzI4OV09e3Y9MX0sWzMyOTBdPXt2PTUwMH0sWzMyOTFdPXt2PTF9LFszMjkzXT17dj0xfSxbMzI5NF09e3Y9MTB9LFszMjk3XT17dj05MDB9LA0KICAgIFszMjk4XT17dj0yfSxbMzI5OV09e3Y9NTB9LFszMzAwXT17dj04fSxbMzMwMV09e3Y9NTAwfSxbMzMwMl09e3Y9OTAwMH0sWzMzMDNdPXt2PTMwMH0sWzMzMDRdPXtjPTI2MH0sDQogICAgWzMzMDVdPXt2PTEyMH0sWzMzMDZdPXt2PTEwMDB9LFszMzA3XT17dj0xNTB9LFszMzA4XT17dj02LCBjPTM1fSxbMzMwOV09e3Y9NDUwfSxbMzMxMV09e3Y9MTcwfSwNCiAgICBbMzMxMl09e3Y9MjcwfSxbMzMxM109e3Y9NTAwfSxbMzMxNF09e3Y9MjAwMH0sWzMzMTVdPXt2PTExMDAwfSxbMzMxNl09e3Y9MzUwfSxbMzMxN109e3Y9MTg1fSxbMzMxOF09e3Y9MjAwMH0sDQogICAgWzMzMjBdPXt2PTgwMDB9LFszMzIyXT17dj0yMDAwfSxbMzMyM109e3Y9MTUwMH0sWzMzMjRdPXt2PTYwMDB9LFszMzI2XT17dj04MDAwfSxbMzMyN109e3Y9MTEwfSwNCiAgICBbMzMyOF09e3Y9MTAwMH0sWzMzMzBdPXt2PTkwfSxbMzMzMl09e3Y9MzAwMDB9LFszMzQwXT17dj01MDAwMH0sWzMzNDFdPXt2PTQyMDAwfSxbMzM0Ml09e3Y9MTIwMDB9LA0KICAgIFszMzQ0XT17dj0xNTAwfSxbMzM0NV09e3Y9MjAwfSxbMzM0Nl09e3Y9NTAwfSxbMzM0N109e3Y9MjV9LFszMzQ4XT17dj0xMDAwfSxbMzM0OV09e3Y9MTYwfSwNCiAgICBbMzM1MF09e3Y9MTMwLCBjPTM1MH0sWzMzNTFdPXt2PTI5M30sWzMzNTJdPXt2PTE3LCBjPTUyfSxbMzM1M109e3Y9MTUwfSxbMzM1NF09e3Y9MzAsIGM9MjB9LA0KICAgIFszMzU1XT17dj00LCBjPTEyfSxbMzM1Nl09e3Y9MTAwMH0sWzMzNTddPXt2PTQwMH0sWzMzNThdPXt2PTcwLCBjPTIwMH0sWzMzNTldPXt2PTE1MCwgYz00NTB9LA0KICAgIFszMzYwXT17dj0yMDAwMH0sWzMzNjFdPXt2PTEyLCBjPTM1fSxbMzM2Ml09e3Y9MTUsIGM9NjB9LFszMzY0XT17dj0zMDAwMH0sWzMzNjZdPXt2PTkwMDAwfSwNCiAgICBbMzM2N109e3Y9NjYsIGM9MjY1fSxbMzM2OV09e3Y9NTAwMH0sWzMzNzBdPXt2PTUwMDB9LFszMzcxXT17dj01MDAwfSxbMzM3Ml09e3Y9NDl9LFszMzczXT17dj01MDB9LA0KICAgIFszMzc0XT17dj04fSxbMzM3NV09e3Y9MTZ9LFszMzc2XT17dj0yLCBjPTYzfSxbMzM3N109e3Y9NzV9LFszMzc4XT17dj0xOH0sWzMzNzldPXt2PTEsIGM9MTZ9LFszMzgwXT17dj05MDB9LA0KICAgIFszMzgxXT17dj0xMjAwMH0sWzMzODJdPXt2PTEyMDAwfSxbMzM4M109e3Y9NDAwfSxbMzM4NF09e3Y9MjUwfSxbMzM4NV09e3Y9MjUwMH0sWzMzODZdPXt2PTQwMDAwfSwNCiAgICBbMzM4N109e3Y9NDAwMDB9LFszMzkxXT17dj02MDAwfSxbMzM5Ml09e3Y9MzAwMDB9LFszMzk3XT17dj0zMDAwMH0sWzMzOThdPXt2PTQwMDAwfSxbMzQwM109e3Y9MjUwfSwNCiAgICBbMzQwNF09e3Y9MTAwMH0sWzM0MDVdPXt2PTI4MH0sWzM0MDZdPXt2PTg1MH0sWzM0MDddPXt2PTkwMH0sWzM0MDhdPXt2PTc1MDB9LFszNDA5XT17dj04MH0sDQogICAgWzM0MTBdPXt2PTQ1LCBjPTEyNX0sWzM0MTFdPXt2PTE2LCBjPTY1fSxbMzQxMl09e3Y9NSwgYz0xNX0sWzM0MTNdPXt2PTk1fSxbMzQxNF09e3Y9NTAwMDB9LA0KICAgIFszNDE1XT17dj0yMDAwfSxbMzQxNl09e3Y9NDAwMH0sWzM0MThdPXt2PTEyMDB9LFszNDE5XT17dj04MDAwfSxbMzQyMF09e3Y9MzAwMDB9LFszNDIxXT17dj00MDB9LA0KICAgIFszNDIyXT17dj00ODB9LFszNDI0XT17dj0xNTAwfSxbMzQyNV09e3Y9MTAwfSxbMzQyNl09e3Y9Mn0sWzM0MjhdPXt2PTgwMDB9LFszNDI5XT17dj04MDB9LA0KICAgIFszNDMwXT17dj0xMH0sWzM0MzFdPXt2PTg1fSxbMzQzMl09e3Y9OTAwfSxbMzQzM109e3Y9NTl9LFszNDM0XT17dj0xNTAwMH0sWzM0MzVdPXt2PTUwMDB9LA0KICAgIFszNDM2XT17dj05MDAwfSxbMzQzOV09e3Y9MTYwMDB9LFszNDQwXT17dj0yMDAwfSxbMzQ0MV09e3Y9ODB9LFszNDQzXT17dj04NTB9LFszNDQ0XT17dj0xMjB9LA0KICAgIFszNDQ1XT17dj0yODB9LFszNDQ3XT17Yz0zfSxbMzQ1MF09e2M9N30sWzM0NTFdPXtjPTI1fSxbMzQ1M109e3Y9MTAsIGM9MjV9LFszNDU1XT17Yz0xNX0sDQogICAgWzM0NTZdPXt2PTE1fSxbMzQ1N109e3Y9OCwgYz0xMH0sWzM0NjNdPXt2PTEwfSxbMzQ2NV09e2M9MzB9LFszNDczXT17Yz0xMn0sWzM0ODJdPXt2PTc1fSwNCiAgICBbMzQ4M109e3Y9NDAsIGM9MTUwfSxbMzUwNV09e2M9OH0sWzM1MDddPXtjPTF9LFszNTA5XT17dj04fSxbMzU1MF09e3Y9MjAwMH0sWzM1NTFdPXtjPTJ9LA0KICAgIFszNTUyXT17Yz0yfSxbMzU1NF09e3Y9MzAwMDB9LFszNTU2XT17dj0xMDAwfSxbMzU1N109e3Y9MTE1fSxbMzU1OF09e3Y9MjUsIGM9ODB9LFszNTU5XT17dj0xLCBjPTEwfSwNCiAgICBbMzU2MF09e3Y9NzUwfSxbMzU2MV09e3Y9MSwgYz0xMn0sWzM1NjJdPXt2PTEsIGM9OH0sWzM1NjZdPXt2PTMwMH0sWzM1NjddPXt2PTEwMDAwfSxbMzU3NF09e3Y9MTUwfSwNCiAgICBbMzU3N109e3Y9MiwgYz0zfSxbMzU3OF09e2M9NX0sWzM1NzldPXtjPTR9LFszNTgyXT17dj00LCBjPTV9LFszNTgzXT17Yz0yNX0sWzM1ODRdPXtjPTR9LA0KICAgIFszNTg1XT17Yz0zfSxbMzU4Nl09e2M9NX0sWzM1ODddPXtjPTJ9LFszNTg4XT17Yz0xfSxbMzU5MF09e2M9MX0sWzM1OTFdPXtjPTF9LFszNTkyXT17Yz0zfSwNCiAgICBbMzU5M109e2M9OH0sWzM1OTRdPXtjPTEwfSxbMzU5NV09e2M9Mn0sWzM1OTZdPXtjPTV9LFszNTk3XT17Yz0zfSxbMzU5OF09e2M9Mn0sWzM2MDBdPXt2PTIsIGM9M30sDQogICAgWzM2MDFdPXtjPTJ9LFszNjAyXT17Yz0zfSxbMzYwM109e2M9NX0sWzM2MDVdPXtjPTF9LFszNjA2XT17Yz0yfSxbMzYwN109e2M9NX0sWzM2NThdPXtjPTExfSwNCiAgICBbMzY2MV09e3Y9MjV9LFszNjY4XT17Yz05fSxbMzY3M109e2M9NTB9LFszNjc0XT17dj01MH0sWzM3MjNdPXtjPTZ9LFszNzI0XT17Yz0xMn0sWzM3MjVdPXtjPTEwfSwNCiAgICBbMzczNF09e3Y9NTAwfSxbMzczNV09e3Y9Mjh9LFszNzM2XT17Yz0yMX0sWzM3MzddPXtjPTI0fSxbMzczOF09e3Y9MTB9LFszNzM5XT17dj0xMH0sWzM3NDBdPXt2PTIwfSwNCiAgICBbMzc0MV09e3Y9MjV9LFs0MDMzXT17dj00MDAwMH0sWzQwNjVdPXt2PTUwMDB9LFs0ODI3XT17Yz0xODAwMH0sWzQ4MzFdPXt2PTUwMH0sWzQ4MzJdPXtjPTI0MDAwfSwNCiAgICBbNDgzNV09e2M9ODAwMH0sWzQ4MzZdPXt2PTE4MDAwLCBjPTE1MDAwfSxbNDgzOV09e3Y9NTAwfSxbNDg0MV09e2M9MzAwMH0sWzQ4NDJdPXtjPTUwMH0sDQogICAgWzQ4NDZdPXtjPTQwMDB9LFs0ODQ3XT17Yz02MDAwfSxbNDg2N109e2M9NTAwfSxbNDg2OF09e2M9NTAwfSxbNDg2OV09e2M9NTAwfSxbNDg3MF09e2M9NTAwfSwNCiAgICBbNDg3MV09e3Y9NTB9LFs1MDIxXT17Yz04MH0sWzUwNDZdPXtjPTY1fSxbNTA1NV09e2M9NjV9LFs1MDU2XT17Yz02NX0sWzUwODBdPXt2PTMwMDAwfSwNCiAgICBbNTA4Nl09e2M9NjV9LFs1MDg3XT17Yz02NX0sWzUwODhdPXtjPTY1fSxbNTA4OV09e2M9MjUwfSxbNTA5Nl09e2M9MTB9LFs1NDYxXT17dj0zMDAwfSwNCiAgICBbNTU1Ml09e2M9MTUwfSxbNTY2OF09e3Y9NDAwMCwgYz0wfSxbNTY2OV09e3Y9NDAwMH0sWzU3MTBdPXt2PTMwMH0sWzU3NDFdPXt2PTQwMDAwfSwNCiAgICBbNTc5MV09e3Y9NjAwMH0sWzU4MDNdPXt2PTQyMDAwfSxbNTgwOF09e3Y9MTIwMDB9LFs1ODEwXT17dj01MDB9LFs1ODY1XT17dj0xMDB9LFs1ODc1XT17dj0yMDAwfSwNCiAgICBbNTg3Nl09e3Y9MTUwfSxbNTg3N109e3Y9MTAwfSxbNTg3OF09e3Y9ODB9LFs1ODc5XT17dj0xMDB9LFs1ODgxXT17dj0xMjB9LFs1ODgyXT17dj0yMDB9LA0KICAgIFs1ODgzXT17dj0xMjB9LFs1ODg0XT17dj00MDAwMH0sWzU4ODVdPXt2PTEwMDAwfSxbNTg4N109e3Y9MTAwMDB9LFs1ODg4XT17dj01MDB9LFs1ODkwXT17dj0zMH0sDQogICAgWzU4OTFdPXt2PTIwMDAwfSxbNTg5Ml09e3Y9MTUwMDB9LFs1ODkzXT17dj0yNTB9LFs1ODk0XT17dj01MH0sWzU4OTVdPXt2PTE1MH0sWzU4OTZdPXt2PTEwMH0sDQogICAgWzU4OTddPXt2PTcwfSxbNTg5OF09e3Y9ODB9LFs1ODk5XT17dj05MH0sWzU5MDJdPXt2PTQwfSxbNTkwNF09e3Y9ODAwMH0sWzU5MDVdPXt2PTEwMH0sWzU5MDZdPXt2PTMwMH0sDQogICAgWzU5MDldPXt2PTEwMH0sWzU5MTBdPXt2PTIwMH0sWzU5MTFdPXt2PTMwMH0sWzU5MTJdPXt2PTIwMH0sWzU5MTNdPXt2PTEwMH0sWzU5MTRdPXt2PTE1MH0sDQogICAgWzU5MThdPXt2PTIwMH0sWzU5MTldPXt2PTgwMDB9LFs1OTIwXT17dj0xMDB9LFs1OTIxXT17dj01MH0sWzU5MjJdPXt2PTkwfSxbNTkyNV09e3Y9NzB9LA0KICAgIFs1OTI3XT17Yz0yMH0sWzU5MzBdPXt2PTIwMDB9LFs1OTQwXT17dj0xMDB9LFs1OTQzXT17dj0xNTAwMH0sWzU5NDRdPXt2PTI1fSxbNTk0OF09e3Y9MjAwfSwNCiAgICBbNTk0OV09e2M9MjB9LFs1OTUwXT17Yz01fSxbNTk1NF09e3Y9MTAwMH0sWzYwODddPXt2PTEwMH0sWzYwODhdPXt2PTI1MH0sWzYwODldPXt2PTQwMH0sDQogICAgWzYwOTBdPXt2PTgwMH0sWzYwOTVdPXt2PTUwMH0sWzYwOTZdPXt2PTEwMDB9LFs2MTA1XT17Yz0xNjAwMH0sWzYxMTRdPXtjPTkwfSxbNjExNV09e2M9OTB9LA0KICAgIFs2MTIwXT17Yz0xNjAwMH0sWzYxMjRdPXtjPTQwMDAwfSxbNjEzMV09e3Y9MTUwfSxbNjI5OV09e3Y9MTAwMH0sWzYzNzFdPXtjPTgwfSxbNjM3Ml09e2M9NzB9LA0KICAgIFs2Mzg3XT17Yz0xMH0sWzYzOTJdPXtjPTEwMH0sWzY0ODldPXt2PTQwfSxbNjQ5OV09e3Y9MTAwMH0sWzY1MDddPXt2PTYwfSxbNjUyN109e3Y9NDIwMDB9LA0KICAgIFs2NTQxXT17Yz0yfSxbNjU0Ml09e2M9Mn0sWzY1NDNdPXtjPTJ9LFs2NTQ0XT17Yz0yfSxbNjU0NV09e2M9Mn0sWzY1NTNdPXt2PTQ1MDAwfSxbNjU2MV09e3Y9MjAwMDB9LA0KICAgIFs2NTY2XT17dj02MDAwfSxbNjU2OF09e3Y9MzAwMDB9LFs3MTgzXT17dj0yMDAwMH0sWzcxODRdPXt2PTIwMDAwfSxbNzI1MF09e2M9MTAwfSxbNzI1M109e3Y9NDAwfSwNCiAgICBbNzI4Nl09e2M9MjV9LFs3MjkwXT17dj0yMDAwfSxbNzM0Ml09e2M9MjB9LFs3MzQzXT17Yz0yMH0sWzczNjVdPXtjPTd9LFs3MzY4XT17Yz0xMDB9LFs3MzY5XT17Yz01MDAwfSwNCiAgICBbNzM3MV09e2M9MjAwMH0sWzczNzNdPXtjPTEwfSxbNzM3OF09e2M9MTV9LFs3Mzc5XT17dj0xNTAwfSxbNzM4Ml09e3Y9MzYwMDB9LFs3MzgzXT17dj0yNTAwMH0sDQogICAgWzczODRdPXt2PTMwMDAwfSxbNzM4NV09e2M9NjEwfSxbNzM4Nl09e3Y9MTIwMDB9LFs3Mzg3XT17dj0zMDAwfSxbNzM4OF09e3Y9MzAwMDB9LFs3Mzg5XT17dj0zMDAwMH0sDQogICAgWzczOTFdPXt2PTE2MDAwfSxbNzM5M109e3Y9NDAwMDB9LFs3Mzk0XT17dj0zMDAwfSxbNzM5Nl09e3Y9MjAwMDB9LFs3Mzk3XT17dj0zMDAwfSxbNzM5OF09e3Y9NTAwfSwNCiAgICBbNzM5OV09e3Y9MTAwMDB9LFs3NDAwXT17dj0zMDAwfSxbNzQwMV09e3Y9NTAwfSxbNzQwMl09e3Y9MTUwMDB9LFs3NDAzXT17dj00MDAwMH0sWzc0MDRdPXt2PTIwMDAwfSwNCiAgICBbNzQwN109e3Y9ODAwMH0sWzc0MDhdPXt2PTE1MDB9LFs3NDEwXT17dj0yMDAwMH0sWzc0MTFdPXt2PTIwMDAwfSxbNzQxMl09e3Y9MTgwMDB9LFs3NDEzXT17dj00MDAwfSwNCiAgICBbNzQxNF09e3Y9MjAwMDB9LFs3NDE1XT17dj0zMDAwMH0sWzc0MTZdPXt2PTMwMDAwfSxbNzQxN109e3Y9NDUwMDB9LFs3NDE4XT17dj0zNTAwMH0sWzc0MTldPXt2PTE1MDAwfSwNCiAgICBbNzQyMV09e3Y9MjIwMDB9LFs3NDIyXT17dj0yNTAwMH0sWzc0MjRdPXt2PTUwMDB9LFs3NDI1XT17dj01MDB9LFs3NDI2XT17dj04MDAwfSxbNzQyN109e3Y9OTAwMH0sDQogICAgWzc0MjhdPXt2PTEwMDAwfSxbNzQzMF09e3Y9MzAwMH0sWzc0MzJdPXt2PTEwMDB9LFs3NDM2XT17dj01MDAwfSxbNzQzN109e3Y9NzAwMH0sWzc0NDldPXt2PTYwMH0sDQogICAgWzc0NTFdPXt2PTEwMDAwfSxbNzQ1Ml09e3Y9NTAwMH0sWzc0NTNdPXt2PTU1MDAwfSxbNzQ1NF09e3Y9MzAwMH0sWzc0NTZdPXt2PTEwMDAwfSxbNzQ1N109e3Y9MjAwMH0sDQogICAgWzc0NTldPXt2PTE1MDB9LFs3NDYwXT17dj0xNTAwfSxbNzQ2MV09e3Y9MjAwfSxbNzQ2Ml09e3Y9NDAwfSxbNzQ2M109e3Y9NjAwMH0sWzc0NjRdPXt2PTg1MH0sDQogICAgWzc2NDJdPXtjPTE5MH0sWzc2NDNdPXtjPTMxMH0sWzc4NjRdPXtjPTIwMH0sWzc4ODldPXtjPTUwfSxbNzkyNF09e2M9MTAwMDB9LFs3OTM2XT17Yz03MDAwfSwNCiAgICBbODAxMF09e2M9NH0sWzgwMTFdPXtjPTN9LFs4MDEyXT17Yz0xfSxbODAxNF09e2M9M30sWzgwMTVdPXtjPTJ9LFs4MDE3XT17Yz0yfSxbODAyMV09e3Y9MTAwMDB9LA0KICAgIFs4MDI1XT17dj01MDAwMH0sWzgwMjddPXt2PTI1MDAwfSxbODAyOV09e3Y9MTIwMDB9LFs4MDMxXT17dj0xMH0sWzgwNDJdPXt2PTM1MH0sWzgwNDNdPXt2PTYwMDB9LA0KICAgIFs4MDQ0XT17dj01MDB9LFs4MDQ1XT17dj0zMDAwfSxbODA1N109e3Y9NTUwMDB9LFs4MDYxXT17dj0xODAwMH0sWzgwNjNdPXt2PTE1MDAwfSxbODA2NF09e3Y9MjAwfSwNCiAgICBbODA3Ml09e3Y9NDAwMH0sWzgwNzNdPXt2PTgwMDB9LFs4MDc0XT17dj0xMzAwMH0sWzgwNzVdPXt2PTE5MDAwfSxbODA4Ml09e3Y9NDQwMCwgYz0yMjAwMH0sDQogICAgWzgwODNdPXt2PTE1MDAsIGM9NzUwMH0sWzgwODRdPXt2PTM2MDAsIGM9MTgwMDB9LFs4MDkyXT17dj0zNjAwfSxbODA5M109e3Y9MTUwMH0sWzgwOTRdPXt2PTQ0MDB9LA0KICAgIFs4MTk3XT17Yz0zfSxbODIwMF09e2M9MjUwMDB9LFs4MjI1XT17Yz01MDAwMH0sWzg1MzFdPXt2PTEwMDAwfSxbODcxN109e2M9MjAwMDB9LFs4NzE4XT17Yz0yNTAwMH0sDQogICAgWzg3MTldPXtjPTMwMDAwfSxbODcyMF09e2M9NDAwMDB9LFs4NzQ2XT17Yz01MDAwMH0sWzg3NzRdPXt2PTMwMDB9LFs4ODE4XT17Yz04MDAwfSxbODgxOV09e2M9NDAwfSwNCiAgICBbODgyMF09e2M9ODAwMH0sWzg4MjJdPXtjPTIwMDAwfSxbODg2MF09e2M9MjB9LFs4ODYxXT17Yz00fSxbODkyM109e3Y9ODAwfSxbOTAyN109e3Y9MjAwMH0sDQogICAgWzkwMjhdPXt2PTEwMDB9LFs5MDQ1XT17dj0xMDAwfSxbOTA1M109e3Y9MjB9LFs5MDU0XT17dj0yNX0sWzkwNTVdPXt2PTMwfSxbOTA1Nl09e3Y9NDAwMH0sDQogICAgWzkwNTddPXt2PTIwMH0sWzkwNThdPXt2PTUwMDB9LFs5MDYxXT17Yz0xNTB9LFs5MDYzXT17Yz01MDB9LFs5MDY0XT17Yz01MDB9LFs5MDY1XT17Yz01MDB9LA0KICAgIFs5MDY2XT17Yz01MDB9LFs5MDY3XT17dj0zMDAwfSxbOTA4M109e2M9Mn0sWzkwODddPXtjPTJ9LFs5MDg4XT17Yz04fSxbOTEwM109e3Y9ODAwMH0sDQogICAgWzkxODddPXtjPTUwMDB9LFs5MTg4XT17Yz01MDAwfSxbOTE5MV09e2M9NTAwMH0sWzkyMzJdPXt2PTUwLCBjPTUyfSxbOTIzNl09e2M9MTAwMDB9LA0KICAgIFs5MjM3XT17Yz0xMjUwMH0sWzkyMzhdPXtjPTE3MDAwfSxbOTIzOV09e2M9MTI1MDB9LFs5MjQwXT17Yz0xMzAwMH0sWzkyNDFdPXtjPTEwMDAwfSxbOTI0OF09e2M9MTI1MDB9LA0KICAgIFs5MjQ5XT17Yz0xMzAwMH0sWzkyNTFdPXtjPTgwMDB9LFs5MjUyXT17Yz0xMzAwMH0sWzkyNTVdPXtjPTI1MDAwfSxbOTMwOF09e2M9NTI1MH0sWzkzOTBdPXtjPTg1MDB9LA0KICAgIFs5MzkxXT17Yz0xMDAwMH0sWzkzOTNdPXt2PTE1MDAwfSxbOTM5NF09e3Y9MTUwMDB9LFs5Mzk1XT17dj0xNTAwMH0sWzkzOTddPXt2PTE1MDAwfSxbOTM5OF09e3Y9MTUwMDB9LA0KICAgIFs5NTM3XT17Yz0zNTB9LFs5NTg2XT17Yz01MDAwfSxbOTYwMl09e2M9MjB9LFs5NjAzXT17Yz0yNX0sWzk2MDZdPXt2PTE1MDAwfSxbOTYxM109e3Y9MTAwMDB9LA0KICAgIFs5NjE2XT17dj0yMDAwMH0sWzk2MTddPXt2PTIwMDAwfSxbOTYxOF09e3Y9MjAwMDB9LFs5NjE5XT17dj0yMDAwMH0sWzk2MzFdPXt2PTI4MH0sWzk2MzJdPXt2PTIwMH0sDQogICAgWzk2MzNdPXt2PTEwMH0sWzk2MzRdPXt2PTE1fSxbOTYzNV09e3Y9NDV9LFs5NjM2XT17dj0zNzV9LFs5NjM3XT17dj01MDB9LFs5NjM4XT17dj0yODB9LA0KICAgIFs5NjM5XT17dj0xNTAsIGM9MTUwfSxbOTY0MF09e3Y9NTB9LFs5NjQxXT17dj00NX0sWzk2NDJdPXt2PTk1fSxbOTY0M109e3Y9MTAwfSxbOTY0NF09e3Y9MjY1fSwNCiAgICBbOTY0NV09e3Y9MTkwfSxbOTY0Nl09e3Y9MTIwLCBjPTEyMH0sWzk2NDddPXt2PTgwfSxbOTY0OF09e3Y9MzB9LFs5NjQ5XT17dj05MH0sWzk2NTBdPXt2PTMwfSwNCiAgICBbOTY1MV09e3Y9MjV9LFs5NjUyXT17dj02MH0sWzk2NTRdPXt2PTQ2MH0sWzk2NTVdPXt2PTIwMH0sWzk2NTZdPXt2PTE4MCwgYz0xODB9LFs5NjU3XT17dj01NX0sDQogICAgWzk2NThdPXt2PTE2MH0sWzk2NTldPXt2PTg1fSxbOTY2MF09e3Y9NzAwfSxbOTY2MV09e3Y9MjgwfSxbOTY2Ml09e3Y9NDIwfSxbOTY2M109e3Y9NDIwfSxbOTY2NF09e3Y9NTUwfSwNCiAgICBbOTY2NV09e3Y9NDAwfSxbOTY2Nl09e3Y9NTIwfSxbOTY2N109e3Y9MjAwfSxbOTY2OF09e3Y9MTUwfSxbOTY4M109e3Y9MTE1fSxbOTY4NF09e3Y9MTIwfSxbOTY4NV09e3Y9Mjc1fSwNCiAgICBbOTY4Nl09e3Y9MjB9LFs5Njg4XT17dj04MDB9LFs5Njg5XT17dj0yMH0sWzk2OTBdPXt2PTkwfSxbOTY5MV09e3Y9NjB9LFs5NjkyXT17dj0xMH0sWzk2OTNdPXt2PTEwfSwNCiAgICBbOTY5NF09e3Y9NDAwfSxbOTY5Nl09e2M9MTAwMH0sWzk2OTddPXtjPTEwMDB9LFs5Njk4XT17Yz0xMDAwfSxbOTY5OV09e2M9MTAwMH0sWzk4NDNdPXtjPTEwMH0sDQogICAgWzEwMDA5XT17Yz03MDB9LFsxMDAxMV09e2M9NjUwfSxbMTAwMjVdPXtjPTYwMH0sWzEwMDI2XT17Yz02MDB9LFsxMDAyN109e2M9NTUwfSxbMTAwMjhdPXtjPTY2Nn0sDQogICAgWzEwMTgzXT17Yz0xMDAwfSxbMTAxODldPXtjPTEwMDB9LFsxMDE5Nl09e3Y9MTUwfSxbMTAyMDJdPXtjPTUwMH0sWzEwMjA5XT17Yz01MDB9LFsxMDI0NF09e3Y9NjAwMH0sDQogICAgWzEwMjcyXT17dj0zNX0sWzEwMjczXT17dj05NX0sWzEwMjc0XT17dj01MH0sWzEwMjc1XT17dj0zNX0sWzEwMjc2XT17dj0xNTB9LFsxMDI3N109e3Y9MjEwfSwNCiAgICBbMTAyNzhdPXt2PTEyMH0sWzEwMjc5XT17dj0xNX0sWzEwMjgwXT17dj0zODB9LFsxMDI4MV09e3Y9ODB9LFsxMDI4Ml09e3Y9NjAwfSxbMTAyODNdPXt2PTU1fSwNCiAgICBbMTAyOTFdPXt2PTMwfSxbMTAyOTJdPXt2PTM1fSxbMTAyOTNdPXt2PTUwfSxbMTAyOTVdPXt2PTIwfSxbMTAyOTZdPXt2PTEwfSxbMTAyOTddPXt2PTUwfSxbMTAyOThdPXt2PTMyMH0sDQogICAgWzEwMjk5XT17dj0xNX0sWzEwMzAwXT17dj01MH0sWzEwMzAxXT17dj0yOH0sWzEwMzAyXT17dj00NX0sWzEwMzAzXT17dj00OH0sWzEwMzA0XT17dj00NzV9LFsxMDMwNV09e3Y9MTMwfSwNCiAgICBbMTAzMDZdPXt2PTM2MH0sWzEwMzA3XT17dj0xNTB9LFsxMDMwOF09e3Y9NTB9LFsxMDMwOV09e3Y9NjAwfSxbMTAzMTBdPXt2PTUwMH0sWzEwMzExXT17dj00MDB9LFsxMDMxMl09e3Y9NDUwfSwNCiAgICBbMTAzMTNdPXt2PTgwMH0sWzEwMzE0XT17dj03NX0sWzEwMzE1XT17dj0xMDB9LFsxMDMxNl09e3Y9NDgwfSxbMTAzMTddPXt2PTM4MH0sWzEwMzE4XT17dj0zMH0sWzEwMzE5XT17dj0xNX0sDQogICAgWzEwMzIwXT17dj0xODB9LFsxMDMyMV09e3Y9MTAwfSxbMTAzMjNdPXt2PTM1MDAwfSxbMTAzMjRdPXtjPTEwMH0sWzEwMzI1XT17Yz01MH0sWzEwMzI2XT17Yz0yMDB9LA0KICAgIFsxMDMyN109e2M9MjAwfSxbMTAzNDBdPXtjPTEyM30sWzEwMzQ3XT17Yz04MH0sWzEwMzg0XT17dj0xNDAwMH0sWzEwMzg1XT17dj00NTAwMH0sWzEwMzg2XT17dj01MDAwfSwNCiAgICBbMTAzODddPXt2PTE0MDAwfSxbMTAzODhdPXt2PTEwMDAwfSxbMTAzODldPXt2PTE2NTAwfSxbMTAzOTBdPXt2PTMwMDAwfSxbMTAzOTFdPXt2PTEwMDAwfSxbMTAzOTJdPXt2PTUwMCwgYz0xMTAwfSwNCiAgICBbMTAzOTddPXt2PTI1MH0sWzEwNDA0XT17dj0xNTB9LFsxMDQwNV09e3Y9MjAwfSxbMTA0MDZdPXt2PTUwMCwgYz0xMjAwfSxbMTA0MDddPXt2PTI1fSxbMTA0MDhdPXt2PTEwMH0sDQogICAgWzEwNDA5XT17dj03MDB9LFsxMDQxMF09e3Y9MzIwfSxbMTA0MTFdPXt2PTExMH0sWzEwNDEyXT17dj0zMDAwfSxbMTA0MTNdPXt2PTYwMH0sWzEwNDE0XT17dj0xNTB9LFsxMDQxNV09e3Y9NTUwfSwNCiAgICBbMTA0MTZdPXt2PTEzMH0sWzEwNDE3XT17dj01MDB9LFsxMDQxOF09e3Y9MTAwfSxbMTA0MjBdPXt2PTI1MH0sWzEwNDM4XT17dj0xMjAwMH0sWzEwNDM5XT17dj0xMjAwMH0sDQogICAgWzEwNDQ0XT17dj0xNzV9LFsxMDQ0OV09e3Y9NzAwfSxbMTA0NTBdPXt2PTIwMH0sWzEwNDUxXT17dj05MDAwfSxbMTA0NTJdPXt2PTE3MH0sWzEwNDUzXT17dj01MH0sWzEwNDU0XT17dj02MH0sDQogICAgWzEwNDU1XT17dj04MH0sWzEwNDU2XT17dj0yMH0sWzExMzI5XT17Yz0xMDAwfSxbMTEzMzldPXtjPTEwMDB9LFsxMTM0MV09e2M9MTAwMH0sWzExMzY4XT17Yz01MDAwfSwNCiAgICBbMTEzNjldPXtjPTUwMDB9LFsxMTM3MF09e2M9NTAwMH0sWzExNDQzXT17dj0zMH0sWzExNDQ0XT17dj02MH0sWzExNDQ1XT17dj0zMH0sWzExNDQ2XT17dj0zNTB9LA0KICAgIFsxMTQ0N109e3Y9MjkwfSxbMTE0NDhdPXt2PTMwMH0sWzExNDQ5XT17dj0zMjB9LFsxMTQ1MF09e3Y9NDgwfSxbMTE0NTFdPXt2PTMwfSxbMTE0NTJdPXt2PTM1fSxbMTE0NTNdPXt2PTIwfSwNCiAgICBbMTE0NTRdPXt2PTEwMDB9LFsxMTQ1NV09e3Y9NTAwfSxbMTE0NTZdPXt2PTEyMH0sWzExNDU3XT17dj0xMDB9LFsxMTQ1OF09e3Y9ODB9LFsxMTQ1OV09e2M9NH0sWzExNDYxXT17dj0yLCBjPTN9LA0KICAgIFsxMTQ2Ml09e2M9NH0sWzExNDYzXT17dj0xMjB9LFsxMTQ2NF09e3Y9NTB9LFsxMTQ2NV09e3Y9OTB9LFsxMTQ2Nl09e3Y9MzB9LFsxMTQ2N109e3Y9NjB9LA0KICAgIFsxMTQ2OV09e3Y9ODB9LFsxMTQ3MF09e3Y9MTgwfSxbMTE0NzFdPXt2PTEwMH0sWzExNDcyXT17dj03NX0sWzExNDczXT17dj0xMTB9LFsxMTQ3NF09e3Y9NjB9LA0KICAgIFsxMTQ3NV09e3Y9MjUwfSxbMTE0NzZdPXt2PTI1fSxbMTE0NzddPXt2PTg1fSxbMTE0NzhdPXt2PTQ1fSxbMTE0NzldPXt2PTMwfSxbMTE0ODBdPXt2PTgwfSwNCiAgICBbMTE0ODFdPXt2PTMwfSxbMTE0ODJdPXt2PTUwfSxbMTE0ODNdPXt2PTIwfSxbMTE0ODRdPXt2PTI1fSxbMTE0ODVdPXt2PTEwfSxbMTE0ODZdPXt2PTQzMH0sDQogICAgWzExNDg3XT17dj0xNDB9LFsxMTQ4OF09e3Y9MzUwfSxbMTE0ODldPXt2PTI4MH0sWzExNDkwXT17dj00MTB9LFsxMTQ5MV09e3Y9NTAwfSxbMTE0OTJdPXt2PTY2fSwNCiAgICBbMTE0OTNdPXt2PTEyMH0sWzExNTEwXT17dj0yMzB9LFsxMTUxMV09e3Y9NTV9LFsxMTUxMl09e3Y9OTV9LFsxMTUxM109e3Y9NzB9LFsxMTUxNF09e3Y9MTEwfSwNCiAgICBbMTE1MTVdPXt2PTUwfSxbMTE1MzldPXt2PTIwfSxbMTE1NDRdPXtjPTYwMH0sWzExNTQ1XT17Yz00MDAwfSxbMTE1NDZdPXtjPTQwMDB9LFsxMTU0N109e2M9NDAwMH0sDQogICAgWzExNTQ4XT17Yz00MDAwfSxbMTE1NDldPXtjPTQwMDB9LFsxMTU1MF09e2M9NDAwMH0sWzExNTUxXT17Yz00MDAwfSxbMTE1NTJdPXtjPTQwMDB9LFsxMTY1Ml09e3Y9ODAwMH0sDQogICAgWzExNjU3XT17dj0yODAwMH0sWzExNjU4XT17dj01NTB9LFsxMTY1OV09e3Y9NDMwfSxbMTE2NjBdPXt2PTM0MH0sWzExNjYxXT17dj0xMjB9LFsxMTY2Nl09e3Y9NTAwMH0sDQogICAgWzExNjcxXT17dj0zOTB9LFsxMTY3Ml09e3Y9MjQwfSxbMTE2NzNdPXt2PTY4MH0sWzExNjc5XT17dj03NTAwfSxbMTE2ODBdPXt2PTMwMH0sWzExNjgxXT17dj0zMDB9LA0KICAgIFsxMTY4Ml09e2M9NX0sWzExNjgzXT17Yz00fSxbMTE2ODRdPXt2PTIwfSxbMTE2ODVdPXtjPTV9LFsxMTY5M109e3Y9NjAwMDB9LFsxMTcwMl09e3Y9MzUwfSwNCiAgICBbMTE3MDNdPXt2PTEyMH0sWzEyMDM5XT17dj03NTB9LFsxMjA0MF09e3Y9MzAwfSxbMTIxNzJdPXt2PTUwfSxbMTIyMzddPXtjPTUwMH0sWzEyMzEyXT17dj0yODB9LA0KICAgIFsxMjMxM109e3Y9MTUwfSxbMTIzMTRdPXt2PTQwMH0sWzEyMzE1XT17dj0yNTB9LFsxMjMxNl09e3Y9NTUwfSxbMTIzMTddPXt2PTk1MH0sWzEyNTQxXT17dj0xMDAwfSwNCiAgICBbMTI1NDRdPXt2PTQwMH0sWzEyNTQ1XT17dj0yNDV9LFsxMjU1N109e3Y9MzAwMH0sWzEyNjAwXT17dj0yMH0sWzEyNjAxXT17dj02MDB9LFsxMjY4M109e3Y9MjAwMH0sDQogICAgWzEyNzMwXT17dj0xNTB9LFsxMjczN109e3Y9NDAwMH0sWzEyNzQyXT17dj02MDB9LFsxMjgwNV09e3Y9NjAwfSxbMTI4MDZdPXt2PTgwMH0sWzEzOTc0XT17Yz01MDAwfSwNCiAgICBbMTM5ODddPXt2PTQwMDB9LFsxMzk5MF09e3Y9MzAwMH0sWzEzOTkxXT17dj00MDAwMH0sWzEzOTkzXT17dj02MDAwMH0sWzEzOTk0XT17dj0zMDAwMH0sWzEzOTk1XT17dj0zNTAwMH0sDQogICAgWzEzOTk2XT17dj0xNjAwMH0sWzEzOTk3XT17dj0yNTAwMH0sWzEzOTk4XT17dj0zNjAwMH0sWzEzOTk5XT17dj00MDAwMH0sWzE0MDAwXT17dj00MjAwMH0sWzE0MDAxXT17dj00MjAwMH0sDQogICAgWzE0MDA4XT17dj0yODB9LFsxNDAwOV09e3Y9MzMwfSxbMTQwMTBdPXt2PTIzMH0sWzE0MDExXT17dj05MH0sWzE0MDEyXT17dj0xODB9LFsxNDAxM109e3Y9MjkwfSwNCiAgICBbMTQwMTddPXt2PTgwfSxbMTQwNDBdPXt2PTExMDAwfSxbMTQwNDFdPXt2PTM2MH0sWzE0MDQyXT17dj05MDAwfSxbMTQwNDNdPXt2PTkwMDB9LFsxNDA0NF09e3Y9NDMwfSwNCiAgICBbMTQwNTJdPXtjPTE1MH0sWzE0MDUzXT17Yz0xNTB9LFsxNDA1NF09e2M9MjAwfSxbMTQwNzZdPXt2PTEzMH0sWzE0MDc3XT17dj00MjB9LFsxNDA3OF09e3Y9MzQwfSwNCiAgICBbMTQwNzldPXt2PTIxMH0sWzE0MDgwXT17dj0zMjB9LFsxNDA4MV09e3Y9MTkwfSxbMTQwODJdPXt2PTQ1MH0sWzE0MDgzXT17dj0xNTB9LFsxNDA4NF09e2M9MTB9LA0KICAgIFsxNDA4Nl09e3Y9MTUwMDB9LFsxNDA4N109e3Y9MTUwMDB9LFsxNDA4OF09e3Y9MzIwMDB9LFsxNDA4OV09e3Y9MTcwMDB9LFsxNDE1M109e2M9Nn0sWzE0MjI1XT17dj0xMzB9LA0KICAgIFsxNDI0Nl09e3Y9MjgwMDB9LFsxNDI0N109e3Y9MTIwMDB9LFsxNDI1MF09e3Y9NzAwMH0sWzE0MjUxXT17Yz02fSxbMTQyNTJdPXtjPTZ9LFsxNDI1OF09e3Y9MzUwMDB9LA0KICAgIFsxNDc1M109e3Y9MTMwfSxbMTU3OTNdPXtjPTIwfSxbMTYwOTZdPXt2PTY1MDB9LFsxNjExNV09e3Y9NjAwMH0sWzE2MTE3XT17dj02MDAwfSxbMTYxMThdPXt2PTY1MDB9LA0KICAgIFsxNjExOV09e3Y9MTUwMH0sWzE2MTIwXT17dj0xNTAwfSxbMTYxMjFdPXt2PTE1MDB9LFsxNjEyMl09e3Y9NDAwfSxbMTYxMjNdPXt2PTQwMH0sWzE2MTI0XT17dj00MDB9LA0KICAgIFsxNjEyNV09e3Y9ODAwfSxbMTYxMjZdPXt2PTQwMH0sWzE2MTI3XT17dj00MDB9LFsxNjEzMF09e3Y9NTcwfSxbMTYxMzFdPXt2PTYxMH0sWzE2MTMyXT17dj02NTB9LA0KICAgIFsxNjEzM109e3Y9NDAwfSxbMTYxMzRdPXt2PTgwMH0sWzE2MTM1XT17dj0zMzB9LFsxNjEzN109e3Y9NTkwfSxbMTYxMzhdPXt2PTQ0MH0sWzE2MTM5XT17dj01NDB9LA0KICAgIFsxNjE0MF09e3Y9NTEwfSxbMTYxNDFdPXtjPTIwfSxbMTYxNDJdPXtjPTEyfSxbMTYxNDNdPXtjPTEyfSxbMTYxNjNdPXt2PTM1MDAwfSxbMTYxNjRdPXt2PTM1MDAwfSwNCiAgICBbMTYxNjddPXtjPTE1MH0sWzE3NDU4XT17dj0yMH0sWzE3NDYxXT17dj02NX0sWzE3NDYyXT17dj01MH0sWzE3NDYzXT17dj0yNX0sWzE3ODA5XT17dj0zNX0sWzE3ODEwXT17dj0yNTB9LA0KICAgIFsxNzgxMl09e3Y9NTAwfSxbMTc4MTNdPXt2PTMwMH0sWzE3ODE3XT17dj01MH0sWzE3ODE4XT17dj0xNTB9LFsxNzgxOV09e3Y9NDB9LFsxNzgyMl09e3Y9MjB9LFsxNzgyM109e3Y9MzB9LA0KICAgIFsxNzgyNl09e3Y9MTkwfSxbMTc4MjddPXt2PTExMH0sWzE3ODI4XT17dj00MDAwfSxbMTc4MjldPXt2PTcwMDB9LFsxNzgzMF09e3Y9MTQwfSxbMTc4MzFdPXt2PTE1MH0sDQogICAgWzE3ODQ2XT17dj03NTB9LFsxNzg0N109e3Y9MTIwfSxbMTc4NDhdPXt2PTI1MH0sWzE3ODQ5XT17dj0xNzB9LFsxNzg1MF09e3Y9OTB9LFsxNzg1MV09e3Y9MTYwfSwNCiAgICBbMTc4NTJdPXt2PTIwMDB9LFsxNzg1M109e3Y9MTQwfSxbMTc4NTRdPXt2PTgwfSxbMTc4NTVdPXt2PTQwfSxbMTc4NTZdPXt2PTEzMH0sWzE3ODU3XT17dj0xMTB9LA0KICAgIFsxNzg1OV09e3Y9MzAwfSxbMTc5NzJdPXt2PTIwMH0sWzE3OTc0XT17dj05MH0sWzE3OTc1XT17dj01MH0sWzE3OTc3XT17dj00MH0sWzc0MzhdPXt2PTIwMDB9LA0KICAgIFszMDk1XT17Yz01MDAsZD0zMH0sWzM1NDldPXtjPTEwMDAwLGQ9MjQwfSxbMzczMV09e3Y9MjAwfQ0KfQ0KbG9jYWwgb3V0Zml0Q29sb3JzID0gew0KICAgICdGRkZGRkYnLCdGRkQ0QkYnLCdGRkU5QkYnLCdGRkZGQkYnLCdFOUZGQkYnLCdENEZGQkYnLA0KICAgICdCRkZGQkYnLCdCRkZGRDQnLCdCRkZGRTknLCdCRkZGRkYnLCdCRkU5RkYnLCdCRkQ0RkYnLA0KICAgICdCRkJGRkYnLCdENEJGRkYnLCdFOUJGRkYnLCdGRkJGRkYnLCdGRkJGRTknLCdGRkJGRDQnLA0KICAgICdGRkJGQkYnLCdEQURBREEnLCdCRjlGOEYnLCdCRkFGOEYnLCdCRkJGOEYnLCdBRkJGOEYnLA0KICAgICc5RkJGOEYnLCc4RkJGOEYnLCc4RkJGOUYnLCc4RkJGQUYnLCc4RkJGQkYnLCc4RkFGQkYnLA0KICAgICc4RjlGQkYnLCc4RjhGQkYnLCc5RjhGQkYnLCdBRjhGQkYnLCdCRjhGQkYnLCdCRjhGQUYnLA0KICAgICdCRjhGOUYnLCdCRjhGOEYnLCdCNkI2QjYnLCdCRjdGNUYnLCdCRkFGOEYnLCdCRkJGNUYnLA0KICAgICc5RkJGNUYnLCc3RkJGNUYnLCc1RkJGNUYnLCc1RkJGN0YnLCc1RkJGOUYnLCc1RkJGQkYnLA0KICAgICc1RjlGQkYnLCc1RjdGQkYnLCc1RjVGQkYnLCc3RjVGQkYnLCc5RjVGQkYnLCdCRjVGQkYnLA0KICAgICdCRjVGOUYnLCdCRjVGN0YnLCdCRjVGNUYnLCc5MTkxOTEnLCdCRjZBM0YnLCdCRjk0M0YnLA0KICAgICdCRkJGM0YnLCc5NEJGM0YnLCc2QUJGM0YnLCczRkJGM0YnLCczRkJGNkEnLCczRkJGOTQnLA0KICAgICczRkJGQkYnLCczRjk0QkYnLCczRjZBQkYnLCczRjNGQkYnLCc2QTNGQkYnLCc5NDNGQkYnLA0KICAgICdCRjNGQkYnLCdCRjNGOTQnLCdCRjNGNkEnLCdCRjNGM0YnLCc2RDZENkQnLCdGRjU1MDAnLA0KICAgICdGRkFBMDAnLCdGRkZGMDAnLCdBQUZGMDAnLCc1NEZGMDAnLCcwMEZGMDAnLCcwMEZGNTQnLA0KICAgICcwMEZGQUEnLCcwMEZGRkYnLCcwMEE5RkYnLCcwMDU1RkYnLCcwMDAwRkYnLCc1NTAwRkYnLA0KICAgICdBOTAwRkYnLCdGRTAwRkYnLCdGRjAwQUEnLCdGRjAwNTUnLCdGRjAwMDAnLCc0ODQ4NDgnLA0KICAgICdCRjNGMDAnLCdCRjdGMDAnLCdCRkJGMDAnLCc3RkJGMDAnLCczRkJGMDAnLCcwMEJGMDAnLA0KICAgICcwMEJGM0YnLCcwMEJGN0YnLCcwMEJGQkYnLCcwMDdGQkYnLCcwMDNGQkYnLCcwMDAwQkYnLA0KICAgICczRjAwQkYnLCc3RjAwQkYnLCdCRjAwQkYnLCdCRjAwN0YnLCdCRjAwM0YnLCdCRjAwMDAnLA0KICAgICcyNDI0MjQnLCc3RjJBMDAnLCc3RjU1MDAnLCc3RjdGMDAnLCc1NTdGMDAnLCcyQTdGMDAnLA0KICAgICcwMDdGMDAnLCcwMDdGMkEnLCcwMDdGNTUnLCcwMDdGN0YnLCcwMDU0N0YnLCcwMDJBN0YnLA0KICAgICcwMDAwN0YnLCcyQTAwN0YnLCc1NDAwN0YnLCc3RjAwN0YnLCc3RjAwNTUnLCc3RjAwMkEnLA0KICAgICc3RjAwMDAnLA0KfQ0KDQotLSBFdmVudHMgZm9yIG1vZGlmeWluZyB2YWx1ZXMNCmxvY2FsIGV2ZW50ID0gew0KICAgIFNlc3Npb25UaW1lID0gZnVuY3Rpb24oaHVkLCBpdGVtKQ0KICAgICAgICBsb2NhbCBkaWZmID0gb3MudGltZSgpIC0gaHVkLl9zZXNzaW9uc3RhcnQNCiAgICAgICAgbG9jYWwgaCxtLHMgPSBtYXRoLmZsb29yKGRpZmYgLyAzNjAwKSwgbWF0aC5mbG9vcihkaWZmIC8gNjApICUgNjAsIGRpZmYgJSA2MA0KICAgICAgICByZXR1cm4gKCclMDJkOiUwMmQ6JTAyZCcpOmZvcm1hdChoLCBtLCBzKQ0KICAgIGVuZCwNCiAgICBTZXJ2ZXJTYXZlID0gZnVuY3Rpb24oaHVkLCBpdGVtKQ0KICAgICAgICBsb2NhbCBzZWNvbmRzTGVmdCA9IGh1ZDpHZXRUaW1lVW50aWxTZXJ2ZXJTYXZlKCkgKiAzNjAwDQogICAgICAgIGxvY2FsIGgsbSxzID0gbWF0aC5mbG9vcihzZWNvbmRzTGVmdCAvIDM2MDApLCBtYXRoLmZsb29yKHNlY29uZHNMZWZ0IC8gNjApICUgNjAsIHNlY29uZHNMZWZ0ICUgNjANCiAgICAgICAgcmV0dXJuICgnJTAyZDolMDJkOiUwMmQnKTpmb3JtYXQoaCwgbSwgcykNCiAgICBlbmQsDQogICAgRXhwR2FpbmVkID0gZnVuY3Rpb24oaHVkKQ0KICAgICAgICBsb2NhbCBnYWluID0gZ2V0U2VsZkV4cGVyaWVuY2UoKSAtIGh1ZC5fZXhwc3RhcnQNCiAgICAgICAgaWYoZ2FpbiA8IDEpdGhlbiByZXR1cm4gJ05vbmUnIGVuZA0KICAgICAgICBpZihodWQuX2hvdXJseWVuYWJsZWQpdGhlbg0KICAgICAgICAgICAgbG9jYWwgdGltZWRpZmYgPSBvcy50aW1lKCkgLSBodWQuX3Nlc3Npb25zdGFydA0KICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcihtYXRoLmZsb29yKGdhaW4gLyAodGltZWRpZmYgLyAzNjAwKSkpIC4uICcvaHInDQogICAgICAgIGVuZA0KICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKGdhaW4pDQogICAgZW5kLA0KICAgIFRvdGFsUHJvZml0ID0gZnVuY3Rpb24oaHVkKQ0KICAgICAgICBsb2NhbCBnYWluID0gaHVkLl9sb290Z2FpbiAtIGh1ZC5fc3VwcGx5d2FzdGUNCiAgICAgICAgaWYoZ2FpbiA9PSAwKXRoZW4gcmV0dXJuICdOb25lJyBlbmQNCiAgICAgICAgaWYoaHVkLl9ob3VybHllbmFibGVkKXRoZW4NCiAgICAgICAgICAgIGxvY2FsIHRpbWVkaWZmID0gb3MudGltZSgpIC0gaHVkLl9zZXNzaW9uc3RhcnQNCiAgICAgICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIobWF0aC5mbG9vcihnYWluIC8gKHRpbWVkaWZmIC8gMzYwMCkpKSAuLiAnL2hyJw0KICAgICAgICBlbmQNCiAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcihnYWluKSAuLiAnIGdwJw0KICAgIGVuZCwNCiAgICBTdXBwbHlXYXN0ZSA9IGZ1bmN0aW9uKGh1ZCkNCiAgICAgICAgbG9jYWwgbG9zcyA9IGh1ZC5fc3VwcGx5d2FzdGUNCiAgICAgICAgaWYobG9zcyA8IDEpdGhlbiByZXR1cm4gJ05vbmUnIGVuZA0KICAgICAgICBpZihodWQuX2hvdXJseWVuYWJsZWQpdGhlbg0KICAgICAgICAgICAgbG9jYWwgdGltZWRpZmYgPSBvcy50aW1lKCkgLSBodWQuX3Nlc3Npb25zdGFydA0KICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcihtYXRoLmZsb29yKGxvc3MgLyAodGltZWRpZmYgLyAzNjAwKSkpIC4uICcvaHInDQogICAgICAgIGVuZA0KICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKGxvc3MpIC4uICcgZ3AnDQogICAgZW5kLA0KICAgIExvb3RHYWluID0gZnVuY3Rpb24oaHVkKQ0KICAgICAgICBsb2NhbCBnYWluID0gaHVkLl9sb290Z2Fpbg0KICAgICAgICBpZihnYWluIDwgMSl0aGVuIHJldHVybiAnTm9uZScgZW5kDQogICAgICAgIGlmKGh1ZC5faG91cmx5ZW5hYmxlZCl0aGVuDQogICAgICAgICAgICBsb2NhbCB0aW1lZGlmZiA9IG9zLnRpbWUoKSAtIGh1ZC5fc2Vzc2lvbnN0YXJ0DQogICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKG1hdGguZmxvb3IoZ2FpbiAvICh0aW1lZGlmZiAvIDM2MDApKSkgLi4gJy9ocicNCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIoZ2FpbikgLi4gJyBncCcNCiAgICBlbmQsDQogICAgTG9vdFVwZGF0ZSA9IGZ1bmN0aW9uKGh1ZCwgaXRlbSkNCiAgICAgICAgbG9jYWwgbG9vdCA9IGh1ZC5fbG9vdFRhYmxlDQogICAgICAgIGxvY2FsIGl0ZW1pZCA9IGl0ZW0uX2xhYmVsLl9kYXRhDQogICAgICAgIGxvY2FsIHZhbHVlcyA9IGh1ZC5faXRlbVZhbHVlc1tpdGVtaWRdDQogICAgICAgIGxvY2FsIGNvdW50ID0gbG9vdFtpdGVtaWRdDQogICAgICAgIGlmKGNvdW50IGFuZCBjb3VudCA+IDApdGhlbg0KICAgICAgICAgICAgLS0gaG91cmx5IHJhdGVzDQogICAgICAgICAgICBpZihodWQuX2hvdXJseWVuYWJsZWQgYW5kIGh1ZC5faXRlbUhvdXJseUVuYWJsZWQpdGhlbg0KICAgICAgICAgICAgICAgIHJldHVybiBuaWwsIGZvcm1hdE51bWJlcihtYXRoLmZsb29yKGNvdW50IC8gKChvcy50aW1lKCkgLSBodWQuX3Nlc3Npb25zdGFydCkgLyAzNjAwKSkpIC4uICcvaHInDQogICAgICAgICAgICAtLSBkaXJlY3QgY3VycmVuY3kNCiAgICAgICAgICAgIGVsc2VpZihpdGVtaWQgPT0gMzAzMSBvciBpdGVtaWQgPT0gMzAzNSBvciBpdGVtaWQgPT0gMzA0Myl0aGVuDQogICAgICAgICAgICAgICAgcmV0dXJuIG5pbCwgZm9ybWF0TnVtYmVyKCh2YWx1ZXMudiAqIGNvdW50KSkgLi4gJyBncCcNCiAgICAgICAgICAgIC0tIG90aGVyIHdpdGggdmFsdWUNCiAgICAgICAgICAgIGVsc2VpZih2YWx1ZXMgYW5kIHZhbHVlcy52KXRoZW4NCiAgICAgICAgICAgICAgICByZXR1cm4gbmlsLCAoJyVzICglcyBncCknKTpmb3JtYXQoZm9ybWF0TnVtYmVyKGNvdW50KSwgZm9ybWF0TnVtYmVyKHZhbHVlcy52ICogY291bnQpKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAtLSBubyB2YWx1ZSBhdmFpbGFibGUNCiAgICAgICAgICAgIHJldHVybiBuaWwsIGZvcm1hdE51bWJlcihsb290W2l0ZW1pZF0pDQogICAgICAgIGVuZA0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICBlbmQsDQogICAgU3VwcGx5VXBkYXRlID0gZnVuY3Rpb24oaHVkLCBpdGVtKQ0KICAgICAgICBsb2NhbCBzdXBwbGllcyA9IGh1ZC5fc3VwcGxpZXNUYWJsZQ0KICAgICAgICBsb2NhbCBpdGVtaWQgPSBpdGVtLl9sYWJlbC5fZGF0YQ0KICAgICAgICBsb2NhbCB2YWx1ZXMgPSBodWQuX2l0ZW1WYWx1ZXNbaXRlbWlkXQ0KICAgICAgICBsb2NhbCBjb3VudCA9IHN1cHBsaWVzW2l0ZW1pZF0NCiAgICAgICAgaWYoY291bnQgYW5kIGNvdW50ID4gMCBhbmQgaHVkLl9pdGVtSG91cmx5RW5hYmxlZCl0aGVuDQogICAgICAgICAgICBsb2NhbCBjb3N0ID0gKHZhbHVlcyBhbmQgdmFsdWVzLmMgYW5kIGZvcm1hdE51bWJlcih2YWx1ZXMuYyAqIGNvdW50KSAuLiAnIGdwJyBvciAnLS0nKQ0KICAgICAgICAgICAgLS0gaG91cmx5IHJhdGVzDQogICAgICAgICAgICBpZihodWQuX2hvdXJseWVuYWJsZWQpdGhlbg0KICAgICAgICAgICAgICAgIHJldHVybiBjb3N0LCBmb3JtYXROdW1iZXIobWF0aC5mbG9vcihjb3VudCAvICgob3MudGltZSgpIC0gaHVkLl9zZXNzaW9uc3RhcnQpIC8gMzYwMCkpKSAuLiAnL2hyJw0KICAgICAgICAgICAgZW5kDQogICAgICAgICAgICByZXR1cm4gY29zdCwgZm9ybWF0TnVtYmVyKHN1cHBsaWVzW2l0ZW1pZF0pDQogICAgICAgIGVuZA0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICBlbmQsDQogICAgVGltZWRTdXBwbHlVcGRhdGUgPSBmdW5jdGlvbihodWQsIGl0ZW0pDQogICAgICAgIGxvY2FsIHN1cHBsaWVzID0gaHVkLl9zdXBwbGllc1RhYmxlDQogICAgICAgIGxvY2FsIGl0ZW1pZCA9IGl0ZW0uX2xhYmVsLl9kYXRhDQogICAgICAgIGxvY2FsIHZhbHVlcyA9IGh1ZC5faXRlbVZhbHVlc1tpdGVtaWRdDQogICAgICAgIGxvY2FsIGNvdW50ID0gc3VwcGxpZXNbaXRlbWlkXQ0KICAgICAgICBpZihjb3VudCBhbmQgY291bnQgPiAwKXRoZW4NCiAgICAgICAgCWxvY2FsIGNvc3QgPSB2YWx1ZXMgYW5kIGZvcm1hdE51bWJlcigodmFsdWVzLmMgLyAodmFsdWVzLmQgKiA2MCkpICogY291bnQpIC4uICcgZ3AnIG9yICctLScNCiAgICAgICAgICAgIC0tIGhvdXJseSByYXRlcw0KICAgICAgICAgICAgLS1pZihodWQuX2hvdXJseWVuYWJsZWQpdGhlbg0KICAgICAgICAgICAgLS0gICAgcmV0dXJuIGNvc3QsIGZvcm1hdE51bWJlcihtYXRoLmZsb29yKGNvdW50IC8gKChvcy50aW1lKCkgLSBodWQuX3Nlc3Npb25zdGFydCkgLyAzNjAwKSkpIC4uICcvaHInDQogICAgICAgICAgICAtLWVuZA0KCSAgICAgICAgbG9jYWwgaCxtLHMgPSBtYXRoLmZsb29yKGNvdW50IC8gMzYwMCksIG1hdGguZmxvb3IoY291bnQgLyA2MCkgJSA2MCwgY291bnQgJSA2MA0KCSAgICAgICAgcmV0dXJuIGNvc3QsICgnJTAyZDolMDJkOiUwMmQnKTpmb3JtYXQoaCwgbSwgcykNCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZA0KfQ0KDQpmdW5jdGlvbiBnZXRTY3JlZW5EaW1lbnNpb25zKCkNCiAgICBsb2NhbCBwYXRoLCBoZWlnaHQsIHdpZHRoID0gJy4uL1NjcmVlbnNob3RzLy5kaW1fdGVzdCcsIDAsIDANCiAgICBsb2NhbCBwaXhlbHMgPSB7fQ0KICAgIGxvY2FsIGZ1bmN0aW9uIGdldFBpeGVsQ29sb3IoeCwgeSkNCiAgICAgICAgbG9jYWwgYmFzZSA9ICgoKHktMSkgKiAod2lkdGggKiAzKSkgKyAoKHgtMSkgKiAzKSkgKyAxDQogICAgICAgIHJldHVybiB7cGl4ZWxzW2Jhc2UrMl0sIHBpeGVsc1tiYXNlKzFdLCBwaXhlbHNbYmFzZV19DQogICAgZW5kDQoNCiAgICBzY3JlZW5zaG90KHBhdGgpDQogICAgLS0gMzIgYml0IGR3b3JkDQogICAgbG9jYWwgX2R3b3JkID0gZnVuY3Rpb24oc3RyLCBvZmZzZXQpDQogICAgICAgIGxvY2FsIGxvLCBoaSA9IHN0cjpieXRlKG9mZnNldCArIDEpICogMjU2ICsgc3RyOmJ5dGUob2Zmc2V0KSwgc3RyOmJ5dGUob2Zmc2V0ICsgMykgKiAyNTYgKyBzdHI6Ynl0ZShvZmZzZXQgKyAyKQ0KICAgICAgICByZXR1cm4gaGkgKiA2NTUzNiArIGxvDQogICAgZW5kDQogICAgbG9jYWwgZmlsZSA9IGlvLm9wZW4ocGF0aCAuLiAnLmJtcCcsICJyYiIpDQogICAgaWYoZmlsZSl0aGVuDQogICAgICAgIGxvY2FsIGhlYWRlciA9IGZpbGU6cmVhZCg1NCkNCiAgICAgICAgZmlsZTpjbG9zZSgpDQogICAgICAgIGlmKGhlYWRlcil0aGVuDQogICAgICAgICAgICB3aWR0aCA9IHRvbnVtYmVyKF9kd29yZChoZWFkZXIsIDE5KSkNCiAgICAgICAgICAgIGhlaWdodCA9IHRvbnVtYmVyKF9kd29yZChoZWFkZXIsIDIzKSkNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgcmV0dXJuIGhlaWdodCwgd2lkdGgNCmVuZA0KDQpmdW5jdGlvbiBoZXhUb1JHQihoZXgpDQogICAgaGV4ID0gaGV4IG9yICdGRkZGRkYnDQogICAgcmV0dXJuIHt0b251bWJlcigiMHgiLi5oZXg6c3ViKDEsMikpLHRvbnVtYmVyKCIweCIuLmhleDpzdWIoMyw0KSksdG9udW1iZXIoIjB4Ii4uaGV4OnN1Yig1LDYpKX0NCmVuZA0KDQpmdW5jdGlvbiBnZXRPdXRmaXRDb2xvcnMoKQ0KICAgIGxvY2FsIG91dGZpdCA9IGdldFNlbGZPdXRmaXQoKQ0KICAgIHJldHVybiB7DQogICAgICAgIGhlYWQgPSBoZXhUb1JHQihvdXRmaXRDb2xvcnNbb3V0Zml0LmhlYWQrMV0pLA0KICAgICAgICBib2R5ID0gaGV4VG9SR0Iob3V0Zml0Q29sb3JzWzFdKSwNCiAgICAgICAgbGVncyA9IGhleFRvUkdCKG91dGZpdENvbG9yc1tvdXRmaXQubGVncysxXSksDQogICAgICAgIGZlZXQgPSBoZXhUb1JHQihvdXRmaXRDb2xvcnNbb3V0Zml0LmZlZXQrMV0pLA0KICAgIH0NCmVuZA0KDQpmdW5jdGlvbiBzdHJpbmc6bWF4KGxlbmd0aCwgc3Vic3RyaW5nKQ0KICAgIHJldHVybiBzZWxmOmxlbigpID4gbGVuZ3RoIGFuZCBzZWxmOnN1YigxLCBsZW5ndGgpIC4uIHN1YnN0cmluZyBvciBzZWxmDQplbmQNCg0KZnVuY3Rpb24gZm9ybWF0TnVtYmVyKG4pIC0tIGJhc2VkIGZyb20gaHR0cDovL3JpY2hhcmQud2FyYnVydG9uLml0DQogICAgbG9jYWwgbiA9IHRvbnVtYmVyKHN0cmluZy5mb3JtYXQoJyUuMmYnLCBuKSkNCiAgICBsb2NhbCBsZWZ0LG51bSxyaWdodCA9IHN0cmluZy5tYXRjaChuLCdeKFteJWRdKiVkKSglZCopKC4tKSQnKQ0KICAgIHJldHVybiBsZWZ0Li4obnVtOnJldmVyc2UoKTpnc3ViKCcoJWQlZCVkKScsJyUxLCcpOnJldmVyc2UoKSkuLnJpZ2h0DQplbmQNCg0KU2VsZi5JdGVtQ291bnQgPSBmdW5jdGlvbihpdGVtaWQsIGNvbnRhaW5lciwgY291bnRFcXVpcG1lbnQpDQogICAgaWYgKGNvdW50RXF1aXBtZW50ID09IG5pbCkgdGhlbiBjb3VudEVxdWlwbWVudCA9IHRydWUgZW5kDQogICAgaXRlbWlkID0gSXRlbS5HZXRJdGVtSURGcm9tRHVhbElucHV0KGl0ZW1pZCkNCiAgICBsb2NhbCB2YWx1ZSA9IDANCiAgICBpZiAoY291bnRFcXVpcG1lbnQpIHRoZW4NCiAgICAgICAgbG9jYWwgc2xvdHMgPSB7U2VsZi5IZWFkLCBTZWxmLkFybW9yLCBTZWxmLkxlZ3MsIFNlbGYuRmVldCwgU2VsZi5BbXVsZXQsIFNlbGYuV2VhcG9uLCBTZWxmLlJpbmcsIFNlbGYuU2hpZWxkLCBTZWxmLkFtbW99DQogICAgICAgIGZvciBpID0gMSwgI3Nsb3RzIGRvIC0tIGNvdW50IHNsb3RzDQogICAgICAgICAgICBsb2NhbCBzbG90ID0gc2xvdHNbaV0oKQ0KICAgICAgICAgICAgaWYoc2xvdC5pZCA9PSBpdGVtaWQpdGhlbg0KICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKyBtYXRoLm1heChzbG90LmNvdW50LCAxKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIGlmIChjb250YWluZXIpIHRoZW4gLS0gY291bnQgc3BlY2lmaWMgY29udGFpbmVyDQogICAgICAgIHZhbHVlID0gdmFsdWUgKyBDb250YWluZXIuQ291bnRJdGVtc09mSUQoY29udGFpbmVyLCBpdGVtaWQpIG9yIDANCiAgICBlbHNlIC0tIGNvdW50IGV2ZXJ5dGhpbmcNCiAgICAgICAgbG9jYWwgY29udCA9IENvbnRhaW5lci5HZXRGaXJzdCgpDQogICAgICAgIHdoaWxlIChjb250OmlzT3BlbigpKSBkbw0KICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIGNvbnQ6Q291bnRJdGVtc09mSUQoaXRlbWlkKQ0KICAgICAgICAgICAgY29udCA9IGNvbnQ6R2V0TmV4dCgpDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIHJldHVybiB2YWx1ZQ0KZW5kDQoNClNldHRpbmdzID0ge30NClNldHRpbmdzLl9faW5kZXggPSBTZXR0aW5ncw0KZnVuY3Rpb24gU2V0dGluZ3MuTmV3KG5hbWUpDQogICAgbG9jYWwgZmlsZSA9IGFzc2VydChpby5vcGVuKCgiLi5cXFNldHRpbmdzXFwlcy54YnN0Iik6Zm9ybWF0KG5hbWUpLCAiciIpLCAnQ291bGQgbm90IHJlYWQgIicgLi4gbmFtZSAuLiAnLnhic3QiLCBtYWtlIHN1cmUgdGhlIGZpbGUgZXhpc3RzIGluIHRoZSBTZXR0aW5ncyBmb2xkZXIuJykNCiAgICBsb2NhbCBjID0ge30NCiAgICBzZXRtZXRhdGFibGUoYywgU2V0dGluZ3MpDQogICAgbG9jYWwgeG1sID0gZmlsZTpyZWFkKCIqYWxsIikNCiAgICBmaWxlOmNsb3NlKCkNCg0KICAgIGMuX25hbWUgPSBuYW1lDQogICAgYy5fZGF0YSA9IHhtbA0KICAgIHJldHVybiBjDQplbmQNCg0KZnVuY3Rpb24gU2V0dGluZ3M6R2V0KHBhbmVsKQ0KICAgIHNlbGYgPSAodHlwZShzZWxmKSA9PSAndGFibGUnKSBhbmQgc2VsZiBvciBTZXR0aW5ncy5OZXcoc2VsZikNCiAgICBsb2NhbCBwYXJzZUFyZ3VtZW50cyA9IGZ1bmN0aW9uKHMpIA0KICAgICAgICBsb2NhbCBhcmcgPSB7fQ0KICAgICAgICBzdHJpbmcuZ3N1YihzLCAiKCV3Kyk9KFtcIiddKSguLSklMiIsIGZ1bmN0aW9uICh3LCBfLCBhKQ0KICAgICAgICAgICAgYXJnW3ddID0gYQ0KICAgICAgICBlbmQpDQogICAgICAgIHJldHVybiBhcmcNCiAgICBlbmQNCiAgICBsb2NhbCB0YmwsIHRtcCwgeG1sID0ge30sIHt9LCBzZWxmLl9kYXRhDQogICAgaSwgY3VyID0gMSwge3BhbmVsPW5pbCwgY29udHJvbD1uaWx9DQogICAgd2hpbGUodHJ1ZSlkbw0KICAgICAgICBsb2NhbCBpU3RhcnQsIGlFbmQsIGNsb3NlZCwgbGFiZWwsIGUsIGVtcHR5ID0gc3RyaW5nLmZpbmQoeG1sLCAiPCglLz8pKFsldzpdKykoLi0pKCUvPyk+IiwgaSkNCiAgICAgICAgaWYobm90IGlTdGFydCl0aGVuIGJyZWFrIGVuZA0KICAgICAgICBsb2NhbCBhcmcgPSBwYXJzZUFyZ3VtZW50cyhlKQ0KICAgICAgICBpZihlbXB0eSA9PSAnLycgYW5kIHRibFtjdXIucGFuZWxdKXRoZW4gLS0gY29udGFpbnMgbm8gaW5uZXIgdmFsdWUgKCA8aXRlbSBuYW1lPSJleCIgLz4gKQ0KICAgICAgICAgICAgbG9jYWwgYXJnID0gcGFyc2VBcmd1bWVudHMoZSkNCiAgICAgICAgICAgIGxvY2FsIHRhcmdldCA9IChjdXIuY29udHJvbCB+PSBuaWwpIGFuZCB0YmxbY3VyLnBhbmVsXVtjdXIuY29udHJvbF0gb3IgdGJsW2N1ci5wYW5lbF0NCiAgICAgICAgICAgIGlmKGFyZy5uYW1lKXRoZW4NCiAgICAgICAgICAgICAgICB0YXJnZXRbYXJnLm5hbWVdID0gYXJnLnZhbHVlDQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0KHRhcmdldCwgYXJnKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVsc2VpZihjbG9zZWQgPT0gJycgYW5kIGFyZy5uYW1lKXRoZW4gLS0gbmV3IGVsZW1lbnQgc3RhcnQgd2l0aCBwb3NzaWJsZSBjaGlsZHJlbg0KICAgICAgICAgICAgaWYobGFiZWwgPT0gJ3BhbmVsJyBhbmQgKGFyZy5uYW1lID09IHBhbmVsIG9yIG5vdCBwYW5lbCkpdGhlbg0KICAgICAgICAgICAgICAgIHRibFthcmcubmFtZV0gPSB7fQ0KICAgICAgICAgICAgZWxzZWlmKGxhYmVsID09ICdjb250cm9sJyBhbmQgdGJsW2N1ci5wYW5lbF0pdGhlbg0KICAgICAgICAgICAgICAgIHRibFtjdXIucGFuZWxdW2FyZy5uYW1lXSA9IHt9DQogICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGN1cltsYWJlbF0gPSBhcmcubmFtZQ0KICAgICAgICBlbHNlIC0tIGNsb3NlIHRhZyAoIDwvZW5kPiApDQogICAgICAgICAgICBjdXJbbGFiZWxdID0gbmlsDQogICAgICAgIGVuZA0KICAgICAgICBpID0gaUVuZCArIDENCiAgICBlbmQNCiAgICByZXR1cm4gcGFuZWwgYW5kIHRibFtwYW5lbF0gb3IgdGJsDQplbmQNCg0KU1lOSFVEX0l0ZW0gPSB7fQ0KU1lOSFVEX0l0ZW0uX19pbmRleCA9IFNZTkhVRF9JdGVtDQpTWU5IVURfUGFuZWwgPSB7fQ0KU1lOSFVEX1BhbmVsLl9faW5kZXggPSBTWU5IVURfUGFuZWwNClNZTkhVRCA9IHt9DQpTWU5IVUQuX19pbmRleCA9IFNZTkhVRA0KDQotLSBJdGVtIENsYXNzDQpmdW5jdGlvbiBTWU5IVURfSXRlbS5OZXcoY29sdW1uLCBwb3NpdGlvbiwgbGFiZWwsIC4uLikNCiAgICBsb2NhbCBjID0ge30NCiAgICBzZXRtZXRhdGFibGUoYywgU1lOSFVEX0l0ZW0pDQoNCiAgICBjLl9wYW5lbCA9IGNvbHVtbg0KICAgIGNvbHVtbiA9IGNvbHVtbi5fY29sdW1uDQoNCiAgICBsb2NhbCBjb2xvcnMgPSBjLl9wYW5lbC5faHVkOkdldEhVRENvbG9ycygpDQogICAgbG9jYWwgdGNvbG9yLCB2Y29sb3IsIHNjb2xvciA9IGNvbG9ycy5pdGVtbGFiZWwsIGNvbG9ycy5pdGVtdmFsdWUsIGNvbG9ycy5pdGVtb3B0dmFsdWUNCiAgICBsb2NhbCBpY29uc2l6ZSA9IGNvbHVtbiA9PSAxIGFuZCAxNiBvciAzMg0KICAgIGxvY2FsIGlzSWNvbiA9ICh0eXBlKGxhYmVsKSA9PSAnbnVtYmVyJykNCiAgICBsb2NhbCB2YWx1ZXMgPSB7Li4ufQ0KICAgIGMuX3BhcmFtcyA9IHsuLi59DQogICAgZm9yIGkgPSAxLCAjdmFsdWVzIGRvDQogICAgICAgIC0tIHdhaXQgZm9yIHRoZSB1cGRhdGUgcHJvY2VzcyB0byBleGVjdXRlIGZ1bmN0aW9ucw0KICAgICAgICBpZih0eXBlKHZhbHVlc1tpXSk9PSdmdW5jdGlvbicpdGhlbiB2YWx1ZXNbaV0gPSAnJ2VuZA0KICAgIGVuZA0KDQogICAgYy5fdmFsdWUgPSBIVUQuTmV3KC01MCwgLTUwLCB0b3N0cmluZyh2YWx1ZXNbMV0pLCB1bnBhY2soaXNJY29uIGFuZCBpY29uc2l6ZSA9PSAxNiBhbmQgdGNvbG9yIG9yIHZjb2xvcikpDQogICAgYy5fdmFsdWUuX2RhdGEgPSB0b3N0cmluZyh2YWx1ZXNbMV0pDQogICAgLS0gRG8gbm90IHNob3cgaW1hZ2UgbGFiZWxzIGlmIGNvbmZpZyBzYXlzIHNvLCBidXQga2VlcCB0aGUgZGF0YQ0KICAgIGxvY2FsIGltYWdlSGlkZGVuID0gZmFsc2UNCiAgICBpZihjLl9wYW5lbC5faHVkLl9kaXNwbGF5aWNvbnMgb3Igbm90IChpc0ljb24gYW5kIGljb25zaXplID09IDE2KSl0aGVuDQogICAgICAgIGMuX2xhYmVsID0gaXNJY29uIGFuZCBIVUQuTmV3KC01MCwgLTUwLCBsYWJlbCwgaWNvbnNpemUsIDEwMCkgb3IgSFVELk5ldygtNTAsIC01MCwgbGFiZWwsIHVucGFjayh0Y29sb3IpKQ0KICAgIGVsc2UNCiAgICAgICAgaW1hZ2VIaWRkZW4gPSB0cnVlDQogICAgICAgIGMuX2xhYmVsID0gSFVELk5ldygtNTAsIC01MCwgJycsIHVucGFjayh0Y29sb3IpKQ0KICAgIGVuZA0KICAgIGMuX2xhYmVsLl9kYXRhID0gbGFiZWwNCiAgICBpZihpc0ljb24gYW5kIHZhbHVlc1syXSl0aGVuDQogICAgICAgIGMuX3ZhbHVlMiA9IEhVRC5OZXcoLTUwLCAtNTAsIHRvc3RyaW5nKHZhbHVlc1syXSksIHVucGFjayhpY29uc2l6ZSA9PSAzMiBhbmQgc2NvbG9yIG9yIHZjb2xvcikpDQogICAgICAgIGMuX3ZhbHVlMi5fZGF0YSA9IHRvc3RyaW5nKHZhbHVlc1syXSkNCiAgICBlbmQNCiAgICBjLl9wb3NpdGlvbiA9IHBvc2l0aW9uDQogICAgYy5fY29sdW1uID0gY29sdW1uDQogICAgYy5faW1hZ2VIaWRkZW4gPSBpbWFnZUhpZGRlbg0KICAgIGMuX2ltYWdlTGFiZWwgPSBpc0ljb24gYW5kIHRydWUgb3IgZmFsc2UNCiAgICBjLl9sYXJnZUltYWdlID0gaWNvbnNpemUgPT0gMzIgYW5kIHRydWUgb3IgZmFsc2UNCiAgICBjLl9oaWRkZW4gPSB0cnVlDQogICAgcmV0dXJuIGMNCmVuZA0KDQpmdW5jdGlvbiBTWU5IVURfSXRlbTpTZXRQb3NpdGlvbih4LCB5KQ0KICAgIGxvY2FsIGNvbG9ycyA9IHNlbGYuX3BhbmVsLl9odWQ6R2V0SFVEQ29sb3JzKCkNCiAgICBpZihzZWxmLl9pbWFnZUxhYmVsKXRoZW4NCiAgICAgICAgaWYobm90IHNlbGYuX2ltYWdlSGlkZGVuKXRoZW4NCiAgICAgICAgICAgIHNlbGYuX2xhYmVsOlNldFBvc2l0aW9uKHgsIHkgLSAoc2VsZi5fY29sdW1uID09IDEgYW5kIDYgb3IgNCkpDQogICAgICAgICAgICB4ID0geCArIChzZWxmLl9jb2x1bW4gPT0gMSBhbmQgMjUgb3IgMzUpDQogICAgICAgIGVuZA0KICAgICAgICBpZihzZWxmLl92YWx1ZTIpdGhlbg0KICAgICAgICAgICAgaWYoc2VsZi5fbGFyZ2VJbWFnZSl0aGVuDQogICAgICAgICAgICAgICAgc2VsZi5fdmFsdWU6U2V0VGV4dENvbG9yKHVucGFjayhjb2xvcnMuaXRlbXZhbHVlKSkNCiAgICAgICAgICAgICAgICBzZWxmLl92YWx1ZTI6U2V0VGV4dENvbG9yKHVucGFjayhjb2xvcnMuaXRlbW9wdHZhbHVlKSkNCiAgICAgICAgICAgICAgICBzZWxmLl92YWx1ZTI6U2V0UG9zaXRpb24oeCwgeSArIDE0KQ0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIHNlbGYuX3ZhbHVlOlNldFRleHRDb2xvcih1bnBhY2soY29sb3JzLml0ZW1sYWJlbCkpDQogICAgICAgICAgICAgICAgc2VsZi5fdmFsdWUyOlNldFRleHRDb2xvcih1bnBhY2soY29sb3JzLml0ZW12YWx1ZSkpDQogICAgICAgICAgICAgICAgc2VsZi5fdmFsdWUyOlNldFBvc2l0aW9uKHggKyAoMTEwIC0gKHNlbGYuX2ltYWdlSGlkZGVuIGFuZCAwIG9yIHNlbGYuX2NvbHVtbiA9PSAxIGFuZCAyNSBvciAzNSkpLCB5KQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVsc2UNCiAgICAgICAgc2VsZi5fbGFiZWw6U2V0VGV4dENvbG9yKHVucGFjayhjb2xvcnMuaXRlbWxhYmVsKSkNCiAgICAgICAgc2VsZi5fdmFsdWU6U2V0VGV4dENvbG9yKHVucGFjayhjb2xvcnMuaXRlbXZhbHVlKSkNCiAgICAgICAgc2VsZi5fbGFiZWw6U2V0UG9zaXRpb24oeCwgeSkNCiAgICAgICAgeCA9IHggKyAxMTANCiAgICBlbmQNCiAgICBzZWxmLl92YWx1ZTpTZXRQb3NpdGlvbih4LCB5KQ0KZW5kDQoNCmZ1bmN0aW9uIFNZTkhVRF9JdGVtOlVwZGF0ZVZhbHVlKGh1ZCkNCiAgICBsb2NhbCB2YWx1ZXMgPSBzZWxmLl9wYXJhbXMNCiAgICBsb2NhbCByZXQsIHJldDIgPSB2YWx1ZXNbMV0sIHZhbHVlc1syXQ0KICAgIGxvY2FsIGZ1bmMgPSB0eXBlKHJldCkgPT0gJ2Z1bmN0aW9uJyBhbmQgcmV0IG9yIHR5cGUocmV0MikgPT0gJ2Z1bmN0aW9uJyBhbmQgcmV0MiBvciBuaWwNCiAgICBpZihmdW5jKXRoZW4NCiAgICAgICAgcmV0LCByZXQyID0gZnVuYyhodWQsIHNlbGYpDQogICAgZW5kDQogICAgaWYodmFsdWVzWzJdIGFuZCByZXQyKXRoZW4gLS0gZmlyc3QgdmFsdWUgcmV0dXJuZWQgc2Vjb25kDQogICAgICAgIHNlbGYuX3ZhbHVlMjpTZXRUZXh0KHJldDIpDQogICAgICAgIHNlbGYuX3ZhbHVlMi5fZGF0YSA9IHJldDINCiAgICBlbmQNCiAgICBpZihyZXQpdGhlbg0KICAgICAgICBzZWxmLl92YWx1ZTpTZXRUZXh0KHJldCkNCiAgICAgICAgc2VsZi5fdmFsdWUuX2RhdGEgPSByZXQNCiAgICBlbmQNCiAgICBzZWxmLl9oaWRkZW4gPSAocmV0ID09IGZhbHNlKQ0KZW5kDQotLSBFbmQgSXRlbSBDbGFzcw0KDQoNCi0tIFBhbmVsIENsYXNzDQpmdW5jdGlvbiBTWU5IVURfUGFuZWwuTmV3KHBhcmVudCwgaGVhZGVyLCBjb2x1bW4sIHBvc2l0aW9uKQ0KICAgIGxvY2FsIGNvbG9yID0gcGFyZW50OkdldEhVRENvbG9ycygpLnBhbmVsaGVhZGVyDQogICAgbG9jYWwgYyA9IHt9DQogICAgc2V0bWV0YXRhYmxlKGMsIFNZTkhVRF9QYW5lbCkNCiAgICBjLl9odWQgPSBwYXJlbnQNCiAgICBjLl9uYW1lID0gaGVhZGVyOmxvd2VyKCkNCiAgICBjLl9oZWFkZXIgPSBIVUQuTmV3KC01MCwgMCwgKCdbJXNdJyk6Zm9ybWF0KGhlYWRlciksIHVucGFjayhjb2xvcikpDQogICAgYy5fY29sdW1uID0gY29sdW1uDQogICAgYy5fcG9zaXRpb24gPSBwb3NpdGlvbg0KICAgIGMuX2l0ZW1zID0ge30NCiAgICByZXR1cm4gYw0KZW5kDQoNCmZ1bmN0aW9uIFNZTkhVRF9QYW5lbDpTZXRQb3NpdGlvbih4LCB5KQ0KICAgIC0tIHBhZGRpbmcgYmV0d2VlbiBoZWFkZXIgYW5kIGl0ZW1zDQogICAgbG9jYWwgaW5pdFkgPSB5DQogICAgeSA9IHkgKyAxOA0KICAgIC0tIHNvcnQgcGFuZWwgaXRlbXMNCiAgICB0YWJsZS5zb3J0KHNlbGYuX2l0ZW1zLCBmdW5jdGlvbihhLCBiKQ0KICAgICAgICByZXR1cm4gYS5fcG9zaXRpb24gPCBiLl9wb3NpdGlvbg0KICAgIGVuZCkNCiAgICAtLSB1cGRhdGUgaXRlbSBwb3NpdGlvbnMNCiAgICBsb2NhbCB2aXNpYmxlSXRlbXMgPSBmYWxzZQ0KICAgIGZvciBpID0gMSwgI3NlbGYuX2l0ZW1zIGRvDQogICAgICAgIGxvY2FsIGl0ZW0gPSBzZWxmLl9pdGVtc1tpXQ0KICAgICAgICBpZihub3QgaXRlbS5faGlkZGVuKXRoZW4NCiAgICAgICAgICAgIHZpc2libGVJdGVtcyA9IHRydWUNCiAgICAgICAgICAgIGl0ZW06U2V0UG9zaXRpb24oeCwgeSkNCiAgICAgICAgICAgIHkgPSB5ICsgKHNlbGYuX2NvbHVtbiA9PSAxIGFuZCAxNiBvciAzMikNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgaXRlbTpTZXRQb3NpdGlvbigtNTAsIC01MCkNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgLS0gTm8gdmlzaWJsZSBpdGVtcyBpbiB0aGlzIHBhbmVsLCBoaWRlIGl0DQogICAgaWYobm90IHZpc2libGVJdGVtcyl0aGVuDQogICAgICAgIHNlbGYuX2hlYWRlcjpTZXRQb3NpdGlvbigtNTAsIC01MCkNCiAgICAgICAgcmV0dXJuIGluaXRZDQogICAgZWxzZQ0KICAgICAgICAtLSB1cGRhdGUgcG9zaXRpb24gJiBjb2xvcg0KICAgICAgICBzZWxmLl9oZWFkZXI6U2V0VGV4dENvbG9yKHVucGFjayhzZWxmLl9odWQ6R2V0SFVEQ29sb3JzKCkucGFuZWxoZWFkZXIpKQ0KICAgICAgICBzZWxmLl9oZWFkZXI6U2V0UG9zaXRpb24oeCwgaW5pdFkpDQogICAgZW5kDQogICAgcmV0dXJuIHkNCmVuZA0KDQpmdW5jdGlvbiBTWU5IVURfUGFuZWw6QWRkSXRlbShwb3NpdGlvbiwgbGFiZWwsIC4uLikNCiAgICBsb2NhbCBpdGVtID0gU1lOSFVEX0l0ZW0uTmV3KHNlbGYsIHBvc2l0aW9uLCBsYWJlbCwgLi4uKQ0KICAgIHRhYmxlLmluc2VydChzZWxmLl9pdGVtcywgaXRlbSkNCiAgICByZXR1cm4gaXRlbQ0KZW5kDQotLSBFbmQgUGFuZWwgQ2xhc3MNCg0KDQpmdW5jdGlvbiBTWU5IVUQuTmV3KHhic3QsIGNvbmZpZykNCiAgICBsb2NhbCBjb25maWcgPSBjb25maWcgb3Ige30NCiAgICBsb2NhbCBjID0ge30NCiAgICBzZXRtZXRhdGFibGUoYywgU1lOSFVEKQ0KDQogICAgLS0gY29uZmlnIHZhbHVlcw0KICAgIGMuX2xvZ2VuYWJsZWQgPSBjb25maWcubG9nZW5hYmxlZCBvciBmYWxzZQ0KICAgIGMuX3VzZW91dGZpdGNvbG9ycyA9IGNvbmZpZy51c2VvdXRmaXRjb2xvcnMgb3IgZmFsc2UNCiAgICBjLl9kaXNwbGF5aWNvbnMgPSBjb25maWcuZGlzcGxheWljb25zIG9yIGZhbHNlDQoNCiAgICBjLl9wYW5lbGhlYWRlciA9IGNvbmZpZy5wYW5lbEhlYWRlciBvciB7MjU1LCAyNTUsIDI1NX0NCiAgICBjLl9pdGVtbGFiZWwgPSBjb25maWcuaXRlbUxhYmVsIG9yIHsyNTUsIDI0MywgMjA0fQ0KICAgIGMuX2l0ZW12YWx1ZSA9IGNvbmZpZy5pdGVtVmFsdWUgb3IgezIwNiwgMjA2LCAyMDZ9DQogICAgYy5faXRlbW9wdHZhbHVlID0gY29uZmlnLml0ZW1WYWx1ZUFsdCBvciB7MjIwLCAyMjAsIDIyMH0NCiAgICBjLl9pdGVtSG91cmx5RW5hYmxlZCA9IGNvbmZpZy5pdGVtSG91cmx5RW5hYmxlZCB+PSBuaWwgYW5kIGNvbmZpZy5pdGVtSG91cmx5RW5hYmxlZCBvciB0cnVlDQogICAgLS0gZW5kIGNvbmZpZyB2YWx1ZXMNCg0KICAgIC0tIHN0YXJ0aW5nIHZhbHVlcw0KICAgIGMuX3Nlc3Npb25zdGFydCA9IG9zLnRpbWUoKQ0KICAgIGMuX2V4cHN0YXJ0ID0gZ2V0U2VsZkV4cGVyaWVuY2UoKQ0KICAgIC0tIGVuZCBzdGFydGluZyB2YWx1ZXMNCg0KICAgIC0tIHVwZGF0ZWQgdmFsdWVzDQogICAgYy5fbG9vdENvbnRhaW5lcnMgPSB7fQ0KICAgIGMuX2xvb3RUYWJsZSA9IHt9DQogICAgYy5faXRlbVZhbHVlcyA9IHt9DQogICAgYy5fc3VwcGx5Q2hlY2tUYWJsZSA9IHt9DQogICAgYy5fdGltZWRTdXBwbHlDaGVja1RhYmxlID0ge30NCiAgICBjLl9zbG90T25seVN1cHBsaWVzID0ge30NCiAgICBjLl9zdXBwbGllc1RhYmxlID0ge30NCiAgICBjLl9zdXBwbHl3YXN0ZSA9IDANCiAgICBjLl9sb290Z2FpbiA9IDANCiAgICAtLSBlbmQgdXBkYXRlZCB2YWx1ZXMNCg0KICAgIGMuX2hvdXJseXN3aXRjaCA9IDEwIC0tIChzZWNvbmRzIHRvIHN3aXRjaCB2YWx1ZSByYXRlcykNCiAgICBjLl9ob3VybHllbmFibGVkID0gZmFsc2UNCiAgICBjLl9zY3JlZW5ILCBjLl9zY3JlZW5XID0gZ2V0U2NyZWVuRGltZW5zaW9ucygpDQogICAgYy5fbGVmdCA9IDUNCiAgICBjLl90b3AgPSAyNQ0KICAgIGMuX3JpZ2h0ID0gMjcyDQogICAgYy5fcGFuZWxQYWRkaW5nWSA9IDE1DQogICAgYy5fcGFuZWxzID0ge30NCiAgICBjLl9wYW5lbHNbMV0gPSB7fSAtLSBsZWZ0DQogICAgYy5fcGFuZWxzWzJdID0ge30gLS0gcmlnaHQNCiAgICBjLl9zZXR0aW5ncyA9IFNldHRpbmdzLk5ldyh4YnN0KQ0KDQogICAgYzpJbml0SFVEKCkNCiAgICByZXR1cm4gYw0KZW5kDQoNCmZ1bmN0aW9uIFNZTkhVRDpJbml0SFVEKCkNCiAgICBwcmludCgnU3luSFVEIHYnIC4uIHZlcnNpb24pDQoNCiAgICBsb2NhbCBodWQgPSBzZWxmDQogICAgbG9jYWwgc3RhdHMgPSBodWQ6QWRkUGFuZWwoJ1N0YXRpc3RpY3MnLCAxLCAxKQ0KICAgIGh1ZC5fc3VwcGx5UGFuZWwgPSBodWQ6QWRkUGFuZWwoJ1N1cHBsaWVzIFVzZWQnLCAyLCAxKQ0KDQogICAgc3RhdHM6QWRkSXRlbSgxLCAnU2Vzc2lvbjonLCBldmVudC5TZXNzaW9uVGltZSkNCiAgICBzdGF0czpBZGRJdGVtKDIsICdTZXJ2ZXIgU2F2ZTonLCBldmVudC5TZXJ2ZXJTYXZlKQ0KICAgIHN0YXRzOkFkZEl0ZW0oMywgJ0V4cGVyaWVuY2U6JywgZXZlbnQuRXhwR2FpbmVkKQ0KICAgIHN0YXRzOkFkZEl0ZW0oNCwgJ1Byb2ZpdDonLCBldmVudC5Ub3RhbFByb2ZpdCkNCiAgICBzdGF0czpBZGRJdGVtKDUsICdMb290ZWQ6JywgZXZlbnQuTG9vdEdhaW4pDQogICAgc3RhdHM6QWRkSXRlbSg2LCAnV2FzdGVkOicsIGV2ZW50LlN1cHBseVdhc3RlKQ0KDQogICAgaHVkOkFkZExvb3RJdGVtcyhldmVudC5Mb290VXBkYXRlKQ0KICAgIGh1ZDpBZGRIZWFsaW5nQW5kVGFyZ2V0U3VwcGxpZXMoZXZlbnQuU3VwcGx5VXBkYXRlKQ0KDQogICAgbG9jYWwgc3RlcCA9IDANCiAgICB3aGlsZSh0cnVlKWRvDQogICAgICAgIC0tIGluY3JlbWVudCBvciByZXNldCBjb3VudGVyDQogICAgICAgIHN0ZXAgPSBzdGVwIDwgNjAwIGFuZCBzdGVwICsgMSBvciAwDQoNCiAgICAgICAgaWYoc3RlcCA9PSA2MDApdGhlbiAtLSBldmVyeSBtaW51dGUNCiAgICAgICAgICAgIC0tIFVwZGF0ZSBTY3JlZW4gRGltZW5zaW9ucw0KICAgICAgICAgICAgaHVkOlVwZGF0ZVNjcmVlbigpDQogICAgICAgICAgICAtLSBXcml0ZSB0byBsb2cNCiAgICAgICAgICAgIGh1ZDpVcGRhdGVMb2coKQ0KICAgICAgICBlbHNlaWYoc3RlcCAlIDQgPT0gMCl0aGVuIC0tIGV2ZXJ5IDQgc3RlcHMgKDgwMCBtcykNCiAgICAgICAgICAgIC0tIFVwZGF0ZSBGcm9udGVuZCBWYWx1ZXMNCiAgICAgICAgICAgIGlmKG9zLnRpbWUoKSAlIGh1ZC5faG91cmx5c3dpdGNoID09IDApdGhlbg0KICAgICAgICAgICAgICAgIGh1ZC5faG91cmx5ZW5hYmxlZCA9IG5vdCBodWQuX2hvdXJseWVuYWJsZWQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgaHVkOlVwZGF0ZVZhbHVlcygpDQogICAgICAgICAgICBodWQ6VXBkYXRlUGFuZWxQb3NpdGlvbnMoMSkNCiAgICAgICAgICAgIGh1ZDpVcGRhdGVQYW5lbFBvc2l0aW9ucygyKQ0KICAgICAgICAgICAgaHVkOlVwZGF0ZVN1cHBseUNvc3RzKCkNCiAgICAgICAgZW5kDQoNCiAgICAgICAgLS0gVHJhY2sgVmFsdWVzICgyMDAgbXMpDQogICAgICAgIGh1ZDpRdWVyeUxvb3RDaGFuZ2VzKCkNCiAgICAgICAgaHVkOlF1ZXJ5U3VwcGx5Q2hhbmdlcygpDQoNCiAgICAgICAgc2xlZXAoMjAwKQ0KICAgIGVuZA0KZW5kDQoNCmZ1bmN0aW9uIFNZTkhVRDpHZXRIVURDb2xvcnMoKQ0KICAgIGxvY2FsIGNvbG9yID0ge30NCiAgICBsb2NhbCBjdXN0b20sIGMgPSBnZXRPdXRmaXRDb2xvcnMoKSwgc2VsZi5fdXNlb3V0Zml0Y29sb3JzDQoNCiAgICBjb2xvci5wYW5lbGhlYWRlciA9IGMgYW5kIGN1c3RvbS5oZWFkIG9yIHNlbGYuX3BhbmVsaGVhZGVyDQogICAgY29sb3IuaXRlbWxhYmVsID0gYyBhbmQgY3VzdG9tLmxlZ3Mgb3Igc2VsZi5faXRlbWxhYmVsDQogICAgY29sb3IuaXRlbXZhbHVlID0gYyBhbmQgY3VzdG9tLmZlZXQgb3Igc2VsZi5faXRlbXZhbHVlDQogICAgY29sb3IuaXRlbW9wdHZhbHVlID0gYyBhbmQgY3VzdG9tLmZlZXQgb3Igc2VsZi5faXRlbW9wdHZhbHVlDQoNCiAgICByZXR1cm4gY29sb3INCmVuZA0KDQpmdW5jdGlvbiBTWU5IVUQ6VXBkYXRlU2NyZWVuKCkNCiAgICBwY2FsbChmdW5jdGlvbigpIA0KICAgICAgICBzZWxmLl9zY3JlZW5ILCBzZWxmLl9zY3JlZW5XID0gZ2V0U2NyZWVuRGltZW5zaW9ucygpDQogICAgZW5kKQ0KZW5kDQoNCmZ1bmN0aW9uIFNZTkhVRDpVcGRhdGVMb2coKQ0KCWlmKG5vdCBzZWxmLl9sb2dlbmFibGVkKXRoZW4NCgkJcmV0dXJuDQoJZW5kDQoNCglsb2NhbCBsb2dOYW1lID0gU2VsZi5OYW1lKCk6bG93ZXIoKSAuLiAnLScgLi4geGJzdDpsb3dlcigpDQoJbG9jYWwgbG9nID0gaW8ub3BlbignLi4vU3luTG9nLycuLmxvZ05hbWUuLicuY3N2JywgJ2ErJykNCglpZihsb2cpdGhlbg0KCQlpZih0b251bWJlcihsb2c6c2VlaygiZW5kIikpID09IDApdGhlbiAtLSBjcmVhdGVkIGVtcHR5IGZpbGUNCgkJCWxvZzp3cml0ZSgnRGF0ZVx0RVhQL2hvdXJcdFByb2ZpdC9ob3VyXG4nKQ0KCQllbmQNCg0KICAgICAgICBsb2NhbCB0aW1lZGlmZiA9IG9zLnRpbWUoKSAtIHNlbGYuX3Nlc3Npb25zdGFydA0KCQlsb2NhbCBleHAgPSBnZXRTZWxmRXhwZXJpZW5jZSgpIC0gc2VsZi5fZXhwc3RhcnQNCgkJbG9jYWwgcHJvZml0ID0gc2VsZi5fbG9vdGdhaW4gLSBzZWxmLl9zdXBwbHl3YXN0ZQ0KCQlleHAgPSBmb3JtYXROdW1iZXIobWF0aC5mbG9vcihleHAgLyAodGltZWRpZmYgLyAzNjAwKSkpDQogICAgICAgIHByb2ZpdCA9IGZvcm1hdE51bWJlcihtYXRoLmZsb29yKHByb2ZpdCAvICh0aW1lZGlmZiAvIDM2MDApKSkNCg0KCQlsb2c6d3JpdGUoKCclc1x0JXNcdCVzXG4nKTpmb3JtYXQob3MuZGF0ZSgnJWMnKSwgZXhwLCBwcm9maXQpKQ0KCQlsb2c6Y2xvc2UoKQ0KCWVsc2UNCgkJcHJpbnQoJ0NvdWxkIG5vdCBjcmVhdGUgbG9nLiBNYWtlIHN1cmUgIkRvY3VtZW50cy9YZW5vQm90L1N5bkxvZyIgaXMgYSB2YWxpZCBkaXJlY3RvcnkuJykNCgkJc2VsZi5fbG9nZW5hYmxlZCA9IGZhbHNlDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gU1lOSFVEOlVwZGF0ZVBhbmVsUG9zaXRpb25zKGNvbHVtbikNCiAgICB0YWJsZS5zb3J0KHNlbGYuX3BhbmVsc1tjb2x1bW5dLCBmdW5jdGlvbihhLCBiKQ0KICAgICAgICByZXR1cm4gYS5fcG9zaXRpb24gPCBiLl9wb3NpdGlvbg0KICAgIGVuZCkNCiAgICBsb2NhbCB4QXhpcyA9IGNvbHVtbiA9PSAxIGFuZCBzZWxmLl9sZWZ0IG9yIChzZWxmLl9zY3JlZW5XIC0gc2VsZi5fcmlnaHQpDQogICAgbG9jYWwgeUF4aXMgPSBzZWxmLl90b3AgLSAoY29sdW1uID09IDIgYW5kIDE3IG9yIDApDQogICAgZm9yIGkgPSAxLCAjc2VsZi5fcGFuZWxzW2NvbHVtbl0gZG8NCiAgICAgICAgbG9jYWwgcGFuZWwgPSBzZWxmLl9wYW5lbHNbY29sdW1uXVtpXQ0KICAgICAgICAtLSB1cGRhdGUgcGFuZWwgcG9zaXRpb24gKGhlYWRlciwgaXRlbXMpDQogICAgICAgIGxvY2FsIHBhbmVsQm90dG9tWSA9IHBhbmVsOlNldFBvc2l0aW9uKHhBeGlzLCB5QXhpcykNCiAgICAgICAgLS0gYWRkIHRvIGF4aXMgZm9yIG5leHQgcGFuZWxzDQogICAgICAgIHlBeGlzID0gcGFuZWxCb3R0b21ZICsgc2VsZi5fcGFuZWxQYWRkaW5nWQ0KICAgIGVuZA0KZW5kDQoNCmZ1bmN0aW9uIFNZTkhVRDpVcGRhdGVWYWx1ZXMoKQ0KICAgIGZvciBjID0gMSwgI3NlbGYuX3BhbmVscyBkbw0KICAgICAgICBmb3IgcCA9IDEsICNzZWxmLl9wYW5lbHNbY10gZG8NCiAgICAgICAgICAgIGxvY2FsIHBhbmVsID0gc2VsZi5fcGFuZWxzW2NdW3BdDQogICAgICAgICAgICBmb3IgaSA9IDEsICNwYW5lbC5faXRlbXMgZG8NCiAgICAgICAgICAgICAgICBsb2NhbCBpdGVtID0gcGFuZWwuX2l0ZW1zW2ldDQogICAgICAgICAgICAgICAgaXRlbTpVcGRhdGVWYWx1ZShzZWxmKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KZW5kDQoNCmZ1bmN0aW9uIFNZTkhVRDpVcGRhdGVTdXBwbHlDb3N0cygpDQogICAgZm9yIGl0ZW1pZCwgXyBpbiBwYWlycyhzZWxmLl9zdXBwbGllc1RhYmxlKSBkbw0KICAgICAgICBsb2NhbCBzaG9wUHJpY2UgPSBzaG9wR2V0SXRlbUJ1eVByaWNlQnlJRChpdGVtaWQpDQogICAgICAgIGlmKHNob3BQcmljZSA+IDApdGhlbg0KICAgICAgICAgICAgaWYobm90IHNlbGYuX2l0ZW1WYWx1ZXNbaXRlbWlkXSl0aGVuDQogICAgICAgICAgICAgICAgc2VsZi5faXRlbVZhbHVlc1tpdGVtaWRdID0ge30NCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgc2VsZi5faXRlbVZhbHVlc1tpdGVtaWRdLmMgPSBzaG9wUHJpY2UNCiAgICAgICAgZW5kDQogICAgZW5kDQplbmQNCg0KZnVuY3Rpb24gU1lOSFVEOkFkZFBhbmVsKGhlYWRlciwgY29sdW1uLCBwb3NpdGlvbikNCiAgICBsb2NhbCBwYW5lbCA9IFNZTkhVRF9QYW5lbC5OZXcoc2VsZiwgaGVhZGVyLCBjb2x1bW4sIHBvc2l0aW9uKQ0KICAgIHRhYmxlLmluc2VydChzZWxmLl9wYW5lbHNbY29sdW1uXSwgcGFuZWwpDQogICAgcmV0dXJuIHBhbmVsDQplbmQNCg0KZnVuY3Rpb24gU1lOSFVEOkFkZExvb3RJdGVtcyhldmVudCkNCiAgICBsb2NhbCBsb290UGFuZWwgPSBzZWxmOkFkZFBhbmVsKCdJdGVtcyBMb290ZWQnLCAxLCAyKQ0KICAgIGxvY2FsIGxvb3RMaXN0ID0gc2VsZi5fc2V0dGluZ3M6R2V0KCdMb290ZXInKS5Mb290TGlzdA0KICAgIGlmKG5vdCBsb290TGlzdCl0aGVuIHJldHVybiBlbmQNCiAgICAtLSByZXNldCBsb290DQogICAgc2VsZi5fbG9vdENvbnRhaW5lcnMgPSB7fQ0KICAgIHNlbGYuX2xvb3RUYWJsZSA9IHt9DQogICAgZm9yIGkgPSAxLCAjbG9vdExpc3QgZG8NCiAgICAgICAgbG9jYWwgbG9vdCA9IGxvb3RMaXN0W2ldDQogICAgICAgIGxvY2FsIGxvb3RJRCA9IHRvbnVtYmVyKGxvb3QuSUQpDQogICAgICAgIGxvY2FsIGJwID0gdG9udW1iZXIobG9vdC5hY3Rpb24pICsgMQ0KDQogICAgICAgIC0tIHN0b3JlIGl0ZW0gdmFsdWVzDQogICAgICAgIGlmKG5vdCBzZWxmLl9pdGVtVmFsdWVzW2xvb3RJRF0pdGhlbg0KICAgICAgICAgICAgbG9jYWwgZGF0YSA9IGxvb3RWYWx1ZXNbbG9vdElEXQ0KICAgICAgICAgICAgaWYoZGF0YSl0aGVuDQogICAgICAgICAgICAgICAgc2VsZi5faXRlbVZhbHVlc1tsb290SURdID0gZGF0YQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KDQogICAgICAgIGlmKGJwIDwgMTcpdGhlbg0KICAgICAgICAgICAgaWYobm90IHNlbGYuX2xvb3RDb250YWluZXJzW2JwXSl0aGVuDQogICAgICAgICAgICAgICAgc2VsZi5fbG9vdENvbnRhaW5lcnNbYnBdID0ge30NCiAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgaWYobm90IHNlbGYuX2xvb3RDb250YWluZXJzW2JwXVtsb290SURdKXRoZW4NCiAgICAgICAgICAgICAgICBzZWxmLl9sb290Q29udGFpbmVyc1ticF1bbG9vdElEXSA9IFNlbGYuSXRlbUNvdW50KGxvb3RJRCwgYnAtMSwgZmFsc2UpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGxvb3RQYW5lbDpBZGRJdGVtKGksIGxvb3RJRCwgSXRlbS5HZXROYW1lKGxvb3RJRCk6dGl0bGVjYXNlKCk6bWF4KDExLCAnLi4uJyksIGV2ZW50KQ0KICAgICAgICBlbmQNCiAgICBlbmQNCmVuZA0KDQpmdW5jdGlvbiBTWU5IVUQ6QWRkVGltZWRTdXBwbHlJdGVtKGl0ZW1pZCwgcG9zaXRpb24pDQogICAgLS0gc3RvcmUgaXRlbSB2YWx1ZXMNCiAgICBpZihub3Qgc2VsZi5faXRlbVZhbHVlc1tpdGVtaWRdKXRoZW4NCiAgICAgICAgbG9jYWwgZGF0YSA9IGxvb3RWYWx1ZXNbaXRlbWlkXQ0KICAgICAgICAtLSBUaW1lZCBpdGVtcyBtdXN0IGhhdmUgY29zdCBhbmQgZHVyYXRpb24gc2V0DQogICAgICAgIGlmKGRhdGEgYW5kIGRhdGEuZCBhbmQgZGF0YS5jKXRoZW4NCiAgICAgICAgICAgIHNlbGYuX2l0ZW1WYWx1ZXNbaXRlbWlkXSA9IGRhdGENCiAgICAgICAgZWxzZQ0KICAgICAgICAJcmV0dXJuIGZhbHNlDQogICAgICAgIGVuZA0KICAgIC0tIG1ha2Ugc3VyZSB3ZSBoYXZlIGEgZHVyYXRpb24gc2V0DQogICAgZWxzZWlmKG5vdCBzZWxmLl9pdGVtVmFsdWVzW2l0ZW1pZF0uZCl0aGVuDQogICAgICAgIHNlbGYuX2l0ZW1WYWx1ZXNbaXRlbWlkXS5kID0gbG9vdFZhbHVlc1tpdGVtaWRdLmQNCiAgICBlbmQNCg0KICAgIC0tIGlmIHdlIHN0aWxsIGRvbid0IGhhdmUgYSBkdXJhdGlvbiwganVzdCBzdG9wLg0KICAgIGlmKG5vdCBzZWxmLl9pdGVtVmFsdWVzW2l0ZW1pZF0uZCl0aGVuDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZA0KDQogICAgLS0gVGhlIGFjdHVhbCBjb3VudCBmb3IgdGhlIGh1ZA0KICAgIGlmKG5vdCBzZWxmLl9zdXBwbGllc1RhYmxlW2l0ZW1pZF0pdGhlbg0KICAgICAgICBzZWxmLl9zdXBwbGllc1RhYmxlW2l0ZW1pZF0gPSAwDQogICAgICAgIC0tIE9ubHkgYWRkIHRvIHBhbmVsIG9uY2UNCiAgICAgICAgc2VsZi5fc3VwcGx5UGFuZWw6QWRkSXRlbShwb3NpdGlvbiwgaXRlbWlkLCAnMCBncCcsIGV2ZW50LlRpbWVkU3VwcGx5VXBkYXRlKQ0KICAgIGVuZA0KDQogICAgLS0gVGhlIHZhbHVlIHdlIGtlZXAgdHJhY2sgb2YgdG8gY29tcGFyZSBjaGFuZ2VzIHthY3RpdmUsIGxhc3RjaGVja30NCiAgICBpZihub3Qgc2VsZi5fdGltZWRTdXBwbHlDaGVja1RhYmxlW2l0ZW1pZF0pdGhlbg0KICAgICAgICBzZWxmLl90aW1lZFN1cHBseUNoZWNrVGFibGVbaXRlbWlkXSA9IHt0cnVlLCBvcy50aW1lKCl9DQogICAgZW5kDQplbmQNCg0KZnVuY3Rpb24gU1lOSFVEOkFkZFN1cHBseUl0ZW0oaXRlbWlkLCBwb3NpdGlvbiwgc2xvdCkNCiAgICAtLSBzdG9yZSBpdGVtIHZhbHVlcw0KICAgIGlmKG5vdCBzZWxmLl9pdGVtVmFsdWVzW2l0ZW1pZF0pdGhlbg0KICAgICAgICBsb2NhbCBkYXRhID0gbG9vdFZhbHVlc1tpdGVtaWRdDQogICAgICAgIGlmKGRhdGEpdGhlbg0KICAgICAgICAgICAgc2VsZi5faXRlbVZhbHVlc1tpdGVtaWRdID0gZGF0YQ0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIC0tIFRoZSBhY3R1YWwgY291bnQgZm9yIHRoZSBodWQNCiAgICBpZihub3Qgc2VsZi5fc3VwcGxpZXNUYWJsZVtpdGVtaWRdKXRoZW4NCiAgICAgICAgc2VsZi5fc3VwcGxpZXNUYWJsZVtpdGVtaWRdID0gMA0KICAgICAgICAtLSBPbmx5IGFkZCB0byBwYW5lbCBvbmNlDQogICAgICAgIHNlbGYuX3N1cHBseVBhbmVsOkFkZEl0ZW0ocG9zaXRpb24sIGl0ZW1pZCwgJzAgZ3AnLCBldmVudC5TdXBwbHlVcGRhdGUpDQogICAgZW5kDQoNCiAgICAtLSBUaGUgdmFsdWUgd2Uga2VlcCB0cmFjayBvZiB0byBjb21wYXJlIGNoYW5nZXMNCiAgICBpZihub3Qgc2VsZi5fc3VwcGx5Q2hlY2tUYWJsZVtpdGVtaWRdKXRoZW4NCiAgICAJaWYobm90IHNsb3QpdGhlbiAtLSBjaGVjayBldmVyeXRoaW5nIGFzIG5vcm1hbCBpZiBubyBzcGVjaWZpYyBzbG90IGZvciB0aGlzIGl0ZW0NCiAgICAgICAgCXNlbGYuX3N1cHBseUNoZWNrVGFibGVbaXRlbWlkXSA9IFNlbGYuSXRlbUNvdW50KGl0ZW1pZCkNCiAgICAJZWxzZQ0KICAgIAkJbG9jYWwgc2xvdEl0ZW0gPSBTZWxmW3Nsb3RdKCkNCiAgICAJCXNlbGYuX3Nsb3RPbmx5U3VwcGxpZXNbaXRlbWlkXSA9IHNsb3QgLS0gbGV0IHRoZSB1cGRhdGVyIGtub3cgdG8gb25seSBjaGVjayB0aGlzIHNsb3QgZm9yIHRoaXMgaWQNCiAgICAJCXNlbGYuX3N1cHBseUNoZWNrVGFibGVbaXRlbWlkXSA9IChzbG90SXRlbS5pZCA9PSBpdGVtaWQpIGFuZCBzbG90SXRlbS5jb3VudCBvciAwDQogICAgCWVuZA0KICAgIGVuZA0KZW5kDQoNCmZ1bmN0aW9uIFNZTkhVRDpBZGRIZWFsaW5nQW5kVGFyZ2V0U3VwcGxpZXMoZXZlbnQpDQogICAgbG9jYWwgaXRlbUxpc3QgPSBzZWxmLl9zZXR0aW5nczpHZXQoJ1NlbGYgSGVhbGVyJykuSXRlbUxpc3QNCiAgICBsb2NhbCB0YXJnZXRMaXN0ID0gc2VsZi5fc2V0dGluZ3M6R2V0KCdUYXJnZXRpbmcnKS5UYXJnZXRpbmdMaXN0DQogICAgbG9jYWwgc3RvcmVDb3VudCA9IDEwIC0tIHBhZGRpbmcsIGxvd2VyIG51bWJlcnMgcmVzZXJ2ZWQgZm9yIGFtbW9zL3NvZnRib290cy9yaW5ncw0KDQogICAgLS0gcmVzZXQgc3VwcGxpZXMNCiAgICBzZWxmLl9zdXBwbGllc1RhYmxlID0ge30NCiAgICBzZWxmLl9zdXBwbHlDaGVja1RhYmxlID0ge30NCg0KICAgIC0tIEl0ZW1zIGZyb20gaGVhbGVyDQogICAgaWYoaXRlbUxpc3QpdGhlbg0KICAgICAgICBmb3IgaSA9IDEsICNpdGVtTGlzdCBkbw0KICAgICAgICAgICAgc3RvcmVDb3VudCA9IHN0b3JlQ291bnQgKyAxDQogICAgICAgICAgICBsb2NhbCBzdXBwbHkgPSBpdGVtTGlzdFtpXQ0KICAgICAgICAgICAgc2VsZjpBZGRTdXBwbHlJdGVtKHRvbnVtYmVyKHN1cHBseS5pZCksIHN0b3JlQ291bnQpDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgLS0gSXRlbXMgZnJvbSB0YXJnZXRlcg0KICAgIGlmKHRhcmdldExpc3QpdGhlbg0KICAgICAgICBmb3IgaSA9IDEsICN0YXJnZXRMaXN0IGRvDQogICAgICAgICAgICBsb2NhbCB0YXJnZXQgPSB0YXJnZXRMaXN0W2ldDQogICAgICAgICAgICBpZih0YXJnZXQuYXRrID09ICIyIil0aGVuIC0tIHJ1bmUgYXR0YWNrDQogICAgICAgICAgICAgICAgc3RvcmVDb3VudCA9IHN0b3JlQ291bnQgKyAxDQogICAgICAgICAgICAgICAgc2VsZjpBZGRTdXBwbHlJdGVtKHRvbnVtYmVyKHRhcmdldC5ybmUpLCBzdG9yZUNvdW50KQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KZW5kDQoNCmZ1bmN0aW9uIFNZTkhVRDpRdWVyeVN1cHBseUNoYW5nZXMoKQ0KICAgIC0tIFBvdHMvUnVuZXM6IG5vcm1hbCBjb3VudGluZw0KICAgIC0tIEFtbW8vRGlzOiBzbG90IGNvdW50aW5nDQogICAgLS0gUmluZ3MvU29mdEJvb3RzOiByZWNvcmQgdGltZSB1c2VkDQoNCiAgICAtLSBPbmx5IGNvdW50IGxvc3NlcyBvZiBhIGNlcnRhaW4gaXRlbSBvZiB0aGlzIGFtb3VudCBvciBiZWxvdyAoVE9ETzogbW92ZSB0aGlzIHRvIGNvbmZpZykNCiAgICBsb2NhbCBsb3NzVGhyZXNob2xkID0gMg0KDQogICAgLS0gQ2hlY2sgZm9yIGRpc3RhbmNlIHdlYXBvbnMgKHNob290YWJsZXMpDQoJLS0gTm8gbmVlZCB0byBjaGVjayBpZiBpdCBleGlzdHMgYWxyZWFkeSwgdGhlIGFkZCBmdW5jdGlvbiBkb2VzIHRoYXQgaW5zaWRlDQogICAgbG9jYWwgd2VhcG9uU2xvdElEID0gdG9udW1iZXIoZ2V0V2VhcG9uU2xvdERhdGEoKS5pZCkNCiAgICBsb2NhbCBhbW1vU2xvdElEID0gdG9udW1iZXIoZ2V0QW1tb1Nsb3REYXRhKCkuaWQpDQogICAgaWYoaXNJdGVtU3RhY2thYmxlKHdlYXBvblNsb3RJRCkpdGhlbg0KCQlzZWxmOkFkZFN1cHBseUl0ZW0od2VhcG9uU2xvdElELCAzLCAnV2VhcG9uJykNCiAgICBlbmQNCiAgICBpZihpc0l0ZW1TdGFja2FibGUoYW1tb1Nsb3RJRCkpdGhlbg0KCQlzZWxmOkFkZFN1cHBseUl0ZW0oYW1tb1Nsb3RJRCwgNCwgJ0FtbW8nKQ0KICAgIGVuZA0KDQogICAgLS0gQ2hlY2sgZm9yIHRpbWVkIHN1cHBsaWVzIChyaW5ncyB3LyBkdXJhdGlvbiB2YWx1ZXMsIHNvZnRib290cykNCgktLSBObyBuZWVkIHRvIGNoZWNrIGlmIGl0IGV4aXN0cyBhbHJlYWR5LCB0aGUgYWRkIGZ1bmN0aW9uIGRvZXMgdGhhdCBpbnNpZGUNCiAgICBsb2NhbCBmZWV0U2xvdElEID0gdG9udW1iZXIoZ2V0RmVldFNsb3REYXRhKCkuaWQpDQogICAgbG9jYWwgcmluZ1Nsb3RJRCA9IHRvbnVtYmVyKGdldFJpbmdTbG90RGF0YSgpLmlkKQ0KICAgIGlmKGZlZXRTbG90SUQgPT0gU09GVEJPT1RTX0FDVElWRV9JRCl0aGVuDQogICAgCXNlbGY6QWRkVGltZWRTdXBwbHlJdGVtKGZlZXRTbG90SUQsIDEpDQogICAgZW5kDQoJLS0gV2hlbiBjaGVja2luZyBmb3IgcmluZ3MsIGp1c3QgbWFrZSBzdXJlIGl0J3Mgbm90IDAsIHRoZW4gbGV0IHRoZSBhZGQgZnVuY3Rpb24gY2hlY2sgZHVyYXRpb24NCgktLSBFbHNlIGl0IHdpbGwgcmVmZXJlbmNlIHRoZSBodWdlIHRhYmxlIGV2ZXJ5IHF1ZXJ5ICgyMDBtcykuDQogICAgaWYocmluZ1Nsb3RJRCA+IDApdGhlbg0KICAgIAlzZWxmOkFkZFRpbWVkU3VwcGx5SXRlbShyaW5nU2xvdElELCAyKQ0KICAgIGVuZA0KDQogICAgLS0gQ2FsY3VsYXRlIHRoZSBhZGRlZCB0aW1lIHVzZXMgZm9yIGFueSB0aW1lZCBzdXBwbGllcw0KICAgIGxvY2FsIHVzZWRTdXBwbHlUaW1lcyA9IHt9DQogICAgZm9yIHRpbWVkU3VwcGx5SUQsIGRhdGEgaW4gcGFpcnMoc2VsZi5fdGltZWRTdXBwbHlDaGVja1RhYmxlKSBkbw0KICAgIAlsb2NhbCBhY3RpdmUgPSBmYWxzZQ0KICAgIAlsb2NhbCBzbG90ID0gKHRpbWVkU3VwcGx5SUQgPT0gU09GVEJPT1RTX0FDVElWRV9JRCkgYW5kICdGZWV0JyBvciAnUmluZycNCiAgICAJaWYodG9udW1iZXIoU2VsZltzbG90XSgpLmlkKSA9PSB0aW1lZFN1cHBseUlEKXRoZW4NCiAgICAJCWFjdGl2ZSA9IHRydWUNCiAgICAJZW5kDQoNCiAgICAJLS0gQWN0aXZlIGZyb20gb3VyIGxhc3QgY2hlY2ssIHJlY29yZCB0aGUgdGltZSB1c2VkLg0KICAgIAlsb2NhbCBjaGVja1RpbWUgPSBvcy50aW1lKCkNCiAgICAJaWYoZGF0YVsxXSl0aGVuDQogICAgCQlsb2NhbCB1c2VUaW1lID0gb3MuZGlmZnRpbWUoY2hlY2tUaW1lLCBkYXRhWzJdKQ0KICAgIAkJdXNlZFN1cHBseVRpbWVzW3RpbWVkU3VwcGx5SURdID0gdXNlVGltZQ0KICAgIAllbmQNCg0KICAgIAktLSBSZWNvcmQgd2hldGhlciBpdCB3YXMgYWN0aXZlIHRoaXMgcm91bmQgb3Igbm90IGFuZCB0aGUgY3VycmVudCBjaGVja1RpbWUNCiAgICAgICAgc2VsZi5fdGltZWRTdXBwbHlDaGVja1RhYmxlW3RpbWVkU3VwcGx5SURdID0ge2FjdGl2ZSwgY2hlY2tUaW1lfQ0KICAgIGVuZA0KDQogICAgLS0gQ2FsY3VsYXRlIHRoZSBkaWZmZXJlbmNlcyBmb3IgYW55IHNsb3Qgc3BlY2lmaWMgb3IgY29udGFpbmVyIGl0ZW1zDQogICAgbG9jYWwgc3VwcGx5U3VidHJhY3Rpb25zID0ge30NCiAgICBmb3Igc3VwcGx5SUQsIG9sZENvdW50IGluIHBhaXJzKHNlbGYuX3N1cHBseUNoZWNrVGFibGUpIGRvDQogICAgCWxvY2FsIG5ld0NvdW50ID0gMA0KICAgIAlsb2NhbCBza2lwU3VidHJhY3Rpb24gPSBmYWxzZQ0KICAgIAlsb2NhbCBzbG90ID0gc2VsZi5fc2xvdE9ubHlTdXBwbGllc1tzdXBwbHlJRF0NCiAgICAJaWYoc2xvdCl0aGVuDQogICAgCQluZXdDb3VudCA9IHRvbnVtYmVyKFNlbGZbc2xvdF0oKS5jb3VudCkNCiAgICAJCS0tIFNraXAgZGVjcmVhc2UgaWYgd2UgZG9uJ3QgaGF2ZSBhIHRhcmdldCAoY291bGRuJ3QgaGF2ZSB1c2VkIGFtbW8vZGlzIHdlYXBvbikNCiAgICAJCWlmIChzbG90ID09ICdXZWFwb24nIG9yIHNsb3QgPT0gJ0FtbW8nKSBhbmQgbm90KENyZWF0dXJlLmlzVmFsaWQoZ2V0U2VsZlRhcmdldElEKCkpKXRoZW4NCiAgICAJCQlza2lwU3VidHJhY3Rpb24gPSB0cnVlDQogICAgCQllbmQNCiAgICAJZWxzZQ0KICAgICAgICAJbmV3Q291bnQgPSBTZWxmLkl0ZW1Db3VudChzdXBwbHlJRCkNCiAgICAgICAgZW5kDQogICAgICAgIC0tIGNvdW50IG9mIGl0ZW0gZGVjcmVhc2VkIHdpdGhpbiB0aHJlc2hvbGQNCiAgICAgICAgaWYobm90IHNraXBTdWJ0cmFjdGlvbiBhbmQgbmV3Q291bnQgPCBvbGRDb3VudCBhbmQgKG9sZENvdW50IC0gbmV3Q291bnQpIDw9IGxvc3NUaHJlc2hvbGQpdGhlbg0KICAgICAgICAgICAgLS0gc3RvcmUgdGhlIGRpZmZlcmVuY2UgZm9yIGV4dHJlbWUgbWF0aHogbGF0ZXINCiAgICAgICAgICAgIHN1cHBseVN1YnRyYWN0aW9uc1tzdXBwbHlJRF0gPSAob2xkQ291bnQgLSBuZXdDb3VudCkNCiAgICAgICAgZW5kDQogICAgICAgIC0tIHNldCB1cGRhdGVkIGNvdW50IG5vIG1hdHRlciB3aGF0DQogICAgICAgIHNlbGYuX3N1cHBseUNoZWNrVGFibGVbc3VwcGx5SURdID0gbmV3Q291bnQNCiAgICBlbmQNCg0KICAgIC0tIEFkZCByZWNlbnQgdXNlcyBvZiBzbG90IHNwZWNpZmljIG9yIGNvbnRhaW5lciBpdGVtIGNhbGN1bGF0aW9ucyB0byB0b3RhbHMNCiAgICBmb3Igc3VwcGx5SUQsIHN1YkNvdW50IGluIHBhaXJzKHN1cHBseVN1YnRyYWN0aW9ucykgZG8NCiAgICAgICAgbG9jYWwgc3VwcGx5VGJsID0gc2VsZi5fc3VwcGxpZXNUYWJsZVtzdXBwbHlJRF0NCiAgICAgICAgc2VsZi5fc3VwcGxpZXNUYWJsZVtzdXBwbHlJRF0gPSBzdXBwbHlUYmwgYW5kIChzdXBwbHlUYmwgKyBzdWJDb3VudCkgb3Igc3ViQ291bnQNCiAgICBlbmQNCg0KICAgIC0tIEFkZCByZWNlbnQgdXNlIHRpbWVzIG9mIHRpbWVkIHN1cHBsaWVzIChzaGFyZXMgc2FtZSB0YWJsZSBhcyBzdGF0aWMgaXRlbXMpDQogICAgZm9yIHRpbWVkU3VwcGx5SUQsIHVzZVRpbWUgaW4gcGFpcnModXNlZFN1cHBseVRpbWVzKSBkbw0KICAgICAgICBsb2NhbCBzdXBwbHlUYmwgPSBzZWxmLl9zdXBwbGllc1RhYmxlW3RpbWVkU3VwcGx5SURdDQogICAgICAgIHNlbGYuX3N1cHBsaWVzVGFibGVbdGltZWRTdXBwbHlJRF0gPSBzdXBwbHlUYmwgYW5kIChzdXBwbHlUYmwgKyB1c2VUaW1lKSBvciB1c2VUaW1lDQogICAgZW5kDQoNCiAgICAtLSBTdW0gdGhlIHRvdGFscw0KICAgIGxvY2FsIHRvdGFsU3VtID0gMA0KICAgIGZvciBzdXBwbHlJRCwgb2xkQ291bnQgaW4gcGFpcnMoc2VsZi5fc3VwcGxpZXNUYWJsZSkgZG8NCiAgICAgICAgbG9jYWwgdmFsdWVzID0gc2VsZi5faXRlbVZhbHVlc1tzdXBwbHlJRF0NCiAgICAgICAgaWYodmFsdWVzKXRoZW4NCiAgICAgICAgCWlmKHZhbHVlcy5jIGFuZCB2YWx1ZXMuZCl0aGVuIC0tIHRpbWVkIGl0ZW0NCiAgICAgICAgCQktLSBDb252ZXJ0IHN0b3JlZCBtaW51dGUgZHVyYXRpb24gdG8gc2Vjb25kcw0KICAgICAgICAJCXRvdGFsU3VtID0gdG90YWxTdW0gKyAodmFsdWVzLmMgLyAodmFsdWVzLmQgKiA2MCkpICogb2xkQ291bnQNCiAgICAgICAgCWVsc2VpZih2YWx1ZXMuYyl0aGVuIC0tIHN0YXRpYyBpdGVtDQogICAgICAgICAgICAJdG90YWxTdW0gPSB0b3RhbFN1bSArICh2YWx1ZXMuYyAqIG9sZENvdW50KQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIHNlbGYuX3N1cHBseXdhc3RlID0gdG90YWxTdW0NCmVuZA0KDQpmdW5jdGlvbiBTWU5IVUQ6UXVlcnlMb290Q2hhbmdlcygpDQogICAgbG9jYWwgbG9vdEFkZGl0aW9ucyA9IHt9DQogICAgLS0gb25seSBjaGVjayBsb290IGNoYW5nZXMgd2hlbiB0aGVyZSBpcyBhIGNvcnBzZSBvcGVuDQogICAgbG9jYWwgY29ycHNlT3BlbiA9IHNlbGY6aXNDb3Jwc2VDb250YWluZXJPcGVuKCkNCiAgICBpZiAobm90IGNvcnBzZU9wZW4pIHRoZW4NCiAgICAgICAgcmV0dXJuDQogICAgZW5kDQoNCiAgICBmb3IgYnBJbmRleCwgbG9vdEl0ZW1zIGluIHBhaXJzKHNlbGYuX2xvb3RDb250YWluZXJzKSBkbw0KICAgICAgICBmb3IgbG9vdElELCBsb290Q291bnQgaW4gcGFpcnMobG9vdEl0ZW1zKSBkbw0KICAgICAgICAgICAgbG9jYWwgbmV3Q291bnQgPSBTZWxmLkl0ZW1Db3VudChsb290SUQsIGJwSW5kZXgtMSwgZmFsc2UpDQogICAgICAgICAgICAtLSBCaWdnZXIgY291bnQgYW5kIHdlIGxvb3RlZCBpdCBmcm9tIGEgYm9keQ0KICAgICAgICAgICAgaWYobmV3Q291bnQgPiBsb290Q291bnQgYW5kIGNvcnBzZU9wZW4pdGhlbg0KICAgICAgICAgICAgICAgIGlmKG5vdCBsb290QWRkaXRpb25zW2xvb3RJRF0pdGhlbg0KICAgICAgICAgICAgICAgICAgICBsb290QWRkaXRpb25zW2xvb3RJRF0gPSAwDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgbG9vdEFkZGl0aW9uc1tsb290SURdID0gbG9vdEFkZGl0aW9uc1tsb290SURdICsgKG5ld0NvdW50IC0gbG9vdENvdW50KQ0KICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAtLSBBbHdheXMgbG9nIG5ldyBjb3VudA0KICAgICAgICAgICAgc2VsZi5fbG9vdENvbnRhaW5lcnNbYnBJbmRleF1bbG9vdElEXSA9IG5ld0NvdW50DQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIC0tIEFkZCByZWNlbnQgYWRkaXRpb25zIHRvIHRoZSB0b3RhbHMNCiAgICBmb3IgbG9vdElELCBsb290Q291bnQgaW4gcGFpcnMobG9vdEFkZGl0aW9ucykgZG8NCiAgICAgICAgbG9jYWwgbG9vdFRibCA9IHNlbGYuX2xvb3RUYWJsZVtsb290SURdDQogICAgICAgIHNlbGYuX2xvb3RUYWJsZVtsb290SURdID0gbG9vdFRibCBhbmQgKGxvb3RUYmwgKyBsb290Q291bnQpIG9yIGxvb3RDb3VudA0KICAgIGVuZA0KICAgIC0tIFN1bSB0aGUgdG90YWxzDQogICAgbG9jYWwgdG90YWxTdW0gPSAwDQogICAgZm9yIGxvb3RJRCwgbG9vdENvdW50IGluIHBhaXJzKHNlbGYuX2xvb3RUYWJsZSkgZG8NCiAgICAgICAgbG9jYWwgdmFsdWVzID0gc2VsZi5faXRlbVZhbHVlc1tsb290SURdDQogICAgICAgIGlmKHZhbHVlcyBhbmQgdmFsdWVzLnYpdGhlbg0KICAgICAgICAgICAgdG90YWxTdW0gPSB0b3RhbFN1bSArICh2YWx1ZXMudiAqIGxvb3RDb3VudCkNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgc2VsZi5fbG9vdGdhaW4gPSB0b3RhbFN1bQ0KZW5kDQoNCmZ1bmN0aW9uIFNZTkhVRDppc0NvcnBzZUNvbnRhaW5lck9wZW4oKQ0KICAgIGxvY2FsIGluZGV4ID0gLTENCiAgICB3aGlsZSAoaW5kZXggPCAxNikgZG8NCiAgICAgICAgaW5kZXggPSBpbmRleCArIDENCiAgICAgICAgbG9jYWwgY29udE5hbWUgPSBnZXRDb250YWluZXJOYW1lKGluZGV4KQ0KICAgICAgICBsb2NhbCBpc0NvcnBzZSA9IChjb250TmFtZTpmaW5kKCJUaGUiKSBvciBjb250TmFtZTpmaW5kKCJEZW1vbmljIikgb3IgY29udE5hbWU6ZmluZCgiRGVhZCIpIG9yIGNvbnROYW1lOmZpbmQoIlNsYWluIikgb3IgY29udE5hbWU6ZmluZCgiRGlzc29sdmVkIikgb3IgY29udE5hbWU6ZmluZCgiUmVtYWlucyIpIG9yIGNvbnROYW1lOmZpbmQoIkVsZW1lbnRhbCIpIG9yIEl0ZW0uaXNDb3Jwc2UoZ2V0Q29udGFpbmVySUQoaW5kZXgpKSkNCiAgICAgICAgaWYoZ2V0Q29udGFpbmVyT3BlbihpbmRleCkgYW5kIGlzQ29ycHNlKXRoZW4NCiAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIGVuZA0KICAgIGVuZA0KICAgIHJldHVybiBmYWxzZQ0KZW5kDQoNCmZ1bmN0aW9uIFNZTkhVRDpHZXRUaW1lVW50aWxTZXJ2ZXJTYXZlKCkNCiAgICBsb2NhbCBjdXJUaW1lID0gb3MudGltZSgpDQogICAgbG9jYWwgdXRjLCBsb2MgPSBvcy5kYXRlKCIhKnQiLCBjdXJUaW1lKSwgb3MuZGF0ZSgiKnQiLCBjdXJUaW1lKQ0KICAgIGxvYy5pc2RzdCA9IGZhbHNlDQogICAgbG9jYWwgb2Zmc2V0ID0gb3MuZGlmZnRpbWUob3MudGltZShsb2MpLCBvcy50aW1lKHV0YykpDQogICAgbG9jYWwgVVRDTm93ID0gb3MudGltZSgpDQogICAgbG9jYWwgVVRDVGFibGUgPSBvcy5kYXRlKCIqdCIsIFVUQ05vdykNCiAgICBsb2NhbCBkc3RWYWx1ZSA9IFVUQ1RhYmxlLmlzZHN0IGFuZCA3MjAwIG9yIDM2MDANCiAgICBsb2NhbCB0YXJnZXRUaW1lID0ge3llYXI9VVRDVGFibGUueWVhciwgbW9udGg9VVRDVGFibGUubW9udGgsIGRheT1VVENUYWJsZS5kYXksIGhvdXI9OSwgbWluPTU5fSAgDQogICAgbG9jYWwgdGltZURpZmZlcmVuY2UgPSAoKChvcy50aW1lKHRhcmdldFRpbWUpIC0gKFVUQ05vdyArIGRzdFZhbHVlKSkgKyBvZmZzZXQpLzYwKS82MA0KICAgIGxvY2FsIGhvdXJzTGVmdCA9IHRpbWVEaWZmZXJlbmNlDQogICAgaWYgKGhvdXJzTGVmdCA8IDApIHRoZW4NCiAgICAgICAgaG91cnNMZWZ0ID0gMjQgKyBob3Vyc0xlZnQNCiAgICBlbmQNCiAgICByZXR1cm4gaG91cnNMZWZ0ICAgDQplbmQNCg0KLS0gQ29uZmlnIENoYW5uZWwNCmxvY2FsIHRhbGtTdGF0ZSA9IDENCmxvY2FsIGNvbmZpZyA9IHsNCiAgICB1c2VvdXRmaXRjb2xvcnMgPSBmYWxzZSwNCiAgICBkaXNwbGF5aWNvbnMgPSB0cnVlLA0KICAgIGxvZ2VuYWJsZWQgPSBmYWxzZQ0KfQ0KDQotLSBKWFNDUklQVCBIVUQgU2V0dXAgQmVsb3cNCi0tIFN0YXJ0IFNlY3VyaXR5DQpsb2NhbCBzZXR0aW5ncyA9IFNldHRpbmdzLk5ldyhzY3JpcHROYW1lKQ0KbG9jYWwgd2Fsa2VyID0gc2V0dGluZ3MgYW5kIHNldHRpbmdzOkdldCgnV2Fsa2VyJykgb3IgbmlsDQpsb2NhbCBsaXN0ID0gd2Fsa2VyIGFuZCB3YWxrZXIuV2F5cG9pbnRMaXN0IG9yIG5pbA0KZnVuY3Rpb24gX19fa2coKQ0KICAgIGlmKHNldHRpbmdzKXRoZW4NCiAgICAgICAgbG9jYWwga2V5ID0gIiINCiAgICAgICAgZm9yIGk9MSwjbGlzdCBkbw0KICAgICAgICAgICAga2V5ID0ga2V5IC4uIGxpc3RbaV0udGFnDQogICAgICAgIGVuZA0KICAgICAgICByZXR1cm4ga2V5DQogICAgZW5kDQogICAgcmV0dXJuICcnDQplbmQNCmxvY2FsIHNjcmlwdEtleSA9IF9fX2sgb3IgJycNCmxvY2FsIHNlY3VyaXR5S2V5cyA9IHNjcmlwdEtleTpyZXZlcnNlKCk6c3BsaXQoJ3wnKQ0KYXNzZXJ0KGxpc3Qgb3IgX19fa2coc2NyaXB0TmFtZSk9PXNlY3VyaXR5S2V5c1sjc2VjdXJpdHlLZXlzXSwnRmFpbGVkIHNjcmlwdCB2ZXJpZmljYXRpb24gY2hlY2suJykNCmxvY2FsIGJ5dGVMZW5ndGhzID0gc2VjdXJpdHlLZXlzWzFdDQpsb2NhbCB1c2VyQnl0ZXMgPSBzZWN1cml0eUtleXNbMl0NCmxvY2FsIGJ5dGVQb3MgPSAwDQpsb2NhbCBrZXluYW1lID0gIiINCmxvY2FsIHBhcnNlQnl0ZXMgPSBmdW5jdGlvbihsKQ0KICAgIGxvY2FsIHN0cmluZ0VuZCA9IGJ5dGVQb3MgKyB0b251bWJlcihsKQ0KICAgIGtleW5hbWUgPSBrZXluYW1lIC4uc3RyaW5nLmNoYXIodG9udW1iZXIodXNlckJ5dGVzOnN1YihieXRlUG9zKzEsIHN0cmluZ0VuZCkpKQ0KICAgIGJ5dGVQb3MgPSBzdHJpbmdFbmQNCiAgICByZXR1cm4NCmVuZA0Kc3RyaW5nLmdzdWIoYnl0ZUxlbmd0aHMsICIoJXcpIiwgcGFyc2VCeXRlcykNCmxvY2FsIHRlc3RLZXkgPSAoa2V5bmFtZT09Im11Y3h5cWk5ZHdjdDBhZGhtY2RrZGk3Y2F2a3Q2bDV6aGVlaWhsemN1d2xjZ2ZvZnZza3VjemNqdXJyZjh6eCIpIGFuZCBrZXluYW1lIG9yIGdldFVzZXJOYW1lKCk6bG93ZXIoKQ0KYXNzZXJ0KG5vdChub3QgZ2V0VXNlck5hbWUgb3IgcGNhbGwoZnVuY3Rpb24oKXN0cmluZy5kdW1wKGdldFVzZXJOYW1lKWVuZCkgb3Iga2V5bmFtZX49dGVzdEtleSksJ0ZhaWxlZCB1c2VyIHZlcmlmaWNhdGlvbiBjaGVjay4nKQ0KLS0gRW5kIFNlY3VyaXR5DQpfV29ybGQgPSB7fQ0KX1BsYXllciA9IHt9DQpfUm91dGUgPSB7fQ0KX0hVRCA9IHt9DQpfU2hvb3RlciA9IHt9DQpfSGVhbGVyID0ge30NCl9Tb2Z0Qm9vdHMgPSB7fQ0KX1BvdGlvbiA9IHt9DQpfUnVuZSA9IHt9DQpfQW1tbyA9IHt9DQpfQ2FwID0ge30NCl9TdGFtaW5hID0ge30NCl9NYW5hID0ge30NCl9TcGF3biA9IHt9DQpfU2VsbCA9IHt9DQpfUmluZyA9IHt9DQpfQW11bGV0ID0ge30NCl9Mb290U29ydCA9IHt9DQpfTWlzYyA9IHt9DQpfRm9vZCA9IHt9DQpsb2NhbCBjb25maWdDb21wb25lbnRzID0gc2NyaXB0TmFtZTpzcGxpdCgnXScpDQpsb2NhbCBjb25maWdOYW1lID0gY29uZmlnQ29tcG9uZW50c1sxXSAuLiAnXSBDb25maWctJyAuLiBjb25maWdDb21wb25lbnRzWzJdOnRyaW0oKSAuLiAnLmx1YScNCnhic3QgPSBzY3JpcHROYW1lDQoNCmxvY2FsIGV4dF9jb25maWcgPSBsb2FkZmlsZSgnLi4vU2NyaXB0cy8nIC4uIGNvbmZpZ05hbWUpDQppZihleHRfY29uZmlnKXRoZW4NCiAgICBfXyA9IHRydWUgLS0gdGhpcyBpcyB1c2VkIGZvciBjb25maWcgcnVuIGNoZWNraW5nDQogICAgZXh0X2NvbmZpZygpDQoNCiAgICAtLSBNZXJnZSBpbiBjdXN0b20gbG9vdC9zdXBwbHkgdmFsdWVzLg0KICAgIGlmKF9IVUQuSXRlbSBhbmQgX0hVRC5JdGVtLmVuYWJsZWQpdGhlbg0KICAgICAgICBmb3Igayx2IGluIHBhaXJzKF9IVUQuSXRlbSkgZG8NCiAgICAgICAgICAgIGlmKGsgfj0gJ2VuYWJsZWQnIGFuZCB0eXBlKGspPT0nbnVtYmVyJyl0aGVuIC0tIG9ubHkgY29weSBsb290L3N1cHBseS9kdXIgdmFsdWVzIDspDQoJCQkJaWYobm90IGxvb3RWYWx1ZXNba10pdGhlbg0KCQkJCQlsb290VmFsdWVzW2tdID0ge30NCgkJCQllbmQNCiAgICAgICAgICAgICAgICBpZih2LmNvc3QpdGhlbiBsb290VmFsdWVzW2tdLmMgPSB2LmNvc3QgZW5kDQogICAgICAgICAgICAgICAgaWYodi52YWx1ZSl0aGVuIGxvb3RWYWx1ZXNba10udiA9IHYudmFsdWUgZW5kDQogICAgICAgICAgICAgICAgaWYodi5kdXJhdGlvbil0aGVuIGxvb3RWYWx1ZXNba10uZCA9IHYuZHVyYXRpb24gZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICBjb25maWcuZGlzcGxheWljb25zID0gX0hVRC5TaG93SWNvbnMNCiAgICBjb25maWcudXNlb3V0Zml0Y29sb3JzID0gX0hVRC5Vc2VPdXRmaXRUaGVtZQ0KICAgIGNvbmZpZy5sb2dlbmFibGVkID0gX0hVRC5Mb2dTdGF0aXN0aWNzDQogICAgY29uZmlnLml0ZW1Ib3VybHlFbmFibGVkID0gX0hVRC5TaG93SG91cmx5SXRlbVJhdGVzDQogICAgU1lOSFVELk5ldyh4YnN0LCBjb25maWcpDQplbmQNCg==]]></script>
	<script name="[M] Shooter-Banuta -1.lua"><![CDATA[LS1bWyBWYXJpYWJsZXMgXV0NCmxvY2FsIFhCU1QgPSAiW01dIEJhbnV0YSAtMSINCmxvY2FsIHNlY3VyaXR5S2V5ID0gW1s1NTIwMDAwMDAwMDAwMDAwMDAwMDU1MjE1NTIwMDA1NTIxNTUyMDAwMDE1NTIwMDAwMDAwNTUyNTUyMDU1MjE1NTIwMDU1MjU1MjQ1MjU1MjAwMDU1MjQ1MjU1MjAwMDU1MjAwNTUyNDUyNTUyMDA1NTIwMDA1NTI0NTI1NTIwMDAwNTUyMDA1NTI0NTI1NTIwMDA1NTI1NTI0NTI1NTIwMDA1NTI1NTI1NTIwMDA1NTI0NTI1NTIwMDA1NTI0NTI1NTIwMDU1MjU1MjU1MjAwMDA1NTI0NTI1NTIwMDQ1MjAwNTUyNDUyNTUyMDA1NTI0NTI1NTIwMDAwNTUyNDUyNTUyNTUyMTU1MjQ1MjA1NTI1NTIwMDAwMDAwNDUyMTU1MjU1MjE1NTIwMDA1NTI0NTUyMDU1MjQ1MjE1NTIxNTUyNDU1MjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDU1MjU1MjQ1MjAwMDAwMDAwMDAwNTUyNTUyMDU1MjU1MjA1NTIwNTUyMDU1MjU1MjU1MjU1MjU1MjA1NTIwMjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTAwMTExNTUyMTU1MjExMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMDA1NTI1NTIwNTUyMDAwMDAwMDAwNTUyNTUyMTU1MjAwMDAwMDAwMDA1NTI1NTIwMDAwMDAwMDAyMDAwMDAwMDAwNTUyNTUyMTA1NTIxNTUyMTU1MjI1NTI1NTIxNTUyNTUyMDU1MjE1NTI1NTI1NTIwMTU1MjU1MjU1MjExNTUyMDAwMDAwNTUyNTUyMDA1NTIwNTUyNTUyMTA1NTIxNTUyMDEwNTUyNTUyNTUyMDU1MjAwMDAwMDAwMTAwMDAwMDAwNTUyMDAwMDA1NTI0NTIxMDEwNTUyfDAyMTIyMTY1MjAxNDExNDExNzExNjAxOTkyMjE5OTcxMTcwMTUxMTgxMTIwMTExMTIwMTMwMTk5ODAxOTExNzExOTkyMjE4MDE0MDE1MDExMDExMDE0MDEyMjEzNTgwMTQ1NjExNzAxODExNzk5OTU1NTAxMDAxNzAxMDAxOTk5MDE0MDEwMDE3OTg0NjExOTk5MTEwMDE3NTUwMTMxMTEyMTAyMTk5NzExOTAxfDMzMjMzMzMzMjMyMzMzMzMzMzMyMzMzMjMzMzMzMzMzMjMyMzMzMjIyMzMzMzIzMzMyMjMyMzMyMzMzMzIzM11dDQpfV29ybGQsX1BsYXllcixfUm91dGUsX0hVRCxfU2hvb3RlcixfSGVhbGVyLF9Tb2Z0Qm9vdHMsX1BvdGlvbixfUnVuZSxfQW1tbyxfQ2FwLF9TdGFtaW5hLF9NYW5hLF9TcGF3bixfU2VsbCxfUmluZyxfQW11bGV0LF9Mb290U29ydCxfTWlzYyxfRm9vZCA9IHt9LHt9LHt9LHt9LHt9LHt9LHt9LHt9LHt9LHt9LHt9LHt9LHt9LHt9LHt9LHt9LHt9LHt9LHt9LHt9DQpsb2NhbCBzcGVjaWFsQXJlYXMsIGF0dGFjaywgc3VwcG9ydCA9IHt9LCB7fSwge30NCmxvY2FsIG1heEF0dGFja0luZGV4ID0gMQ0KbG9jYWwgZ2xvYmFsVHVybiA9IG5pbA0KbG9jYWwgcGxheWVyVm9jYXRpb24gPSAnJw0KbG9jYWwgbGFzdEZsb29yID0gbmlsDQpsb2NhbCBwcmlvcml0eSA9IDAgLS0gMDogbG93LCAxOiBoaWdoDQpsb2NhbCBnbG9iYWxJZ25vcmVMaXN0ID0gew0KICAgIFsnY3Vyb3MnXT10cnVlLA0KICAgIFsnemFsYW1vbiddPXRydWUsDQogICAgWydjYWVsJ109dHJ1ZSwNCiAgICBbJ2VzcmlrJ109dHJ1ZSwNCiAgICBbJ21lbGlhbiddPXRydWUsDQogICAgWydtdXJpbSddPXRydWUsDQogICAgWydvbmd1bGYnXT10cnVlLA0KICAgIFsncG9tcGFuJ109dHJ1ZSwNCiAgICBbJ3ByZXppbCddPXRydWUsDQogICAgWydyYWJheiddPXRydWUsDQogICAgWydyZWJlbCddPXRydWUsDQogICAgWydjaGFydGFuJ109dHJ1ZSwNCiAgICBbJ3N3b2x0J109dHJ1ZSwNCiAgICBbJ3Rob3JncmluJ109dHJ1ZSwNCiAgICBbJ2NhdCddPXRydWUsDQogICAgWydkb2cnXT10cnVlLA0KICAgIFsnc2VhZ3VsbCddPXRydWUNCn0NCg0KLS0gSWNlIFVFDQphdHRhY2tbMV0gPSB7DQogICAgd29yZHMgPSAnZXhldm8gZ3JhbiBtYXMgZnJpZ28nLA0KICAgIHZvYyA9IHsnZHJ1aWQnfSwNCiAgICBjb3VudE1pbiA9IDYsDQogICAgYXJlYSA9ICdDUk9TUzZYNicsDQogICAgY29uZmlnID0geydQcmVtaXVtJywgJ1VsdGltYXRlQXJlYSd9LA0KICAgIHRhcmdldExpc3QgPSB7DQogICAgICAgIFsic2VycGVudCBzcGF3biJdID0gezAsIDEwMH0sDQogICAgICAgIFsibWVkdXNhIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJoeWRyYSJdID0gezAsIDEwMH0sDQogICAgICAgIFsiZXRlcm5hbCBndWFyZGlhbiJdID0gezAsIDEwMH0sDQogICAgICAgIFsiZ2lhbnQgc3BpZGVyIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJmaXJlIGVsZW1lbnRhbCJdID0gezAsIDEwMH0sDQogICAgICAgIFsibWFzc2l2ZSBmaXJlIGVsZW1lbnRhbCJdID0gezAsIDEwMH0NCiAgICB9DQp9DQoNCi0tIEVuZXJneSBVRQ0KYXR0YWNrWzJdID0gew0KICAgIHdvcmRzID0gJ2V4ZXZvIGdyYW4gbWFzIHZpcycsDQogICAgdm9jID0geydzb3JjZXJlcid9LA0KICAgIGNvdW50TWluID0gNiwNCiAgICBhcmVhID0gJ0NST1NTNlg2JywNCiAgICBjb25maWcgPSB7J1ByZW1pdW0nLCAnVWx0aW1hdGVBcmVhJ30sDQogICAgdGFyZ2V0TGlzdCA9IHsNCiAgICAgICAgWyJzZXJwZW50IHNwYXduIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJtZWR1c2EiXSA9IHswLCAxMDB9LA0KICAgICAgICBbImh5ZHJhIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJmcm9zdCBkcmFnb24iXSA9IHswLCAxMDB9LA0KICAgICAgICBbImV0ZXJuYWwgZ3VhcmRpYW4iXSA9IHswLCAxMDB9LA0KICAgICAgICBbImljZSBnb2xlbSJdID0gezAsIDEwMH0sDQogICAgICAgIFsiZ2lhbnQgc3BpZGVyIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJmaXJlIGVsZW1lbnRhbCJdID0gezAsIDEwMH0sDQogICAgICAgIFsibWFzc2l2ZSBmaXJlIGVsZW1lbnRhbCJdID0gezAsIDEwMH0sDQogICAgICAgIFsid2F0ZXIgZWxlbWVudGFsIl0gPSB7MCwgMTAwfQ0KICAgIH0NCn0NCg0KLS0gSWNpY2xlL1NEDQphdHRhY2tbM10gPSB7DQogICAgcnVuZWlkID0gIk1pc3NpbGUiLA0KICAgIHRhcmdldExpc3QgPSB7DQogICAgICAgIFsic2VycGVudCBzcGF3biJdID0gezAsIDE3fSwNCiAgICAgICAgWyJtZWR1c2EiXSA9IHswLCAxNH0sDQogICAgICAgIFsiaHlkcmEiXSA9IHswLCAyMH0sDQogICAgICAgIFsiZnJvc3QgZHJhZ29uIl0gPSB7MCwgMTd9LA0KICAgICAgICBbImV0ZXJuYWwgZ3VhcmRpYW4iXSA9IHswLCAxN30NCiAgICB9DQp9DQoNCi0tIFN0cm9uZyBJY2UgV2F2ZQ0KYXR0YWNrWzRdID0gew0KICAgIHdvcmRzID0gJ2V4ZXZvIGdyYW4gZnJpZ28gaHVyJywNCiAgICB2b2MgPSB7J2RydWlkJ30sDQogICAgYXJlYSA9ICdXQVZFMycsDQogICAgY291bnRNaW4gPSAyLA0KICAgIGNvbmZpZyA9IHsnUHJlbWl1bScsICdTdHJvbmdXYXZlcyd9LA0KICAgIHR1cm4gPSB0cnVlLA0KICAgIHRhcmdldExpc3QgPSB7DQogICAgICAgIFsic2VycGVudCBzcGF3biJdID0gezAsIDEwMH0sDQogICAgICAgIFsibWVkdXNhIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJoeWRyYSJdID0gezAsIDEwMH0sDQogICAgICAgIFsiZXRlcm5hbCBndWFyZGlhbiJdID0gezAsIDEwMH0sDQogICAgICAgIFsiYWNpZCBibG9iIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJnaWFudCBzcGlkZXIiXSA9IHswLCAxMDB9LA0KICAgICAgICBbImZpcmUgZWxlbWVudGFsIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJtYXNzaXZlIGZpcmUgZWxlbWVudGFsIl0gPSB7MCwgMTAwfQ0KICAgIH0NCn0NCg0KLS0gR3JlYXQgRW5lcmd5IEJlYW0NCmF0dGFja1s1XSA9IHsNCiAgICB3b3JkcyA9ICdleGV2byBncmFuIHZpcyBsdXgnLA0KICAgIHZvYyA9IHsnc29yY2VyZXInfSwNCiAgICBhcmVhID0gJ0JFQU04JywNCiAgICBjb3VudE1pbiA9IDIsDQogICAgY29uZmlnID0geydQcmVtaXVtJywgJ1N0cm9uZ0JlYW1zJ30sDQogICAgdHVybiA9IHRydWUsDQogICAgdGFyZ2V0TGlzdCA9IHsNCiAgICAgICAgWyJzZXJwZW50IHNwYXduIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJtZWR1c2EiXSA9IHswLCAxMDB9LA0KICAgICAgICBbImh5ZHJhIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJmcm9zdCBkcmFnb24iXSA9IHswLCAxMDB9LA0KICAgICAgICBbImV0ZXJuYWwgZ3VhcmRpYW4iXSA9IHswLCAxMDB9LA0KICAgICAgICBbImFjaWQgYmxvYiJdID0gezAsIDEwMH0sDQogICAgICAgIFsiaWNlIGdvbGVtIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJnaWFudCBzcGlkZXIiXSA9IHswLCAxMDB9LA0KICAgICAgICBbImZpcmUgZWxlbWVudGFsIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJtYXNzaXZlIGZpcmUgZWxlbWVudGFsIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJ3YXRlciBlbGVtZW50YWwiXSA9IHswLCAxMDB9DQogICAgfQ0KfQ0KDQotLSBFbmVyZ3kgV2F2ZQ0KYXR0YWNrWzZdID0gew0KICAgIHdvcmRzID0gJ2V4ZXZvIHZpcyBodXInLA0KICAgIHZvYyA9IHsnc29yY2VyZXInfSwNCiAgICBhcmVhID0gJ1dBVkU1JywNCiAgICBjb3VudE1pbiA9IDIsDQogICAgY29uZmlnID0geydQcmVtaXVtJywgJ1N0cm9uZ1dhdmVzJ30sDQogICAgdHVybiA9IHRydWUsDQogICAgdGFyZ2V0TGlzdCA9IHsNCiAgICAgICAgWyJzZXJwZW50IHNwYXduIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJtZWR1c2EiXSA9IHswLCAxMDB9LA0KICAgICAgICBbImh5ZHJhIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJmcm9zdCBkcmFnb24iXSA9IHswLCAxMDB9LA0KICAgICAgICBbImV0ZXJuYWwgZ3VhcmRpYW4iXSA9IHswLCAxMDB9LA0KICAgICAgICBbImFjaWQgYmxvYiJdID0gezAsIDEwMH0sDQogICAgICAgIFsiaWNlIGdvbGVtIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJnaWFudCBzcGlkZXIiXSA9IHswLCAxMDB9LA0KICAgICAgICBbImZpcmUgZWxlbWVudGFsIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJtYXNzaXZlIGZpcmUgZWxlbWVudGFsIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJ3YXRlciBlbGVtZW50YWwiXSA9IHswLCAxMDB9DQogICAgfQ0KfQ0KDQotLSBUaHVuZGVyc3Rvcm0gUnVuZQ0KYXR0YWNrWzddID0gew0KICAgIHJ1bmVpZCA9ICJBcmVhIiwNCiAgICBhcmVhID0gJ0NST1NTM1gzJywNCiAgICBjb3VudE1pbiA9IDIsDQogICAgdGFyZ2V0TGlzdCA9IHsNCiAgICAgICAgWyJzZXJwZW50IHNwYXduIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJtZWR1c2EiXSA9IHswLCAxMDB9LA0KICAgICAgICBbImh5ZHJhIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJmcm9zdCBkcmFnb24iXSA9IHswLCAxMDB9LA0KICAgICAgICBbImV0ZXJuYWwgZ3VhcmRpYW4iXSA9IHswLCAxMDB9LA0KICAgICAgICBbImFjaWQgYmxvYiJdID0gezAsIDEwMH0sDQogICAgICAgIFsiaWNlIGdvbGVtIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJnaWFudCBzcGlkZXIiXSA9IHswLCAxMDB9LA0KICAgICAgICBbImZpcmUgZWxlbWVudGFsIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJtYXNzaXZlIGZpcmUgZWxlbWVudGFsIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJ3YXRlciBlbGVtZW50YWwiXSA9IHswLCAxMDB9DQogICAgfQ0KfQ0KDQotLSBJY2ljbGUvU0QNCmF0dGFja1s4XSA9IHsNCiAgICBydW5laWQgPSAiTWlzc2lsZSIsDQogICAgY291bnRNaW4gPSAxLA0KICAgIHRhcmdldExpc3QgPSB7DQogICAgICAgIFsic2VycGVudCBzcGF3biJdID0gezAsIDEwMH0sDQogICAgICAgIFsibWVkdXNhIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJoeWRyYSJdID0gezAsIDEwMH0sDQogICAgICAgIFsiZnJvc3QgZHJhZ29uIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJldGVybmFsIGd1YXJkaWFuIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJnaWFudCBzcGlkZXIiXSA9IHswLCAxMDB9LA0KICAgICAgICBbIm1hc3NpdmUgZmlyZSBlbGVtZW50YWwiXSA9IHswLCAxMDB9DQogICAgfQ0KfQ0KDQotLSBJY2UgV2F2ZQ0KYXR0YWNrWzldID0gew0KICAgIHdvcmRzID0gJ2V4ZXZvIGZyaWdvIGh1cicsDQogICAgdm9jID0geydkcnVpZCd9LA0KICAgIGFyZWEgPSAnV0FWRTQnLA0KICAgIGNvdW50TWluID0gMiwNCiAgICBjb25maWcgPSB7J1ByZW1pdW0nLCAnV2F2ZXMnfSwNCiAgICB0dXJuID0gdHJ1ZSwNCiAgICB0YXJnZXRMaXN0ID0gew0KICAgICAgICBbInNlcnBlbnQgc3Bhd24iXSA9IHswLCAxMDB9LA0KICAgICAgICBbIm1lZHVzYSJdID0gezAsIDEwMH0sDQogICAgICAgIFsiaHlkcmEiXSA9IHswLCAxMDB9LA0KICAgICAgICBbImV0ZXJuYWwgZ3VhcmRpYW4iXSA9IHswLCAxMDB9LA0KICAgICAgICBbImFjaWQgYmxvYiJdID0gezAsIDEwMH0sDQogICAgICAgIFsiZ2lhbnQgc3BpZGVyIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJmaXJlIGVsZW1lbnRhbCJdID0gezAsIDEwMH0sDQogICAgICAgIFsibWFzc2l2ZSBmaXJlIGVsZW1lbnRhbCJdID0gezAsIDEwMH0NCiAgICB9DQp9DQoNCi0tIEZsYW1lIFdhdmUNCmF0dGFja1sxMF0gPSB7DQogICAgd29yZHMgPSAnZXhldm8gZmxhbSBodXInLA0KICAgIHZvYyA9IHsnc29yY2VyZXInfSwNCiAgICBhcmVhID0gJ1dBVkU0JywNCiAgICBjb3VudE1pbiA9IDIsDQogICAgY29uZmlnID0geydQcmVtaXVtJywgJ1dhdmVzJ30sDQogICAgdHVybiA9IHRydWUsDQogICAgdGFyZ2V0TGlzdCA9IHsNCiAgICAgICAgWyJzZXJwZW50IHNwYXduIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJtZWR1c2EiXSA9IHswLCAxMDB9LA0KICAgICAgICBbImh5ZHJhIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJldGVybmFsIGd1YXJkaWFuIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJhY2lkIGJsb2IiXSA9IHswLCAxMDB9LA0KICAgICAgICBbImdpYW50IHNwaWRlciJdID0gezAsIDEwMH0sDQogICAgICAgIFsiZmlyZSBlbGVtZW50YWwiXSA9IHswLCAxMDB9LA0KICAgICAgICBbIm1hc3NpdmUgZmlyZSBlbGVtZW50YWwiXSA9IHswLCAxMDB9DQogICAgfQ0KfQ0KDQotLSBTdHJvbmcgSWNlIFN0cmlrZQ0KYXR0YWNrWzExXSA9IHsNCiAgICB3b3JkcyA9ICdleG9yaSBncmFuIGZyaWdvJywNCiAgICB2b2MgPSB7J2RydWlkJ30sDQogICAgY29uZmlnID0geydQcmVtaXVtJywgJ1N0cm9uZ1N0cmlrZXMnfSwNCiAgICByYW5nZU1pbiA9IDAsDQogICAgcmFuZ2VNYXggPSAzLA0KICAgIHRhcmdldExpc3QgPSB7DQogICAgICAgIFsic2VycGVudCBzcGF3biJdID0gezAsIDEwMH0sDQogICAgICAgIFsibWVkdXNhIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJoeWRyYSJdID0gezAsIDEwMH0sDQogICAgICAgIFsiZXRlcm5hbCBndWFyZGlhbiJdID0gezAsIDEwMH0sDQogICAgICAgIFsiYWNpZCBibG9iIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJnaWFudCBzcGlkZXIiXSA9IHswLCAxMDB9LA0KICAgICAgICBbImZpcmUgZWxlbWVudGFsIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJtYXNzaXZlIGZpcmUgZWxlbWVudGFsIl0gPSB7MCwgMTAwfQ0KICAgIH0NCn0NCg0KLS0gU3Ryb25nIEVuZXJneSBTdHJpa2UNCmF0dGFja1sxMl0gPSB7DQogICAgd29yZHMgPSAnZXhvcmkgZ3JhbiB2aXMnLA0KICAgIHZvYyA9IHsnc29yY2VyZXInfSwNCiAgICBjb25maWcgPSB7J1ByZW1pdW0nLCAnU3Ryb25nU3RyaWtlcyd9LA0KICAgIHJhbmdlTWluID0gMCwNCiAgICByYW5nZU1heCA9IDMsDQogICAgdGFyZ2V0TGlzdCA9IHsNCiAgICAgICAgWyJzZXJwZW50IHNwYXduIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJtZWR1c2EiXSA9IHswLCAxMDB9LA0KICAgICAgICBbImh5ZHJhIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJmcm9zdCBkcmFnb24iXSA9IHswLCAxMDB9LA0KICAgICAgICBbImV0ZXJuYWwgZ3VhcmRpYW4iXSA9IHswLCAxMDB9LA0KICAgICAgICBbImFjaWQgYmxvYiJdID0gezAsIDEwMH0sDQogICAgICAgIFsiaWNlIGdvbGVtIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJnaWFudCBzcGlkZXIiXSA9IHswLCAxMDB9LA0KICAgICAgICBbImZpcmUgZWxlbWVudGFsIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJtYXNzaXZlIGZpcmUgZWxlbWVudGFsIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJ3YXRlciBlbGVtZW50YWwiXSA9IHswLCAxMDB9DQogICAgfQ0KfQ0KDQotLSBFbmVyZ3kgU3RyaWtlDQphdHRhY2tbMTNdID0gew0KICAgIHdvcmRzID0gJ2V4b3JpIHZpcycsDQogICAgY29uZmlnID0geydQcmVtaXVtJywgJ1N0cmlrZXMnfSwNCiAgICByYW5nZU1pbiA9IDAsDQogICAgcmFuZ2VNYXggPSAzLA0KICAgIHRhcmdldExpc3QgPSB7DQogICAgICAgIFsic2VycGVudCBzcGF3biJdID0gezAsIDEwMH0sDQogICAgICAgIFsibWVkdXNhIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJoeWRyYSJdID0gezAsIDEwMH0sDQogICAgICAgIFsiZnJvc3QgZHJhZ29uIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJldGVybmFsIGd1YXJkaWFuIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJhY2lkIGJsb2IiXSA9IHswLCAxMDB9LA0KICAgICAgICBbImljZSBnb2xlbSJdID0gezAsIDEwMH0sDQogICAgICAgIFsiZ2lhbnQgc3BpZGVyIl0gPSB7MCwgMTAwfSwNCiAgICAgICAgWyJmaXJlIGVsZW1lbnRhbCJdID0gezAsIDEwMH0sDQogICAgICAgIFsibWFzc2l2ZSBmaXJlIGVsZW1lbnRhbCJdID0gezAsIDEwMH0sDQogICAgICAgIFsid2F0ZXIgZWxlbWVudGFsIl0gPSB7MCwgMTAwfQ0KICAgIH0NCn0NCg0KbG9jYWwgc3BlbGxBcmVhcyA9IHsNCiAgICBXQVZFMSA9IHsNCiAgICAgICAgQ0VOVEVSID0gezIsMn0sDQogICAgICAgIE1BUCA9IHsNCiAgICAgICAgICAgIHs5LDIsNn0sDQogICAgICAgICAgICB7MywwLDR9LA0KICAgICAgICAgICAgezgsNSw3fQ0KICAgICAgICB9DQogICAgfSwNCiAgICBXQVZFMyA9IHsNCiAgICAgICAgQ0VOVEVSID0gezUsNX0sDQogICAgICAgIE1BUCA9IHsNCiAgICAgICAgICAgIHswLDAsMCwwLDAsMCwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMiwyLDIsMCwwLDB9LA0KICAgICAgICAgICAgezAsMCwwLDIsMiwyLDAsMCwwfSwNCiAgICAgICAgICAgIHswLDMsMywwLDIsMCw0LDQsMH0sDQogICAgICAgICAgICB7MCwzLDMsMywwLDQsNCw0LDB9LA0KICAgICAgICAgICAgezAsMywzLDAsNSwwLDQsNCwwfSwNCiAgICAgICAgICAgIHswLDAsMCw1LDUsNSwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsNSw1LDUsMCwwLDB9LA0KICAgICAgICAgICAgezAsMCwwLDAsMCwwLDAsMCwwfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBXQVZFNCA9IHsNCiAgICAgICAgQ0VOVEVSID0gezUsNX0sDQogICAgICAgIE1BUCA9IHsNCiAgICAgICAgICAgIHswLDAsMiwyLDIsMiwyLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMiwyLDIsMCwwLDB9LA0KICAgICAgICAgICAgezMsMCwwLDIsMiwyLDAsMCw0fSwNCiAgICAgICAgICAgIHszLDMsMywwLDIsMCw0LDQsNH0sDQogICAgICAgICAgICB7MywzLDMsMywwLDQsNCw0LDR9LA0KICAgICAgICAgICAgezMsMywzLDAsNSwwLDQsNCw0fSwNCiAgICAgICAgICAgIHszLDAsMCw1LDUsNSwwLDAsNH0sDQogICAgICAgICAgICB7MCwwLDAsNSw1LDUsMCwwLDB9LA0KICAgICAgICAgICAgezAsMCw1LDUsNSw1LDUsMCwwfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBXQVZFNSA9IHsNCiAgICAgICAgQ0VOVEVSID0gezYsNn0sDQogICAgICAgIE1BUCA9IHsNCiAgICAgICAgICAgIHswLDAsMCwwLDIsMiwyLDAsMCwwLDB9LA0KICAgICAgICAgICAgezAsMCwwLDAsMiwyLDIsMCwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMCwyLDIsMiwwLDAsMCwwfSwNCiAgICAgICAgICAgIHswLDAsMCwwLDAsMiwwLDAsMCwwLDB9LA0KICAgICAgICAgICAgezMsMywzLDAsMCwyLDAsMCw0LDQsNH0sDQogICAgICAgICAgICB7MywzLDMsMywzLDAsNCw0LDQsNCw0fSwNCiAgICAgICAgICAgIHszLDMsMywwLDAsNSwwLDAsNCw0LDR9LA0KICAgICAgICAgICAgezAsMCwwLDAsMCw1LDAsMCwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMCw1LDUsNSwwLDAsMCwwfSwNCiAgICAgICAgICAgIHswLDAsMCwwLDUsNSw1LDAsMCwwLDB9LA0KICAgICAgICAgICAgezAsMCwwLDAsNSw1LDUsMCwwLDAsMH0NCiAgICAgICAgfQ0KICAgIH0sDQogICAgQkVBTTEgPSB7DQogICAgICAgIENFTlRFUiA9IHsyLDJ9LA0KICAgICAgICBNQVAgPSB7DQogICAgICAgICAgICB7MCwyLDB9LA0KICAgICAgICAgICAgezMsMCw0fSwNCiAgICAgICAgICAgIHswLDUsMH0NCiAgICAgICAgfQ0KICAgIH0sDQogICAgQkVBTTUgPSB7DQogICAgICAgIENFTlRFUiA9IHs2LDZ9LA0KICAgICAgICBNQVAgPSB7DQogICAgICAgICAgICB7MCwwLDAsMCwwLDIsMCwwLDAsMCwwfSwNCiAgICAgICAgICAgIHswLDAsMCwwLDAsMiwwLDAsMCwwLDB9LA0KICAgICAgICAgICAgezAsMCwwLDAsMCwyLDAsMCwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMCwwLDIsMCwwLDAsMCwwfSwNCiAgICAgICAgICAgIHswLDAsMCwwLDAsMiwwLDAsMCwwLDB9LA0KICAgICAgICAgICAgezMsMywzLDMsMywwLDQsNCw0LDQsNH0sDQogICAgICAgICAgICB7MCwwLDAsMCwwLDUsMCwwLDAsMCwwfSwNCiAgICAgICAgICAgIHswLDAsMCwwLDAsNSwwLDAsMCwwLDB9LA0KICAgICAgICAgICAgezAsMCwwLDAsMCw1LDAsMCwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMCwwLDUsMCwwLDAsMCwwfSwNCiAgICAgICAgICAgIHswLDAsMCwwLDAsNSwwLDAsMCwwLDB9DQogICAgICAgIH0NCiAgICB9LA0KICAgIEJFQU04ID0gew0KICAgICAgICBDRU5URVIgPSB7OSw5fSwNCiAgICAgICAgTUFQID0gew0KICAgICAgICAgICAgezAsMCwwLDAsMCwwLDAsMCwyLDAsMCwwLDAsMCwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMCwwLDAsMCwwLDIsMCwwLDAsMCwwLDAsMCwwfSwNCiAgICAgICAgICAgIHswLDAsMCwwLDAsMCwwLDAsMiwwLDAsMCwwLDAsMCwwLDB9LA0KICAgICAgICAgICAgezAsMCwwLDAsMCwwLDAsMCwyLDAsMCwwLDAsMCwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMCwwLDAsMCwwLDIsMCwwLDAsMCwwLDAsMCwwfSwNCiAgICAgICAgICAgIHswLDAsMCwwLDAsMCwwLDAsMiwwLDAsMCwwLDAsMCwwLDB9LA0KICAgICAgICAgICAgezAsMCwwLDAsMCwwLDAsMCwyLDAsMCwwLDAsMCwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMCwwLDAsMCwwLDIsMCwwLDAsMCwwLDAsMCwwfSwNCiAgICAgICAgICAgIHszLDMsMywzLDMsMywzLDMsMCw0LDQsNCw0LDQsNCw0LDR9LA0KICAgICAgICAgICAgezAsMCwwLDAsMCwwLDAsMCw1LDAsMCwwLDAsMCwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMCwwLDAsMCwwLDUsMCwwLDAsMCwwLDAsMCwwfSwNCiAgICAgICAgICAgIHswLDAsMCwwLDAsMCwwLDAsNSwwLDAsMCwwLDAsMCwwLDB9LA0KICAgICAgICAgICAgezAsMCwwLDAsMCwwLDAsMCw1LDAsMCwwLDAsMCwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMCwwLDAsMCwwLDUsMCwwLDAsMCwwLDAsMCwwfSwNCiAgICAgICAgICAgIHswLDAsMCwwLDAsMCwwLDAsNSwwLDAsMCwwLDAsMCwwLDB9LA0KICAgICAgICAgICAgezAsMCwwLDAsMCwwLDAsMCw1LDAsMCwwLDAsMCwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMCwwLDAsMCwwLDUsMCwwLDAsMCwwLDAsMCwwfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBDUk9TUzFYMSA9IHsNCiAgICAgICAgQ0VOVEVSID0gezIsMn0sDQogICAgICAgIE1BUCA9IHsNCiAgICAgICAgICAgIHswLDEsMH0sDQogICAgICAgICAgICB7MSwxLDF9LA0KICAgICAgICAgICAgezAsMSwwfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBDUk9TUzNYMyA9IHsNCiAgICAgICAgQ0VOVEVSID0gezQsNH0sDQogICAgICAgIE1BUCA9IHsNCiAgICAgICAgICAgIHswLDAsMSwxLDEsMCwwfSwNCiAgICAgICAgICAgIHswLDEsMSwxLDEsMSwwfSwNCiAgICAgICAgICAgIHsxLDEsMSwxLDEsMSwxfSwNCiAgICAgICAgICAgIHsxLDEsMSwxLDEsMSwxfSwNCiAgICAgICAgICAgIHsxLDEsMSwxLDEsMSwxfSwNCiAgICAgICAgICAgIHswLDEsMSwxLDEsMSwwfSwNCiAgICAgICAgICAgIHswLDAsMSwxLDEsMCwwfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBDUk9TUzVYNSA9IHsNCiAgICAgICAgQ0VOVEVSID0gezYsNn0sDQogICAgICAgIE1BUCA9IHsNCiAgICAgICAgICAgIHswLDAsMCwwLDAsMSwwLDAsMCwwLDB9LA0KICAgICAgICAgICAgezAsMCwwLDEsMSwxLDEsMSwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDEsMSwxLDEsMSwxLDEsMCwwfSwNCiAgICAgICAgICAgIHswLDEsMSwxLDEsMSwxLDEsMSwxLDB9LA0KICAgICAgICAgICAgezAsMSwxLDEsMSwxLDEsMSwxLDEsMH0sDQogICAgICAgICAgICB7MSwxLDEsMSwxLDEsMSwxLDEsMSwxfSwNCiAgICAgICAgICAgIHswLDEsMSwxLDEsMSwxLDEsMSwxLDB9LA0KICAgICAgICAgICAgezAsMSwxLDEsMSwxLDEsMSwxLDEsMH0sDQogICAgICAgICAgICB7MCwwLDEsMSwxLDEsMSwxLDEsMCwwfSwNCiAgICAgICAgICAgIHswLDAsMCwxLDEsMSwxLDEsMCwwLDB9LA0KICAgICAgICAgICAgezAsMCwwLDAsMCwxLDAsMCwwLDAsMH0NCiAgICAgICAgfQ0KICAgIH0sDQogICAgQ1JPU1M2WDYgPSB7DQogICAgICAgIENFTlRFUiA9IHs3LDd9LA0KICAgICAgICBNQVAgPSB7DQogICAgICAgICAgICB7MCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMCwxLDEsMSwxLDEsMCwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMSwxLDEsMSwxLDEsMSwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDEsMSwxLDEsMSwxLDEsMSwxLDAsMH0sDQogICAgICAgICAgICB7MCwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMH0sDQogICAgICAgICAgICB7MCwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMH0sDQogICAgICAgICAgICB7MSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMX0sDQogICAgICAgICAgICB7MCwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMH0sDQogICAgICAgICAgICB7MCwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMH0sDQogICAgICAgICAgICB7MCwwLDEsMSwxLDEsMSwxLDEsMSwxLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMSwxLDEsMSwxLDEsMSwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMCwxLDEsMSwxLDEsMCwwLDAsMH0sDQogICAgICAgICAgICB7MCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMH0NCiAgICAgICAgfQ0KICAgIH0sDQogICAgU1FVQVJFMVgxID0gew0KICAgICAgICBDRU5URVIgPSB7MiwyfSwNCiAgICAgICAgTUFQID0gew0KICAgICAgICAgICAgezEsMSwxfSwNCiAgICAgICAgICAgIHsxLDEsMX0sDQogICAgICAgICAgICB7MSwxLDF9DQogICAgICAgIH0NCiAgICB9DQp9DQoNCi0tW1sgTG9jYWwgQ2FjaGVzIF1dDQpsb2NhbCB0YmxfY29udGFpbnMgPSB0YWJsZS5jb250YWlucw0KbG9jYWwgc2VsZlNwZWFrID0gc2VsZlNheQ0KbG9jYWwgc2VsZldlYXBvbiA9IGdldFdlYXBvblNsb3REYXRhDQpsb2NhbCBzZWxmUG9zID0gZ2V0U2VsZlBvc2l0aW9uDQpsb2NhbCBzZWxmTG9va0RpciA9IGdldFNlbGZMb29rRGlyZWN0aW9uDQpsb2NhbCBzZWxmVGFyZ2V0SUQgPSBnZXRTZWxmVGFyZ2V0SUQNCmxvY2FsIHNlbGZUdXJuID0gZG9TZWxmVHVybg0KbG9jYWwgc2VsZk1hbmEgPSBnZXRTZWxmTWFuYQ0KbG9jYWwgc2VsZk1heE1hbmEgPSBnZXRTZWxmTWF4TWFuYQ0KbG9jYWwgc2VsZlVzZVdpdGhDcmVhdHVyZSA9IHNlbGZVc2VJdGVtV2l0aENyZWF0dXJlDQpsb2NhbCBzZWxmVXNlV2l0aEdyb3VuZCA9IHNlbGZVc2VJdGVtV2l0aEdyb3VuZA0KbG9jYWwgZ2V0Q29vbGRvd24gPSBnZXRTZWxmU3BlbGxDb29sZG93bg0KbG9jYWwgZ2V0VGFyZ2V0cyA9IFNlbGYuR2V0VGFyZ2V0cw0KbG9jYWwgZ2V0SXRlbUNvdW50ID0gU2VsZi5JdGVtQ291bnQNCmxvY2FsIGNvX2NyZWF0ZSA9IGNvcm91dGluZS5jcmVhdGUNCmxvY2FsIGNvX3lpZWxkID0gY29yb3V0aW5lLnlpZWxkDQpsb2NhbCBjb19zdGF0dXMgPSBjb3JvdXRpbmUuc3RhdHVzDQpsb2NhbCBjb19yZXN1bWUgPSBjb3JvdXRpbmUucmVzdW1lDQpsb2NhbCBvc190aW1lID0gb3MudGltZQ0KbG9jYWwgb3NfZGlmZnRpbWUgPSBvcy5kaWZmdGltZQ0KbG9jYWwgd2Fsa2VyRGVsYXkgPSBkZWxheVdhbGtlcg0KbG9jYWwgdG9nZ2xlVGFyZ2V0aW5nID0gc2V0VGFyZ2V0aW5nRW5hYmxlZA0KbG9jYWwgbWF0aEZsb29yID0gbWF0aC5mbG9vcg0KbG9jYWwgZ2V0RGlzdGFuY2UgPSBnZXREaXN0YW5jZUJldHdlZW4NCg0KLS0gTWFrZSBzdXJlIHdlIHdpbGwgYmUgYWJsZSB0byBjYXN0IHRoaXMgc3BlbGwuDQpsb2NhbCBpc0F0dGFja1ZhbGlkID0gZnVuY3Rpb24oYXRrKQ0KICAgIGlmIChhdGsuZGlzYWJsZWQpIHRoZW4NCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgZW5kDQoNCiAgICBpZiAoYXRrLnZvYyBhbmQgbm90IHRibF9jb250YWlucyhhdGsudm9jLCBwbGF5ZXJWb2NhdGlvbikpIHRoZW4NCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgZW5kDQoNCiAgICAtLSBDaGVjayBjb25maWdzDQogICAgaWYgKGF0ay5jb25maWcpIHRoZW4NCiAgICAgICAgZm9yIGkgPSAxLCAjYXRrLmNvbmZpZyBkbw0KICAgICAgICAgICAgbG9jYWwgY29uZmlnTmFtZSA9IGF0ay5jb25maWdbaV0NCiAgICAgICAgICAgIGlmIChjb25maWdOYW1lKSB0aGVuDQogICAgICAgICAgICAgICAgLS0gUGxheWVyIHByZW1pdW0sDQogICAgICAgICAgICAgICAgaWYgKGNvbmZpZ05hbWUgPT0gJ1ByZW1pdW0nIGFuZCBfUGxheWVyLlByZW1pdW0gfj0gbmlsIGFuZCBfUGxheWVyLlByZW1pdW0gPT0gZmFsc2UpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgICAgICAgICAgLS0gQ29uZmlnIGV4aXN0cywgYnV0IGlzIHNldCB0byBmYWxzZSwgcmV0dXJuIGZhbHNlDQogICAgICAgICAgICAgICAgZWxzZWlmIChfU2hvb3Rlcltjb25maWdOYW1lXSB+PSBuaWwgYW5kIF9TaG9vdGVyW2NvbmZpZ05hbWVdID09IGZhbHNlKSB0aGVuDQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgLS0gQ2hlY2sgcnVuZXMgZW5hYmxlZA0KICAgIGlmIChhdGsucnVuZWlkIGFuZCBfU2hvb3Rlci5SdW5lcyB+PSBuaWwgYW5kIF9TaG9vdGVyLlJ1bmVzID09IGZhbHNlKSB0aGVuDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZA0KDQogICAgcmV0dXJuIHRydWUNCmVuZA0KDQotLSBDb21wbGV0ZWx5IHJlbW92ZSBhdHRhY2tzIHdlIHdpbGwgbm90IGJlIGFibGUgdG8gdXNlDQpsb2NhbCByZW1vdmVJbnZhbGlkQXR0YWNrcyA9IGZ1bmN0aW9uKCkNCiAgICBmb3IgaSxhdGsgaW4gcGFpcnMoYXR0YWNrKSBkbw0KICAgICAgICBpZiAobm90IGlzQXR0YWNrVmFsaWQoYXRrKSkgdGhlbg0KICAgICAgICAgICAgYXR0YWNrW2ldID0gbmlsDQogICAgICAgIGVsc2VpZihpID4gbWF4QXR0YWNrSW5kZXgpdGhlbg0KICAgICAgICAgICAgbWF4QXR0YWNrSW5kZXggPSBpDQogICAgICAgIGVuZA0KICAgIGVuZA0KZW5kDQoNCi0tIENhbGN1bGF0ZXMgZGltZW5zaW9ucyBmb3IgZXZlcnkgc3BlbGwgYXJlYSwgdGhpcyBvbmx5IGhhcHBlbnMgb24gaW5pdA0KbG9jYWwgdXBkYXRlQXJlYURpbWVuc2lvbnMgPSBmdW5jdGlvbigpDQogICAgZm9yIG5hbWUsYXJlYSBpbiBwYWlycyhzcGVsbEFyZWFzKSBkbw0KICAgICAgICBsb2NhbCBtYXAgPSBhcmVhLk1BUA0KICAgICAgICBsb2NhbCBoLCB3ID0gMCwgMA0KICAgICAgICBmb3IgeSA9IDEsICNtYXAgZG8NCiAgICAgICAgICAgIGlmIChtYXBbeV0pIHRoZW4NCiAgICAgICAgICAgICAgICBsb2NhbCBlbXB0eVJvdywgaGl0cyA9IHRydWUsIDANCiAgICAgICAgICAgICAgICBmb3IgeCA9IDEsICNtYXBbeV0gZG8NCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgaGl0ID0gbWFwW3hdW3ldDQogICAgICAgICAgICAgICAgICAgIGlmIChoaXQgPiAwKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBlbXB0eVJvdyA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgICAgICBoaXRzID0gKGhpdHMgKyAxKQ0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBpZiAoaGl0cyA+IHcpIHRoZW4gdyA9IGhpdHMgZW5kDQogICAgICAgICAgICAgICAgaWYgbm90IChlbXB0eVJvdykgdGhlbiBoID0gKGggKyAxKSBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgc3BlbGxBcmVhc1tuYW1lXS5ESU0gPSB7aCwgd30NCiAgICBlbmQNCmVuZA0KDQotLSBNZXJnZSB0aGUgcnVuZSBjb25maWcgdmFsdWVzIHdpdGggdGhlIHNob290ZXIgY29uZmlnLg0KbG9jYWwgc2V0UnVuZUNvbmZpZ1ZhbHVlcyA9IGZ1bmN0aW9uKCkNCiAgICBpZihfUnVuZSl0aGVuDQogICAgICAgIGZvciBpLGF0ayBpbiBwYWlycyhhdHRhY2spIGRvDQogICAgICAgICAgICBpZiAoYXRrLnJ1bmVpZCBhbmQgdHlwZShhdGsucnVuZWlkKSA9PSAnc3RyaW5nJyBhbmQgX1J1bmVbYXRrLnJ1bmVpZCAuLiAnSUQnXSkgdGhlbg0KICAgICAgICAgICAgICAgIGxvY2FsIHJ1bmVTdGF0dXMgPSBfUnVuZVthdGsucnVuZWlkIC4uICdFbmFibGVkJ10NCiAgICAgICAgICAgICAgICBsb2NhbCBydW5lVHlwZSA9IF9SdW5lW2F0ay5ydW5laWQgLi4gJ1R5cGUnXQ0KICAgICAgICAgICAgICAgIC0tIERvIG5vdCB1c2UgcnVuZSBpZiBpdCBleHBsaWNpdHkgc2V0IHRvIGRpc2FibGUsIG9yIGlmIGl0J3Mgb25seSBmb3Igc3R1Y2sgdXNlLg0KICAgICAgICAgICAgICAgIGlmIChydW5lU3RhdHVzIH49IG5pbCBhbmQgcnVuZVN0YXR1cyA9PSBmYWxzZSkgb3IgKHJ1bmVUeXBlIGFuZCBydW5lVHlwZSA9PSAnc3R1Y2snKSB0aGVuDQogICAgICAgICAgICAgICAgICAgIGF0dGFja1tpXS5kaXNhYmxlZCA9IHRydWUNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBhdHRhY2tbaV0ucnVuZWlkID0gX1J1bmVbYXRrLnJ1bmVpZCAuLiAnSUQnXQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KZW5kDQoNCi0tIERldGVjdCBiZXR3ZWVuIGRydWlkIG9yIHNvcmNlcmVyLg0KbG9jYWwgZ2V0UGxheWVyVm9jYXRpb24gPSBmdW5jdGlvbigpDQogICAgbG9jYWwgcm9kcyA9IHszMDY1LDMwNjYsMzA2NywzMDY5LDMwNzAsODA4Miw4MDgzLDgwODQsMTYxMTcsMTYxMTh9DQogICAgbG9jYWwgd2FuZHMgPSB7MzA3MSwzMDcyLDMwNzMsMzA3NCwzMDc1LDgwOTIsODA5Myw4MDk0LDEyNjAzLDE2MDk2LDE2MTE1fQ0KICAgIGxvY2FsIHBsYXllcldlYXBvbiA9IHNlbGZXZWFwb24oKS5pZA0KICAgIGxvY2FsIHZvY2F0aW9uID0gJycNCiAgICBpZiAodGJsX2NvbnRhaW5zKHJvZHMsIHBsYXllcldlYXBvbikpIHRoZW4NCiAgICAgICAgdm9jYXRpb24gPSAnZHJ1aWQnDQogICAgICAgIHByaW50KCdEcnVpZCB2b2NhdGlvbiBkZXRlY3RlZC4nKQ0KICAgIGVsc2VpZiAodGJsX2NvbnRhaW5zKHdhbmRzLCBwbGF5ZXJXZWFwb24pKSB0aGVuDQogICAgICAgIHZvY2F0aW9uID0gJ3NvcmNlcmVyJw0KICAgICAgICBwcmludCgnU29yY2VyZXIgdm9jYXRpb24gZGV0ZWN0ZWQuJykNCiAgICBlbHNlDQogICAgICAgIC0tIFRPRE86IGFkZCBrbmlnaHQvcGFsYWRpbiBkZXRlY3Rpb24NCiAgICAgICAgcHJpbnQoJ1dBUk5JTkc6IE1hZ2VzIG11c3QgaGF2ZSBhIHdhbmQvcm9kIGVxdWlwcGVkLiBLTklHSFRTICYgUEFMQURJTlMgSUdOT1JFIFRISVMhJykNCiAgICBlbmQNCiAgICByZXR1cm4gdm9jYXRpb24NCmVuZA0KDQotLSBDaGVjayBpZiB3ZSd2ZSB0dXJuZWQgaW4gdGhlIHJpZ2h0IGRpcmVjaXRvbi4NCmxvY2FsIGNoZWNrVHVybiA9IGZ1bmN0aW9uKHRpbWVMaW1pdCkNCiAgICB3aGlsZSAob3NfdGltZSgpIDwgdGltZUxpbWl0KWRvDQogICAgICAgIGlmIChzZWxmTG9va0RpcigpID09IGdsb2JhbFR1cm4pIHRoZW4NCiAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIGVuZA0KICAgICAgICBzZWxmVHVybihnbG9iYWxUdXJuKQ0KICAgICAgICBzbGVlcCgxKQ0KICAgIGVuZA0KICAgIHJldHVybiBmYWxzZQ0KZW5kDQoNCi0tIFNob290cyBlaXRoZXIgYSBncm91bmQgb3IgdGFyZ2V0IHJ1bmUNCmxvY2FsIHNob290UnVuZSA9IGZ1bmN0aW9uKHJ1bmVpZCwgeCwgeSwgeiwgdGFyZ2V0T25seSkNCiAgICBpZiAodGFyZ2V0T25seSkgdGhlbg0KICAgICAgICBzZWxmVXNlV2l0aENyZWF0dXJlKHJ1bmVpZCwgc2VsZlRhcmdldElEKCkpDQogICAgZWxzZQ0KICAgICAgICAtLWNvbnRhaW5lck1vdmVJdGVtVG9Hcm91bmQoMCwgMCwgeCwgeSwgeiwgMSkNCiAgICAgICAgc2VsZlVzZVdpdGhHcm91bmQocnVuZWlkLCB4LCB5LCB6KQ0KICAgIGVuZA0KICAgIHJldHVybiB0cnVlDQplbmQNCg0KLS0gQ2FzdHMgYSBzcGVsbCBhbmQgaXQncyBzdXBwb3J0IGlmIGFueSwgdHVybnMgaWYgbmVlZCBiZQ0KbG9jYWwgY2FzdFNwZWxsID0gZnVuY3Rpb24oYXRrKQ0KICAgIGxvY2FsIHR1cm5lZCA9IGZhbHNlDQogICAgaWYgKGF0ay50dXJuIGFuZCBnbG9iYWxUdXJuKSB0aGVuDQogICAgICAgIHdhbGtlckRlbGF5KDcwMCkNCiAgICAgICAgdG9nZ2xlVGFyZ2V0aW5nKGZhbHNlKQ0KICAgICAgICBzZWxmVHVybihnbG9iYWxUdXJuKQ0KICAgICAgICB0dXJuZWQgPSBjaGVja1R1cm4ob3NfdGltZSgpICsgMSkNCiAgICAgICAgdG9nZ2xlVGFyZ2V0aW5nKHRydWUpDQogICAgICAgIGdsb2JhbFR1cm4gPSBuaWwNCiAgICBlbmQNCiAgICBpZiAoYXRrLnN1cHBvcnQgYW5kIHN1cHBvcnRbYXRrLnN1cHBvcnRdKSB0aGVuDQogICAgICAgIGlmIChvc19kaWZmdGltZShvc190aW1lKCksIHN1cHBvcnRbYXRrLnN1cHBvcnRdLmxhc3QpID4gc3VwcG9ydFthdGsuc3VwcG9ydF0ud2FpdCkgdGhlbg0KICAgICAgICAgICAgaWYgKGlzQXR0YWNrVmFsaWQoc3VwcG9ydFthdGsuc3VwcG9ydF0pKSB0aGVuDQogICAgICAgICAgICAgICAgc3VwcG9ydFthdGsuc3VwcG9ydF0ubGFzdCA9IG9zX3RpbWUoKQ0KICAgICAgICAgICAgICAgIGNhc3RTdXBwb3J0KHN1cHBvcnRbYXRrLnN1cHBvcnRdKQ0KICAgICAgICAgICAgICAgIHNsZWVwKDEwMCkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICBpZiAobm90IGF0ay50dXJuIG9yIG5vdCBnbG9iYWxUdXJuIG9yIHR1cm5lZCkgdGhlbg0KICAgICAgICBzZWxmU3BlYWsoYXRrLndvcmRzKQ0KICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgIGVuZA0KICAgIHJldHVybiBmYWxzZQ0KZW5kDQpjYXN0U3VwcG9ydCA9IGNhc3RTcGVsbA0KDQotLSBHZXQgY2VudGVyIHBvc2l0aW9uIG9mIGFsbCBwb3NpdGlvbnMgcGFzc2VkDQpsb2NhbCBnZXRUYXJnZXRDZW50ZXIgPSBmdW5jdGlvbihtYXRjaGVzKQ0KICAgIGxvY2FsIG1hdGNoQ291bnQgPSAjbWF0Y2hlcw0KICAgIGxvY2FsIHhTdW0sIHlTdW0gPSAwLCAwDQogICAgZm9yIGkgPSAxLCBtYXRjaENvdW50IGRvDQogICAgICAgIGxvY2FsIHBvcyA9IG1hdGNoZXNbaV0NCiAgICAgICAgeFN1bSA9ICh4U3VtICsgcG9zLngpDQogICAgICAgIHlTdW0gPSAoeVN1bSArIHBvcy55KQ0KICAgIGVuZA0KICAgIHJldHVybiB7eCA9IG1hdGhGbG9vcih4U3VtL21hdGNoQ291bnQpLCB5ID0gbWF0aEZsb29yKHlTdW0vbWF0Y2hDb3VudCksIHogPSBzZWxmUG9zKCkuen0NCmVuZA0KDQpsb2NhbCBnZXRVbnZlcmlmaWVkTWF0Y2hQb3NpdGlvbnMgPSBmdW5jdGlvbihxdWVyeVBvcywgYXRrLCB0YXJnZXRzLCBhcmVhRGltZW5zaW9uKQ0KICAgIGxvY2FsIG1hdGNoZXMgPSB7fQ0KICAgIGZvciBpID0gMSwgI3RhcmdldHMgZG8NCiAgICAgICAgbG9jYWwgbmVpZ2hib3IgPSB0YXJnZXRzW2ldDQogICAgICAgIGxvY2FsIHZhbGlkVGFyZ2V0ID0gZmFsc2UNCg0KICAgICAgICAtLSBDaGVjayBjcmVhdHVyZSBuYW1lIGFuZCBocCByYW5nZSBpZiB0aGVyZSBpcyBhIHRhcmdldExpc3QNCiAgICAgICAgaWYgKGF0ay50YXJnZXRMaXN0KSB0aGVuDQogICAgICAgICAgICBsb2NhbCBjcmVhdHVyZSA9IGF0ay50YXJnZXRMaXN0W25laWdoYm9yOk5hbWUoKTpsb3dlcigpXQ0KICAgICAgICAgICAgaWYgKGNyZWF0dXJlKSB0aGVuDQogICAgICAgICAgICAgICAgbG9jYWwgaGVhbHRoID0gbmVpZ2hib3I6SGVhbHRoUGVyY2VudCgpDQogICAgICAgICAgICAgICAgaWYgKChoZWFsdGggPj0gY3JlYXR1cmVbMV0pIGFuZCAoaGVhbHRoIDw9IGNyZWF0dXJlWzJdKSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICB2YWxpZFRhcmdldCA9IHRydWUNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICAtLWVsc2VpZiAobm90IGdsb2JhbElnbm9yZUxpc3RbbmVpZ2hib3I6TmFtZSgpOmxvd2VyKCldKSB0aGVuDQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIHZhbGlkVGFyZ2V0ID0gdHJ1ZQ0KICAgICAgICBlbmQNCg0KICAgICAgICBsb2NhbCBuUG9zID0gbmVpZ2hib3I6UG9zaXRpb24oKQ0KICAgICAgICBpZiAodmFsaWRUYXJnZXQgYW5kIChtYXRoLmFicyhxdWVyeVBvcy54IC0gblBvcy54KSA8PSBhcmVhRGltZW5zaW9uWzJdKSBhbmQgKG1hdGguYWJzKHF1ZXJ5UG9zLnkgLSBuUG9zLnkpIDw9IGFyZWFEaW1lbnNpb25bMV0pKSB0aGVuDQogICAgICAgICAgICBtYXRjaGVzWyNtYXRjaGVzKzFdID0gblBvcw0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICByZXR1cm4gbWF0Y2hlcw0KZW5kDQoNCmxvY2FsIGdldFZlcmlmaWVkTWF0Y2hEYXRhID0gZnVuY3Rpb24oYXRrLCBtYXRjaGVzLCBhcmVhKQ0KICAgIGxvY2FsIGNlbnRlclBvcyA9IGF0ay5ydW5laWQgYW5kIGdldFRhcmdldENlbnRlcihtYXRjaGVzKSBvciBzZWxmUG9zKCkNCiAgICBsb2NhbCB4Q2VudGVyLCB5Q2VudGVyID0gYXJlYS5DRU5URVJbMV0sIGFyZWEuQ0VOVEVSWzJdDQogICAgbG9jYWwgbWF0Y2hEYXRhID0ge3Bvc2l0aW9ucz17fSwgY2VudGVyPXt9fQ0KICAgIGxvY2FsIHBsYXllckRpciA9IHNlbGZMb29rRGlyKCkNCiAgICBsb2NhbCBhcmVhRGlyZWN0aW9uID0ge2ZhbHNlLCBwbGF5ZXJEaXIsIE5PUlRILCBXRVNULCBFQVNULCBTT1VUSCwge05PUlRILEVBU1R9LCB7U09VVEgsRUFTVH0sIHtTT1VUSCxXRVNUfSwge05PUlRILFdFU1R9fQ0KICAgIGxvY2FsIG1hdGNoZWREaXJlY3Rpb25zID0ge30NCiAgICBmb3IgaSA9IDEsICNtYXRjaGVzIGRvDQogICAgICAgIGxvY2FsIHBvcyA9IG1hdGNoZXNbaV0NCiAgICAgICAgbG9jYWwgYXJlYVkgPSBhcmVhLk1BUFt5Q2VudGVyIC0gKGNlbnRlclBvcy55IC0gcG9zLnkpXQ0KICAgICAgICBpZiAoYXJlYVkpIHRoZW4NCiAgICAgICAgICAgIGxvY2FsIHRlbXBBcmVhID0gYXJlYVlbeENlbnRlciAtIChjZW50ZXJQb3MueCAtIHBvcy54KV0NCiAgICAgICAgICAgIGlmICh0ZW1wQXJlYSkgdGhlbg0KICAgICAgICAgICAgICAgIGxvY2FsIHRlbXBEaXIgPSBhcmVhRGlyZWN0aW9uW3RlbXBBcmVhKzFdDQogICAgICAgICAgICAgICAgaWYgKHRlbXBEaXIpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdGVtcERpcjIgPSBuaWwNCiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUodGVtcERpcikgPT0gJ3RhYmxlJykgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgdGVtcERpcjIgPSB0ZW1wRGlyWzJdDQogICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRGlyID0gdGVtcERpclsxXQ0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdCBtYXRjaGVkRGlyZWN0aW9uc1t0ZW1wRGlyXSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZERpcmVjdGlvbnNbdGVtcERpcl0gPSB7fQ0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZERpcmVjdGlvbnNbdGVtcERpcl1bI21hdGNoZWREaXJlY3Rpb25zW3RlbXBEaXJdKzFdID0gcG9zDQogICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wRGlyMiB+PSBuaWwpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3QgbWF0Y2hlZERpcmVjdGlvbnNbdGVtcERpcjJdKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZERpcmVjdGlvbnNbdGVtcERpcjJdID0ge30NCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZERpcmVjdGlvbnNbdGVtcERpcjJdWyNtYXRjaGVkRGlyZWN0aW9uc1t0ZW1wRGlyMl0rMV0gPSBwb3MNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgbG9jYWwgdHVybkRpcmVjdGlvbiA9IHBsYXllckRpcg0KICAgIGlmIChhdGsudHVybikgdGhlbg0KICAgICAgICBmb3IgaywgdiBpbiBwYWlycyhtYXRjaGVkRGlyZWN0aW9ucykgZG8NCiAgICAgICAgICAgIGlmICh2IGFuZCAjdiA+ICNtYXRjaERhdGEucG9zaXRpb25zKSB0aGVuDQogICAgICAgICAgICAgICAgbWF0Y2hEYXRhLnBvc2l0aW9ucyA9IHYNCiAgICAgICAgICAgICAgICB0dXJuRGlyZWN0aW9uID0gaw0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVsc2UNCiAgICAgICAgbWF0Y2hEYXRhLnBvc2l0aW9ucyA9IG1hdGNoZWREaXJlY3Rpb25zW3BsYXllckRpcl0NCiAgICBlbmQNCiAgICBpZiAobWF0Y2hEYXRhLnBvc2l0aW9ucyBhbmQgI21hdGNoRGF0YS5wb3NpdGlvbnMgPiAwKSB0aGVuDQogICAgICAgIGlmIChhdGsudHVybiBhbmQgdHVybkRpcmVjdGlvbiB+PSBwbGF5ZXJEaXIpIHRoZW4NCiAgICAgICAgICAgIGdsb2JhbFR1cm4gPSB0dXJuRGlyZWN0aW9uDQogICAgICAgIGVuZA0KICAgICAgICBtYXRjaERhdGEuY2VudGVyID0gZ2V0VGFyZ2V0Q2VudGVyKG1hdGNoRGF0YS5wb3NpdGlvbnMpDQogICAgZW5kDQogICAgcmV0dXJuIG1hdGNoRGF0YQ0KZW5kDQoNCmxvY2FsIGdldFNob290UG9zaXRpb24gPSBmdW5jdGlvbih0YXJnZXRzLCBhdGspDQogICAgaWYgKG5vdCBzcGVsbEFyZWFzW2F0ay5hcmVhXSkgdGhlbg0KICAgICAgICByZXR1cm4NCiAgICBlbmQNCiAgICBsb2NhbCBhcmVhRGltZW5zaW9uID0gc3BlbGxBcmVhc1thdGsuYXJlYV0uRElNDQogICAgbG9jYWwgY2hvc2VuTWF0Y2hlcyA9IHt9DQogICAgbG9jYWwgc2hvb3RQb3MgPSB7fQ0KICAgIGZvciBpID0gMSwgI3RhcmdldHMgZG8NCiAgICAgICAgbG9jYWwgbWF0Y2hlcyA9IGdldFVudmVyaWZpZWRNYXRjaFBvc2l0aW9ucyh0YXJnZXRzW2ldOlBvc2l0aW9uKCksIGF0aywgdGFyZ2V0cywgYXJlYURpbWVuc2lvbikNCiAgICAgICAgLS0gQ29udGludWUgaWYgdGhlIHVudmVyaWZpZWQgdG90YWwgaXMgbW9yZSB0aGFuIHRoZSBsYXN0IHZlcmlmaWVkIHRvdGFsDQogICAgICAgIGlmICgjbWF0Y2hlcyA+ICNjaG9zZW5NYXRjaGVzKSB0aGVuDQogICAgICAgICAgICBsb2NhbCBtYXRjaERhdGEgPSBnZXRWZXJpZmllZE1hdGNoRGF0YShhdGssIG1hdGNoZXMsIHNwZWxsQXJlYXNbYXRrLmFyZWFdKQ0KICAgICAgICAgICAgLS1wcmludCgjbWF0Y2hEYXRhLnBvc2l0aW9ucykNCiAgICAgICAgICAgIGlmIChtYXRjaERhdGEuY2VudGVyLnggYW5kIG1hdGNoRGF0YS5wb3NpdGlvbnMgYW5kICNtYXRjaERhdGEucG9zaXRpb25zID4gMCkgdGhlbg0KICAgICAgICAgICAgICAgIGxvY2FsIG1hdGNoQ291bnQgPSAjbWF0Y2hEYXRhLnBvc2l0aW9ucw0KICAgICAgICAgICAgICAgIC0tIFRhcmdldCBjb3VudCBpcyBpbiByYW5nZQ0KICAgICAgICAgICAgICAgIGlmICgobm90IGF0ay5jb3VudE1pbiBvciBtYXRjaENvdW50ID49IGF0ay5jb3VudE1pbikgYW5kIChub3QgYXRrLmNvdW50TWF4IG9yIG1hdGNoQ291bnQgPD0gYXRrLmNvdW50TWF4KSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAtLSBDZW50ZXIgcG9zIGlzIGluIHJhbmdlDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGRpc3RhbmNlID0gZ2V0RGlzdGFuY2Uoc2VsZlBvcygpLCB7eD1tYXRjaERhdGEuY2VudGVyLngseT1tYXRjaERhdGEuY2VudGVyLnksej1tYXRjaERhdGEuY2VudGVyLnp9KQ0KICAgICAgICAgICAgICAgICAgICBpZiAoKG5vdCBhdGsucmFuZ2VNaW4gb3IgZGlzdGFuY2UgPj0gYXRrLnJhbmdlTWluKSBhbmQgKG5vdCBhdGsucmFuZ2VNYXggb3IgZGlzdGFuY2UgPD0gYXRrLnJhbmdlTWF4KSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgLS0gQ29tcGFyZSBsYXN0IHZlcmlmaWVkIHRvIG5ldyB2ZXJpZmllZCB0b3RhbA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoQ291bnQgPiAjY2hvc2VuTWF0Y2hlcykgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob3Nlbk1hdGNoZXMgPSBtYXRjaERhdGEucG9zaXRpb25zDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvb3RQb3MgPSBtYXRjaERhdGEuY2VudGVyDQogICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgLS0gQ2FuY2VsIGlmIHdlIHdlcmUgdW5hYmxlIHRvIGZpbmQgZW5vdWdoIG1hdGNoZXMNCiAgICBpZiAoI2Nob3Nlbk1hdGNoZXMgPT0gMCBvciAoYXRrLmNvdW50TWluIGFuZCAjY2hvc2VuTWF0Y2hlcyA8IGF0ay5jb3VudE1pbikpIHRoZW4NCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgZW5kDQogICAgcmV0dXJuIHNob290UG9zDQplbmQNCg0KbG9jYWwgY2hlY2tSdW5lID0gZnVuY3Rpb24odGFyZ2V0cywgYXRrKQ0KICAgIC0tIENoZWNrIGV4aGF1c3QNCiAgICAtLWlmIChnZXRDb29sZG93bignZXhvcmkgZnJpZ28nKSB+PSAwKSB0aGVuDQogICAgLS0gICAgcmV0dXJuIGZhbHNlDQogICAgLS1lbmQNCg0KICAgIC0tIE1hbmEgQ2hlY2ssIGlmIGFueQ0KICAgIGlmIChhdGsubWFuYSkgdGhlbg0KICAgICAgICBsb2NhbCBwbGF5ZXJNYW5hID0gc2VsZk1hbmEoKQ0KICAgICAgICBsb2NhbCBtYW5hTGltaXQgPSBhdGsubWFuYQ0KICAgICAgICBpZiAodHlwZShhdGsubWFuYSkgPT0gJ3N0cmluZycpIHRoZW4NCiAgICAgICAgICAgIG1hbmFMaW1pdCA9IHRvbnVtYmVyKHN0cjpzdWIoMSwgc3RyOmxlbigpLTEpKQ0KICAgICAgICBlbHNlDQogICAgICAgICAgICBwbGF5ZXJNYW5hID0gKHNlbGZNYW5hKCkgLyBzZWxmTWF4TWFuYSgpKSAqIDEwMA0KICAgICAgICBlbmQNCiAgICAgICAgbG9jYWwgbWFuYVJhbmRvbSA9IGF0ay5tYW5hcmFuZG9tIG9yIDUNCiAgICAgICAgbG9jYWwgbWFuYUxpbWl0ID0gKG1hbmFMaW1pdCArIG1hdGgucmFuZG9tKChtYW5hUmFuZG9tICogLTEpLCBtYW5hUmFuZG9tKSkNCiAgICAgICAgaWYgKHBsYXllck1hbmEgPCBtYW5hTGltaXQpIHRoZW4NCiAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIC0tIEhhbmRsZSBydW5lcyB3aXRob3V0IGFyZWFzIChuZWVkIHRhcmdldCkNCiAgICBpZiAobm90IGF0ay5hcmVhKSB0aGVuDQogICAgICAgIGxvY2FsIHRhcmdldElkID0gc2VsZlRhcmdldElEKCkNCiAgICAgICAgbG9jYWwgdGFyZ2V0ID0gQ3JlYXR1cmUuTmV3KHRhcmdldElkKQ0KICAgICAgICAtLSBXZSBoYXZlIGEgdmFsaWQgdGFyZ2V0DQogICAgICAgIGlmICh0YXJnZXRJZCA+IDAgYW5kIHRhcmdldDppc1ZhbGlkKCkpIHRoZW4NCiAgICAgICAgICAgIC0tIFRhcmdldCdzIGluIGRpc3RhbmNlIGFyZSBpbiBjb3VudCByYW5nZQ0KICAgICAgICAgICAgLS0gVE9ETzogcmV1c2UgdGFyZ2V0cyB3ZSBhbHJlYWR5IGhhdmUNCiAgICAgICAgICAgIGxvY2FsIHRhcmdldENvdW50ID0gI2dldFRhcmdldHMoYXRrLmNvdW50UmFuZ2Ugb3IgYXRrLnJhbmdlTWF4IG9yIDcpDQogICAgICAgICAgICBpZiAoKG5vdCBhdGsuY291bnRNaW4gb3IgdGFyZ2V0Q291bnQgPj0gYXRrLmNvdW50TWluKSBhbmQgKG5vdCBhdGsuY291bnRNYXggb3IgdGFyZ2V0Q291bnQgPD0gYXRrLmNvdW50TWF4KSkgdGhlbg0KICAgICAgICAgICAgICAgIC0tIFRhcmdldCBpcyBpbiByYW5nZQ0KICAgICAgICAgICAgICAgIGxvY2FsIGRpc3RhbmNlID0gZ2V0RGlzdGFuY2Uoc2VsZlBvcygpLCB0YXJnZXQ6UG9zaXRpb24oKSkNCiAgICAgICAgICAgICAgICBpZiAoKG5vdCBhdGsucmFuZ2VNaW4gb3IgZGlzdGFuY2UgPj0gYXRrLnJhbmdlTWluKSBhbmQgKG5vdCBhdGsucmFuZ2VNYXggb3IgZGlzdGFuY2UgPD0gYXRrLnJhbmdlTWF4KSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YWxpZFRhcmdldCA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIC0tIENoZWNrIGNyZWF0dXJlIG5hbWUgYW5kIGhwIHJhbmdlIGlmIHRoZXJlIGlzIGEgdGFyZ2V0TGlzdA0KICAgICAgICAgICAgICAgICAgICBpZiAoYXRrLnRhcmdldExpc3QpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGNyZWF0dXJlID0gYXRrLnRhcmdldExpc3RbdGFyZ2V0Ok5hbWUoKTpsb3dlcigpXQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0dXJlKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgaGVhbHRoID0gdGFyZ2V0OkhlYWx0aFBlcmNlbnQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaGVhbHRoID49IGNyZWF0dXJlWzFdKSBhbmQgKGhlYWx0aCA8PSBjcmVhdHVyZVsyXSkpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRUYXJnZXQgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIChub3QgZ2xvYmFsSWdub3JlTGlzdFt0YXJnZXQ6TmFtZSgpOmxvd2VyKCldKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICB2YWxpZFRhcmdldCA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZFRhcmdldCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob290UnVuZShhdGsucnVuZWlkLCAwLCAwLCAwLCB0cnVlKQ0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgZW5kDQoNCiAgICBsb2NhbCBzaG9vdFBvcyA9IGdldFNob290UG9zaXRpb24odGFyZ2V0cywgYXRrKQ0KDQogICAgaWYgKHNob290UG9zKSB0aGVuDQogICAgICAgIHJldHVybiBzaG9vdFJ1bmUoYXRrLnJ1bmVpZCwgc2hvb3RQb3MueCwgc2hvb3RQb3MueSwgc2hvb3RQb3MueikNCiAgICBlbmQNCg0KICAgIHJldHVybiBmYWxzZQ0KZW5kDQoNCmxvY2FsIGNoZWNrU3BlbGwgPSBmdW5jdGlvbih0YXJnZXRzLCBhdGspDQogICAgaWYgKGdldENvb2xkb3duKGF0ay53b3Jkcykgfj0gMCkgdGhlbg0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICBlbmQNCg0KICAgIC0tIE1hbmEgQ2hlY2ssIGlmIGFueQ0KICAgIGlmIChhdGsubWFuYSkgdGhlbg0KICAgICAgICBsb2NhbCBwbGF5ZXJNYW5hID0gc2VsZk1hbmEoKQ0KICAgICAgICBsb2NhbCBtYW5hTGltaXQgPSBhdGsubWFuYQ0KICAgICAgICBpZiAodHlwZShhdGsubWFuYSkgPT0gJ3N0cmluZycpIHRoZW4NCiAgICAgICAgICAgIG1hbmFMaW1pdCA9IHRvbnVtYmVyKHN0cjpzdWIoMSwgc3RyOmxlbigpLTEpKQ0KICAgICAgICAgICAgcGxheWVyTWFuYSA9IChzZWxmTWFuYSgpIC8gc2VsZk1heE1hbmEoKSkgKiAxMDANCiAgICAgICAgZW5kDQogICAgICAgIGxvY2FsIG1hbmFSYW5kb20gPSBhdGsubWFuYXJhbmRvbSBvciA1DQogICAgICAgIGxvY2FsIG1hbmFMaW1pdCA9IChtYW5hTGltaXQgKyBtYXRoLnJhbmRvbSgobWFuYVJhbmRvbSAqIC0xKSwgbWFuYVJhbmRvbSkpDQogICAgICAgIGlmIChwbGF5ZXJNYW5hIDwgbWFuYUxpbWl0KSB0aGVuDQogICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgZW5kDQogICAgZW5kDQoNCiAgICAtLSBIYW5kbGUgc3BlbGxzIHdpdGhvdXQgYXJlYXMgKG5lZWQgdGFyZ2V0KQ0KICAgIGlmIChub3QgYXRrLmFyZWEpIHRoZW4NCiAgICAgICAgbG9jYWwgdGFyZ2V0SWQgPSBzZWxmVGFyZ2V0SUQoKQ0KICAgICAgICBsb2NhbCB0YXJnZXQgPSBDcmVhdHVyZS5OZXcodGFyZ2V0SWQpDQogICAgICAgIC0tIFdlIGhhdmUgYSB2YWxpZCB0YXJnZXQNCiAgICAgICAgaWYgKHRhcmdldElkID4gMCBhbmQgdGFyZ2V0OmlzVmFsaWQoKSkgdGhlbg0KICAgICAgICAgICAgLS0gVGFyZ2V0J3MgaW4gZGlzdGFuY2UgYXJlIGluIGNvdW50IHJhbmdlDQogICAgICAgICAgICBsb2NhbCB0YXJnZXRDb3VudCA9ICNnZXRUYXJnZXRzKGF0ay5jb3VudFJhbmdlIG9yIGF0ay5yYW5nZU1heCBvciA3KQ0KICAgICAgICAgICAgaWYgKChub3QgYXRrLmNvdW50TWluIG9yIHRhcmdldENvdW50ID49IGF0ay5jb3VudE1pbikgYW5kIChub3QgYXRrLmNvdW50TWF4IG9yIHRhcmdldENvdW50IDw9IGF0ay5jb3VudE1heCkpIHRoZW4NCiAgICAgICAgICAgICAgICAtLSBUYXJnZXQgaXMgaW4gcmFuZ2UNCiAgICAgICAgICAgICAgICBsb2NhbCBkaXN0YW5jZSA9IGdldERpc3RhbmNlKHNlbGZQb3MoKSwgdGFyZ2V0OlBvc2l0aW9uKCkpDQogICAgICAgICAgICAgICAgaWYgKChub3QgYXRrLnJhbmdlTWluIG9yIGRpc3RhbmNlID49IGF0ay5yYW5nZU1pbikgYW5kIChub3QgYXRrLnJhbmdlTWF4IG9yIGRpc3RhbmNlIDw9IGF0ay5yYW5nZU1heCkpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdmFsaWRUYXJnZXQgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICAtLSBDaGVjayBjcmVhdHVyZSBuYW1lIGFuZCBocCByYW5nZSBpZiB0aGVyZSBpcyBhIHRhcmdldExpc3QNCiAgICAgICAgICAgICAgICAgICAgaWYgKGF0ay50YXJnZXRMaXN0KSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBjcmVhdHVyZSA9IGF0ay50YXJnZXRMaXN0W3RhcmdldDpOYW1lKCk6bG93ZXIoKV0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdHVyZSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGhlYWx0aCA9IHRhcmdldDpIZWFsdGhQZXJjZW50KCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGhlYWx0aCA+PSBjcmVhdHVyZVsxXSkgYW5kIChoZWFsdGggPD0gY3JlYXR1cmVbMl0pKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkVGFyZ2V0ID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkVGFyZ2V0ID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkVGFyZ2V0KSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FzdFNwZWxsKGF0aykNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgIGVuZA0KDQogICAgbG9jYWwgc2hvb3RQb3MgPSBnZXRTaG9vdFBvc2l0aW9uKHRhcmdldHMsIGF0aykNCiAgICBpZiAoc2hvb3RQb3MpIHRoZW4NCiAgICAgICAgcmV0dXJuIGNhc3RTcGVsbChhdGspDQogICAgZW5kDQoNCiAgICByZXR1cm4gZmFsc2UNCmVuZA0KDQotLSBNYWluIGZ1bmN0aW9uLCBoYW5kbGVzIGF0dGFjayBjaGVja2luZw0KbG9jYWwgZXhlY3V0ZUF0dGFjayA9IGZ1bmN0aW9uKGkpDQogICAgd2hpbGUgKHRydWUpIGRvDQogICAgICAgIC0tIFJlc2V0IGF0dGFjayB3aGVuIHBhc3QgdGhlIGVuZA0KICAgICAgICBpZiAoaSA+IG1heEF0dGFja0luZGV4KSB0aGVuIGkgPSAxIGVuZA0KICAgICAgICAtLSBSZXBlYXQgdW50aWwgd2UgZmluZCBhIHZhbGlkIGF0dGFjaw0KICAgICAgICB3aGlsZSAoYXR0YWNrW2ldID09IG5pbCBhbmQgaSA8IG1heEF0dGFja0luZGV4KSBkbw0KICAgICAgICAgICAgaSA9IGkgKyAxDQogICAgICAgIGVuZA0KDQogICAgICAgIGxvY2FsIHJlc2V0ID0gZmFsc2UNCiAgICAgICAgbG9jYWwgdGFyZ2V0cyA9IGdldFRhcmdldHMoNykNCiAgICAgICAgaWYgKHRhcmdldHMgYW5kICN0YXJnZXRzID4gMCkgdGhlbg0KICAgICAgICAgICAgbG9jYWwgYXRrID0gYXR0YWNrW2ldDQogICAgICAgICAgICBpZihhdGspdGhlbg0KICAgICAgICAgICAgICAgIGlmIChub3QgYXRrLnJ1bmVpZCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tTcGVsbCh0YXJnZXRzLCBhdGspKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICByZXNldCA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZWxzZWlmIChnZXRJdGVtQ291bnQoYXRrLnJ1bmVpZCkgPiAwKSB0aGVuDQogICAgICAgICAgICAgICAgICAgIGlmIChjaGVja1J1bmUodGFyZ2V0cywgYXRrKSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXQgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KDQogICAgICAgIC0tIEtlZXAgaW4gdGhlIGZ1bmN0aW9uIGlmIHRoZSBhdHRhY2sgZGlkbid0IHdvcmsNCiAgICAgICAgaWYgKHJlc2V0KSB0aGVuDQogICAgICAgICAgICBpID0gMQ0KICAgICAgICAtLSBPdGhlcndpc2UgcmV0dXJuIHRvIGdsb2JhbCBjaGVja2luZw0KICAgICAgICBlbHNlDQogICAgICAgICAgICBpID0gdG9udW1iZXIoY29feWllbGQoaSArIDEpKSBvciAxDQogICAgICAgIGVuZA0KICAgIGVuZA0KZW5kDQoNCg0KLS1bWyBDb25maWcgTG9hZGluZyBdXQ0KX18gPSB0cnVlDQpsb2NhbCBjb25maWdDb21wb25lbnRzID0gWEJTVDpzcGxpdCgnXScpDQppZiAoY29uZmlnQ29tcG9uZW50c1syXSkgdGhlbg0KICAgIGxvY2FsIGV4dF9jb25maWcgPSBsb2FkZmlsZSgnLi4vU2NyaXB0cy8nIC4uIGNvbmZpZ0NvbXBvbmVudHNbMV0gLi4gJ10gQ29uZmlnLScgLi4gY29uZmlnQ29tcG9uZW50c1syXTp0cmltKCkgLi4gJy5sdWEnKQ0KICAgIGlmIGV4dF9jb25maWcgdGhlbiBleHRfY29uZmlnKCkgZWxzZSByZXR1cm4gZW5kDQplbmQNCg0KDQotLVtbIE9uZS1UaW1lLUV4ZWN1dGlvbiBNZXRob2RzIF1dDQpwbGF5ZXJWb2NhdGlvbiA9IGdldFBsYXllclZvY2F0aW9uKCkNCnVwZGF0ZUFyZWFEaW1lbnNpb25zKCkNCnNldFJ1bmVDb25maWdWYWx1ZXMoKQ0KcmVtb3ZlSW52YWxpZEF0dGFja3MoKQ0KbGFzdEZsb29yID0gc2VsZlBvcygpLnoNCg0KbG9jYWwgc2hvb3RlciA9IGNvX2NyZWF0ZShleGVjdXRlQXR0YWNrKQ0KbG9jYWwgaW5kZXggPSAxDQpsb2NhbCByZXQgPSBuaWwNCndoaWxlICh0cnVlKSBkbw0KICAgIC0tIEdldHMgMnMgY29vbGRvd24gKGFsbCBhdHRhY2tzIHNoYXJlIHRoaXMpDQogICAgbG9jYWwgZ2xvYmFsQ29vbGRvd24gPSBnZXRDb29sZG93bignZXhvcmkgZnJpZ28nKQ0KICAgIC0tIFJlYWR5IHRvIGF0dGFjaywgdW5sZWFzaCENCiAgICBpZiAoZ2xvYmFsQ29vbGRvd24gPT0gMCkgdGhlbg0KICAgICAgICAtLSBTdGFpcmhvcCBleGhhdXN0DQogICAgICAgIGxvY2FsIGN1cnJlbnRGbG9vciA9IHNlbGZQb3MoKS56DQogICAgICAgIGlmIChjdXJyZW50Rmxvb3Igfj0gbGFzdEZsb29yKSB0aGVuDQogICAgICAgICAgICBsYXN0Rmxvb3IgPSBjdXJyZW50Rmxvb3INCiAgICAgICAgICAgIHNsZWVwKDIwMDApDQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIHJldCwgaW5kZXggPSBjb19yZXN1bWUoc2hvb3RlciwgaW5kZXgpDQogICAgICAgIGVuZA0KICAgIC0tIE5vdCByZWFkeSwgd2FpdCBpZiB3ZSdyZSBub3QgZ29pbmcgYmFsbHMgdG8gdGhlIHdhbGwuDQogICAgZWxzZWlmIChwcmlvcml0eSA8PSAwKSB0aGVuDQogICAgICAgIHNsZWVwKDEpDQogICAgZW5kDQplbmQNCg==]]></script>
	</control>
</panel>
<panel name="Advertising">
	<control name="watchSellingWords" value="item, item2"/>
	<control name="watchSellingEnable" value="0"/>
	<control name="watchBuyingWords" value="item, item2"/>
	<control name="watchBuyingEnable" value="0"/>
	<control name="blockLinksEnable" value="0"/>
	<control name="reduceSpamEnable" value="0"/>
</panel>
