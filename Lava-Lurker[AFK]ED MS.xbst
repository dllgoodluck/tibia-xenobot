<panel name="Spell Shooter">
	<control name="shooterList">
		<item spell="exevo gran mas frigo" rune="3155" srange="5" type="2" reason="2" minhp="0" maxhp="100" mana="70" count="3" creature="monster names" danger="0" targ="1" enabled="1"/>
		<item spell="spell words" rune="3161" srange="3" type="3" reason="2" minhp="0" maxhp="100" mana="10" count="2" creature="Ravenous Lava Lurker" danger="0" targ="0" enabled="1"/>
		<item spell="exevo gran frigo hur" rune="3155" srange="10" type="2" reason="2" minhp="0" maxhp="100" mana="30" count="3" creature="monster names" danger="0" targ="1" enabled="1"/>
		<item spell="spell words" rune="3155" srange="3" type="1" reason="2" minhp="0" maxhp="100" mana="10" count="1" creature="Ravenous Lava Lurker" danger="0" targ="1" enabled="1"/>
	</control>
</panel>
<panel name="Dynamic Lure">
	<control name="LureList">
		<item count="1" until="0" prioMax="9" prioMin="6" prioRaw="106" enabled="1"/>
	</control>
	<control name="AttackWhileLuring" value="1"/>
</panel>
<panel name="Self Healer">
	<control name="SpellList">
		<item spell="exura vita" mana="0" vcomp="0" vsign="0" vrandom="0" vvalue="700" enabled="1"/>
		<item spell="exura gran" mana="0" vcomp="0" vsign="0" vrandom="1" vvalue="900" enabled="1"/>
	</control>
	<control name="ItemList">
		<item id="23373" vcomp="0" vsign="3" vrandom="0" vvalue="70" enabled="1"/>
		<item id="238" vcomp="0" vsign="3" vrandom="0" vvalue="77" enabled="1"/>
	</control>
</panel>
<panel name="Support">
	<control name="HiHealSpell" value="Exura"/>
	<control name="HiHealHealth" value="90"/>
	<control name="HiHealRange" value="5"/>
	<control name="HiHealMana" value="20"/>
	<control name="HiHealEnable" value="0"/>
	<control name="LoHealSpell" value="Exura Gran"/>
	<control name="LoHealHealth" value="55"/>
	<control name="LoHealPerc" value="5"/>
	<control name="LoHealMana" value="70"/>
	<control name="LoHealEnable" value="0"/>
	<control name="PotHealID" value="266"/>
	<control name="PotHealHealth" value="50"/>
	<control name="PotHealRange" value="5"/>
	<control name="PotHealEnable" value="0"/>
	<control name="ManaRestoreID" value="268"/>
	<control name="ManaRestoreMana" value="50"/>
	<control name="ManaRestoreEnable" value="0"/>
</panel>
<panel name="Frag Helper">
	<control name="HoldTarg" value="1"/>
	<control name="ComboEnable" value="1"/>
</panel>
<panel name="Tools">
	<control name="EnableAntiIdle" value="0"/>
	<control name="EnableEatFood" value="1"/>
	<control name="EnableReconnect" value="1"/>
	<control name="LightEnable" value="0"/>
	<control name="XRayEnable" value="0"/>
	<control name="ShowLookIDs" value="0"/>
	<control name="ShowManaBar" value="0"/>
	<control name="ShowBPInfo" value="0"/>
	<control name="EnableAdvancedInfo" value="0"/>
</panel>
<panel name="Visuals">
	<control name="LightEnable" value="0"/>
	<control name="XRayEnable" value="0"/>
	<control name="ShowLookIDs" value="0"/>
	<control name="ShowManaBar" value="0"/>
	<control name="ShowBPInfo" value="0"/>
	<control name="EnableSmallBPs" value="0"/>
	<control name="EnableAdvancedInfo" value="0"/>
	<control name="ShowCleanWalls" value="0"/>
	<control name="ShowDiagnostics" value="0"/>
</panel>
<panel name="Get Scripts">
</panel>
<panel name="Combo Options">
	<control name="ComboSayLeader" value=""/>
	<control name="ComboSayPhrase" value=""/>
	<control name="ComboSayEnable" value="0"/>
	<control name="ComboShotLeader" value="Babiarz Hazardzista"/>
	<control name="ComboShotType" value="0"/>
	<control name="ComboShotEnable" value="1"/>
	<control name="ComboExivaLeader" value=""/>
	<control name="ComboExivaEnable" value="0"/>
	<control name="ComboParaWatch" value="0"/>
	<control name="ComboParaEnable" value="0"/>
	<control name="ComboPartyWatch" value="0"/>
	<control name="ComboPartyEnable" value="0"/>
	<control name="ComboAttackSpell" value="Exevo Gran Mas Frigo"/>
	<control name="ComboAttackSpellEnable" value="0"/>
	<control name="ComboAttackRuneID" value="3155"/>
	<control name="ComboAttackRuneEnable" value="1"/>
	<control name="ComboFocusType" value="0"/>
</panel>
<panel name="HUD">
	<control name="HUDItemList">
		<item textColor="9" x="5" y="5" pos="4" checked="0"/>
		<item textColor="8" x="5" y="5" pos="6" checked="0"/>
		<item textColor="7" x="5" y="5" pos="0" checked="0"/>
		<item textColor="6" x="5" y="5" pos="8" checked="0"/>
		<item textColor="4" x="5" y="5" pos="10" checked="0"/>
		<item textColor="9" x="5" y="5" pos="5" checked="1"/>
		<item textColor="9" x="50" y="50" pos="11" checked="1"/>
		<item textColor="0" x="0" y="0" pos="0" checked="0"/>
	</control>
	<control name="HPPercOnClick" value="0"/>
	<control name="MPPercOnClick" value="0"/>
	<control name="MPPercClickEnable" value="0"/>
	<control name="MPPercClickEnable" value="0"/>
</panel>
<panel name="Recent Loot">
	<control name="LootMonsterList">
	</control>
	<control name="DisplaySelectLoot" value="0"/>
	<control name="HideNothingLoot" value="0"/>
</panel>
<panel name="Spell Timers">
	<control name="HUDSpellTimersList">
		<item textColor="9" x="5" y="5" pos="4" checked="1"/>
		<item textColor="8" x="5" y="5" pos="6" checked="1"/>
		<item textColor="7" x="5" y="5" pos="0" checked="1"/>
		<item textColor="6" x="5" y="5" pos="8" checked="1"/>
		<item textColor="4" x="5" y="5" pos="10" checked="1"/>
		<item textColor="9" x="5" y="5" pos="5" checked="1"/>
		<item textColor="9" x="50" y="50" pos="11" checked="1"/>
	</control>
</panel>
<panel name="Kill Counters">
	<control name="KillCounterBox">
	</control>
	<control name="DisplaySelectCounters" value="0"/>
	<control name="DisplayCountRatios" value="0"/>
</panel>
<panel name="Battle Information">
	<control name="ShowTakenDamage" value="1"/>
	<control name="ShowTakenAvgDamage" value="1"/>
	<control name="ShowTakenBurstDamage" value="1"/>
	<control name="ShowDealtDamage" value="1"/>
	<control name="ShowTarget" value="1"/>
	<control name="ShowFollow" value="1"/>
	<control name="ShowExiva" value="1"/>
</panel>
<panel name="Experience Information">
	<control name="ShowHourlyExp" value="1"/>
	<control name="ShowExpTogo" value="1"/>
	<control name="ShowTimeLeft" value="1"/>
</panel>
<panel name="Condition Manager">
	<control name="PoisonCureLimit" value="6"/>
	<control name="PoisonCureMana" value="20"/>
	<control name="PoisonCureEnable" value="0"/>
	<control name="DeathCureLimit" value="10"/>
	<control name="DeathCureMana" value="40"/>
	<control name="DeathCureEnable" value="0"/>
	<control name="PhysicalCureLimit" value="5"/>
	<control name="PhysicalCureMana" value="30"/>
	<control name="PhysicalCureEnable" value="0"/>
	<control name="FireCureLimit" value="20"/>
	<control name="FireCureMana" value="30"/>
	<control name="FireCureEnable" value="0"/>
	<control name="EnergyCureLimit" value="15"/>
	<control name="EnergyCureMana" value="30"/>
	<control name="EnergyCureEnable" value="0"/>
	<control name="ParaCureEnable" value="0"/>
	<control name="ParaCureMana" value="50"/>
	<control name="ParaCureSpell" value="Utani Hur"/>
	<control name="HasteCastMana" value="50"/>
	<control name="HasteCastSpell" value="Utani gran Hur"/>
	<control name="HasteCastEnable" value="1"/>
	<control name="InvisibleCastMana" value="50"/>
	<control name="InvisibleCastEnable" value="0"/>
	<control name="ShieldCastMana" value="50"/>
	<control name="ShieldCastEnable" value="0"/>
	<control name="RecoveryCastEnable" value="0"/>
	<control name="RecoveryCastType" value="0"/>
	<control name="RecoveryCastMana" value="75"/>
	<control name="RecoveryCheckPzEnable" value="1"/>
</panel>
<panel name="Equipment Manager">
	<control name="AmmoRefillID" value="3450"/>
	<control name="AmmoRefillEnable" value="0"/>
	<control name="WeaponRefillID" value="7368"/>
	<control name="WeaponRefillEnable" value="0"/>
</panel>
<panel name="Targeting">
	<control name="TargetingList" antiks="0">
		<item type="Ravenous Lava Lurker" chs="2" max="100" min="0" prio="6" prox="7" count="1" elastic="0"/>
	</control>
</panel>
<panel name="Walker">
	<control name="WaypointList">
		<item text="GnomeDP-Start:" tag="255"/>
		<item text="Start:" tag="255"/>
		<item text="Stand (32827, 31763, 10)" tag="1"/>
		<item text="ResetBps:" tag="255"/>
		<item text="Stand (32825, 31752, 10)" tag="1"/>
		<item text="DepositGold:" tag="255"/>
		<item text="Node (32807, 31755, 10)" tag="0"/>
		<item text="Stand (32803, 31782, 10)" tag="1"/>
		<item text="BuyManas:" tag="255"/>
		<item text="Stand (32801, 31768, 10)" tag="1"/>
		<item text="Node (32811, 31783, 9)" tag="0"/>
		<item text="Stand (32803, 31797, 9)" tag="1"/>
		<item text="Self.Step(SOUTH)" tag="254"/>
		<item text="Stand (32624, 31869, 11)" tag="1"/>
		<item text="Self.Step(SOUTH)" tag="254"/>
		<item text="Node (33761, 32178, 14)" tag="0"/>
		<item text="Node (33793, 32180, 14)" tag="0"/>
		<item text="Node (33829, 32183, 14)" tag="0"/>
		<item text="Stand (33838, 32178, 14)" tag="1"/>
		<item text="Stand (33857, 32174, 15)" tag="1"/>
		<item text="EnterResp:" tag="255"/>
		<item text="Node (33866, 32177, 14)" tag="0"/>
		<item text="Node (33886, 32176, 14)" tag="0"/>
		<item text="Node (33898, 32172, 14)" tag="0"/>
		<item text="Node (33909, 32169, 14)" tag="0"/>
		<item text="Node (33916, 32180, 14)" tag="0"/>
		<item text="Node (33913, 32189, 14)" tag="0"/>
		<item text="Node (33910, 32215, 14)" tag="0"/>
		<item text="Node (33930, 32209, 14)" tag="0"/>
		<item text="Node (33934, 32194, 14)" tag="0"/>
		<item text="Node (33937, 32186, 14)" tag="0"/>
		<item text="Node (33946, 32163, 14)" tag="0"/>
		<item text="Check:" tag="255"/>
		<item text="Node (33932, 32152, 14)" tag="0"/>
		<item text="Node (33926, 32145, 14)" tag="0"/>
		<item text="Node (33903, 32150, 14)" tag="0"/>
		<item text="Node (33902, 32166, 14)" tag="0"/>
		<item text="Node (33889, 32178, 14)" tag="0"/>
		<item text="Check:" tag="255"/>
		<item text="Node (33914, 32171, 14)" tag="0"/>
		<item text="Node (33944, 32160, 14)" tag="0"/>
		<item text="Node (33969, 32142, 14)" tag="0"/>
		<item text="Node (33974, 32145, 14)" tag="0"/>
		<item text="Node (33976, 32154, 14)" tag="0"/>
		<item text="Node (33979, 32163, 14)" tag="0"/>
		<item text="Node (33978, 32176, 14)" tag="0"/>
		<item text="Node (33977, 32185, 14)" tag="0"/>
		<item text="Node (33965, 32198, 14)" tag="0"/>
		<item text="Check:" tag="255"/>
		<item text="Node (33963, 32205, 14)" tag="0"/>
		<item text="Node (33950, 32207, 14)" tag="0"/>
		<item text="Node (33930, 32203, 14)" tag="0"/>
		<item text="Node (33944, 32161, 14)" tag="0"/>
		<item text="Node (33921, 32165, 14)" tag="0"/>
		<item text="Node (33908, 32170, 14)" tag="0"/>
		<item text="Node (33900, 32169, 14)" tag="0"/>
		<item text="Check2:" tag="255"/>
		<item text="Wychodzi:" tag="255"/>
		<item text="Node (33898, 32170, 14)" tag="0"/>
		<item text="Node (33881, 32173, 14)" tag="0"/>
		<item text="Stand (33857, 32174, 14)" tag="1"/>
		<item text="Stand (33838, 32178, 15)" tag="1"/>
		<item text="Node (33811, 32186, 14)" tag="0"/>
		<item text="Node (33788, 32178, 14)" tag="0"/>
		<item text="Node (33760, 32178, 14)" tag="0"/>
		<item text="Stand (33743, 32190, 14)" tag="1"/>
		<item text="Self.Step(WEST)" tag="254"/>
		<item text="Stand (32627, 31863, 11)" tag="1"/>
		<item text="Self.Step(EAST)" tag="254"/>
		<item text="Stand (32801, 31768, 9)" tag="1"/>
		<item text="Node (32806, 31761, 10)" tag="0"/>
		<item text="Node (32826, 31757, 10)" tag="0"/>
	</control>
</panel>
<panel name="Walker Options">
	<control name="ropeOption" value="0"/>
	<control name="shovelOption" value="0"/>
</panel>
<panel name="Looter">
	<control name="LootList" mode="1" minimum="0" maximum="0" skinner="0" unlisted="0">
	</control>
</panel>
<panel name="Pathfinder">
	<control name="walkOnFireEnable" value="1"/>
	<control name="walkOnFurnitureEnable" value="1"/>
	<control name="walkOnMaroonGround" value="0"/>
	<control name="pathThroughRangedCreatures" value="0"/>
	<control name="walkWithMapclicks" value="0"/>
</panel>
<panel name="Mount">
</panel>
<panel name="Special Areas">
	<control name="AreaList">
	</control>
</panel>
<panel name="Alarms">
	<control name="disAlarm" value="0"/>
	<control name="damAlarm" value="0"/>
	<control name="lhpAlarm" value="0"/>
	<control name="lhpAlarmPercent" value="50"/>
	<control name="pmAlarm" value="0"/>
	<control name="creatureAlarm" value="0"/>
	<control name="attackAlarm" value="0"/>
	<control name="attackAlarmYellow" value="1"/>
	<control name="playerAlarm" value="0"/>
	<control name="playerAlarmLog" value="0"/>
	<control name="stuckAlarm" value="0"/>
	<control name="burstAlarm" value="0"/>
	<control name="burstAlarmPercent" value="500"/>
	<control name="averageAlarm" value="0"/>
	<control name="averageAlarmPercent" value="200"/>
	<control name="alarmPartyIgnore" value="0"/>
</panel>
<panel name="Scripter">
	<control name="RunningScriptList">
		<script name="Hell-Hud.lua"><![CDATA[LS0gUGFyYW1ldGVycyB0byB0aGUgSFVEIHRoYXQgc2hvdWxkIG5vdCBiZSB2aXNpYmxlIHRvIHRoZSByZWd1bGFyIHVzZXIsDQotLSBidXQgdGhhdCB0aGUgZGV2ZWxvcGVyIG1pZ2h0IHdhbnQgdG8gY2hhbmdlIGluIHRoZSBmdXR1cmUNCkhpZGRlbkNvbmZpZyA9DQp7DQogICAgcGFuZWxXaWR0aCA9IDIzMCwNCiAgICB0aW1lVGljayA9IDEsDQogICAgeUluc2V0ID0gMzAsDQogICAgeERlc2NXaWR0aCA9IDEyNSwNCiAgICB4VGl0bGVJbnNldCA9IDYwLA0KICAgIHhIZWFkZXJJbnNldCA9IDgwLA0KICAgIHhJbWFnZU9mZnNldCA9IC0yNSwNCiAgICB5SW1hZ2VPZmZzZXQgPSAtNSwNCiAgICB5U3RhbmRhcmRIZWlnaHQgPSAxNSwNCiAgICBpbWFnZVNpemUgPSAxMywNCiAgICBoZWFkZXJDb2xvciA9IHtyPTQ0LCBnPTI1NSwgYj0yOCB9LA0KICAgIGtleUNvbG9yICAgID0ge3I9ODYsIGc9OTU1LCBiPTI1NX0sDQogICAgdmFsQ29sb3IgICAgPSB7cj04OCwgZz04OCwgYj04OH0sDQogICAgZ29sZENoYW5nZUxpbWl0ID0gMzAwLA0KICAgIHN0YWNrYWJsZUNoYW5nZUxpbWl0ID0gMTAsDQogICAgbm9uU3RhY2thYmxlQ2hhbmdlTGltaXQgPSAzLA0KICAgIFdhc3RlTW9kID0gMTAwMDAsDQp9DQoNCkNvbmZpZyA9IChmdW5jdGlvbigpDQogICAgbG9jYWwgbWFya2V0UHJpY2VzID0ge30NCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGdldE1hcmtldFByaWNlKGl0ZW0pDQogICAgICAgIGxvY2FsIGlkID0gSXRlbS5HZXRJdGVtSURGcm9tRHVhbElucHV0KGl0ZW0pDQogICAgICAgIHJldHVybiBtYXJrZXRQcmljZXNbaWRdDQogICAgZW5kDQoNCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGZpbGVFeGlzdHMobmFtZSkNCiAgICAgICAgbG9jYWwgZiA9IGlvLm9wZW4obmFtZSkNCiAgICAgICAgaWYgbm90IGYgdGhlbg0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgIGVuZA0KICAgICAgICBmOmNsb3NlKCkNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICBlbmQNCg0KDQogICAgbG9jYWwgY29uZmlnVGV4dCA9IFtbDQotLSBBY2N1cmF0ZSBtYXJrZXQgcHJpY2VzIGFyZSBuZWNlc3NhcnkgZm9yIGNvcnJlY3QgcHJvZml0cyBjYWxjdWxhdGlvbnMuDQotLSBTb21lIGV4YW1wbGVzIGhhdmUgYmVlbiBwcm92aWRlZCB0byBkZW1vbnN0cmF0ZSB0aGUgZm9ybWF0LCBidXQgeW91IHNob3VsZCBwcm9iYWJseSBlZGl0IHRoZW0gdG8gZml0IHlvdXIgd29ybGQuDQpNYXJrZXRQcmljZXMgPSB7DQogICAgWyJzd29yZCByaW5nIl0gPSA1MDAsDQogICAgWyJncmVhdCBoZWFsdGggcG90aW9uIl0gPSAxNTAsDQogICAgWyJsaWZlIHJpbmciXSA9IDkwMCwNCiAgICBbInNwaWRlciBzaWxrIl0gPSA3MDAwLA0KfV1dDQogICAgbG9jYWwgY29uZmlnTmFtZSA9ICIuLi9Db25maWdzL0hVRC5pbmkiDQoNCiAgICBsb2NhbCBmdW5jdGlvbiBsb2FkQ29uZmlnKCkNCiAgICAgICAgLS0gSWYgdGhlIGNvbmZpZyBmaWxlIGRvZXMgbm90IGV4aXN0LCBjcmVhdGUgaXQNCiAgICAgICAgaWYgbm90IGZpbGVFeGlzdHMoY29uZmlnTmFtZSkgdGhlbg0KICAgICAgICAgICAgbG9jYWwgZiA9IGlvLm9wZW4oY29uZmlnTmFtZSwgIncrIikNCiAgICAgICAgICAgIGlmIGYgdGhlbg0KICAgICAgICAgICAgICAgIGY6d3JpdGUoY29uZmlnVGV4dCkNCiAgICAgICAgICAgICAgICBmOmNsb3NlKCkNCiAgICAgICAgICAgICAgICBsb2NhbCBub0NvbmZpZ01zZyA9ICJUaGlzIGlzIHRoZSBmaXJzdCB0aW1lIHlvdSdyZSB1c2luZyB0aGlzIEhVRC4gQSBjb25maWcgZmlsZSBoYXMgYmVlbiBjcmVhdGVkIGZvciB5b3UsIHVzZSBpdCB0byBjaGFuZ2UgbWFya2V0IHByaWNlcyBvZiBpdGVtcyB0aGF0IHlvdSB3b24ndCBzZWxsIHRvIG5wY3MuIg0KICAgICAgICAgICAgICAgIHByaW50KG5vQ29uZmlnTXNnKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KDQogICAgICAgIGRvZmlsZShjb25maWdOYW1lKQ0KDQogICAgICAgIGZvciBuYW1lLCBwcmljZSBpbiBwYWlycyhNYXJrZXRQcmljZXMpIGRvDQogICAgICAgICAgICBtYXJrZXRQcmljZXNbSXRlbS5HZXRJRChuYW1lKV0gPSBwcmljZQ0KICAgICAgICBlbmQNCiAgICBlbmQNCg0KICAgIHJldHVybg0KICAgIHsNCiAgICAgICAgZ2V0TWFya2V0UHJpY2UgPSBnZXRNYXJrZXRQcmljZSwNCiAgICAgICAgbG9hZENvbmZpZyA9IGxvYWRDb25maWcsDQogICAgfQ0KZW5kKSgpDQoNCkRhdGEgPSAoZnVuY3Rpb24oKSANCiAgICBsb2NhbCB3b3JuU29mdElEID0gNjUzMA0KICAgIGxvY2FsIGFjdGl2ZVNvZnRJRCA9IDM1NDkNCiAgICBsb2NhbCBwYXNzaXZlU29mdElEID0gNjUyOQ0KICAgICAgICANCiAgICBsb2NhbCBkdXJhdGlvbnMgPSANCiAgICB7DQogICAgICAgIFtJdGVtLkdldElEKCJTd29yZCBSaW5nIildID0gMzAgKiA2MCwNCiAgICAgICAgW0l0ZW0uR2V0SUQoIkNsdWIgUmluZyIpXSA9IDMwICogNjAsDQogICAgICAgIFtJdGVtLkdldElEKCJBeGUgUmluZyIpXSA9IDMwICogNjAsDQogICAgICAgIFtJdGVtLkdldElEKCJFbmVyZ3kgUmluZyIpXSA9IDEwICogNjAsDQogICAgICAgIFtJdGVtLkdldElEKCJTdGVhbHRoIFJpbmciKV0gPSAxMCAqIDYwLA0KICAgICAgICBbSXRlbS5HZXRJRCgiTGlmZSBSaW5nIildID0gMjAgKiA2MCwNCiAgICAgICAgW0l0ZW0uR2V0SUQoIlJpbmcgb2YgSGVhbGluZyIpXSA9IDcuNSAqIDYwLA0KICAgICAgICBbSXRlbS5HZXRJRCgiUHJpc21hdGljIFJpbmciKV0gPSA2MCAqIDYwLA0KICAgICAgICBbSXRlbS5HZXRJRCgiVGltZSBSaW5nIildID0gMTAgKiA2MCwNCiAgICB9DQoNCiAgICAtLSBUcmFuc2xhdGlvbiBtYXAgZm9yIGdldHRpbmcgdGhlIHBhc3NpdmUgaWQgZnJvbSBhbiBhY3RpdmUgaWQNCiAgICBsb2NhbCBwYXNzaXZlSURzID0ge1thY3RpdmVTb2Z0SURdID0gcGFzc2l2ZVNvZnRJRCwgW3dvcm5Tb2Z0SURdID0gcGFzc2l2ZVNvZnRJRH0NCiAgICBmb3IgcGFzc2l2ZSwgXyBpbiBwYWlycyhkdXJhdGlvbnMpIGRvDQogICAgICAgIHBhc3NpdmVJRHNbSXRlbS5HZXRSaW5nQWN0aXZlSUQocGFzc2l2ZSldID0gcGFzc2l2ZQ0KICAgIGVuZA0KDQogICAgLS0gQWRkIHRoZSBzb2Z0IGJvb3RzIGR1cmF0aW9uIGFmdGVyIGRvaW5nIHRoZSByaW5nIHRyYW5zbGF0aW9ucw0KICAgIGR1cmF0aW9uc1twYXNzaXZlU29mdElEXSA9IDQgKiA2MCAqIDYwDQoNCg0KICAgIC0tIElmIHdlIGxvb3Qgb25lIG9mIHRoZXNlIGl0ZW1zIHNvbWV0aGluZyBmaXNoeSBpcyBnb2luZyBvbiwgc28gaW52YWxpZGF0ZSB0aGUgd2hvbGUgY291bnQuDQogICAgbG9jYWwgaW52YWxpZGF0aW9uSURzID0gDQogICAgew0KICAgICAgICBJdGVtLkdldElEKCJzaG92ZWwiKSwNCiAgICAgICAgSXRlbS5HZXRJRCgibGlnaHQgc2hvdmVsIiksDQogICAgICAgIEl0ZW0uR2V0SUQoInJvcGUiKSwNCiAgICAgICAgSXRlbS5HZXRJRCgiZWx2ZW5oYWlyIHJvcGUiKSwNCiAgICAgICAgSXRlbS5HZXRJRCgiZmlzaGluZyByb2QiKSwNCiAgICAgICAgU29mdElELA0KICAgICAgICBXb3JuU29mdElELA0KICAgICAgICBQYXNzaXZlU29mdElEDQogICAgfQ0KDQogICAgLS0gVGhlc2UgYXJlIGl0ZW1zIHdob3NlIGNvdW50IG1heSBkZWNyZWFzZSwgYW5kIHNob3VsZCB0aGVuIGJlIGNvdW50ZWQgYXMgd2FzdGUNCiAgICBsb2NhbCBzdXBwbGllcyA9IA0KICAgIHsNCiAgICAgICAgLS0gQXJyb3dzDQogICAgICAgIFtJdGVtLkdldElEKCJhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJidXJzdCBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJjcnlzdGFsbGluZSBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJlYXJ0aCBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJlbnZlbm9tZWQgYXJyb3ciKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgiZmxhbWluZyBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJmbGFzaCBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJvbnl4IGFycm93IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInBvaXNvbiBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJzaGl2ZXIgYXJyb3ciKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgic2ltcGxlIGFycm93IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInNuaXBlciBhcnJvdyIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJ0YXJzYWwgYXJyb3ciKV0gPSB0cnVlLA0KDQogICAgICAgIC0tIEJvbHRzDQogICAgICAgIFtJdGVtLkdldElEKCJib2x0IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoImRyaWxsIGJvbHQiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgiaW5mZXJuYWwgYm9sdCIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJwaWVyY2luZyBib2x0IildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInBvd2VyIGJvbHQiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgicHJpc21hdGljIGJvbHQiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgidm9ydGV4IGJvbHQiKV0gPSB0cnVlLA0KDQogICAgICAgIC0tIFRocm93aW5nIHdlYXBvbnMNCiAgICAgICAgW0l0ZW0uR2V0SUQoImVuY2hhbnRlZCBzcGVhciIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJnbG9vdGggc3BlYXIiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgiaHVudGluZyBzcGVhciIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJtZWFuIHBhbGFkaW4gc3BlYXIiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgicm95YWwgc3BlYXIiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgic3BlYXIiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgiYXNzYXNzaW4gc3RhciIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJzbm93YmFsbCIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJzbWFsbCBzdG9uZSIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJ0aHJvd2luZyBrbmlmZSIpXSA9IHRydWUsDQogICAgICAgIFtJdGVtLkdldElEKCJ0aHJvd2luZyBzdGFyIildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInZpcGVyIHN0YXIiKV0gPSB0cnVlLA0KDQogICAgICAgIC0tIEFtdWxldHMNCiAgICAgICAgW0l0ZW0uR2V0SUQoImdpbGwgbmVja2xhY2UiKV0gPSB0cnVlLA0KICAgICAgICBbSXRlbS5HZXRJRCgicHJpc21hdGljIG5lY2tsYWNlIildID0gdHJ1ZSwNCiAgICAgICAgW0l0ZW0uR2V0SUQoInByb3RlY3Rpb24gYW11bGV0IildID0gdHJ1ZSwNCg0KICAgICAgICAtLSBNaXNjDQogICAgICAgIFtJdGVtLkdldElEKCJzY2FyYWIgY29pbiIpXSA9IHRydWUsDQogICAgfQ0KDQogICAgbG9jYWwgc3VwcGx5UGF0dGVybnMgPSANCiAgICB7DQogICAgICAgICJydW5lIiwNCiAgICAgICAgIm1hbmEiLA0KICAgICAgICAiaGVhbHRoIiwNCiAgICAgICAgInNwaXJpdCBwb3Rpb24iLA0KICAgIH0NCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGlzU3VwcGx5KGl0ZW0pDQogICAgICAgIGxvY2FsIG5hbWUgPSBJdGVtLkdldE5hbWUoaXRlbSk6bG93ZXIoKQ0KICAgICAgICBsb2NhbCBtYXRjaGVzU3VwcGx5UGF0dGVybiA9IGZhbHNlDQogICAgICAgIGZvciBfLCBwYXR0ZXJuIGluIGlwYWlycyhzdXBwbHlQYXR0ZXJucykgZG8NCiAgICAgICAgICAgIG1hdGNoZXNTdXBwbHlQYXR0ZXJuID0gbWF0Y2hlc1N1cHBseVBhdHRlcm4gb3IgbmFtZTptYXRjaChwYXR0ZXJuKQ0KICAgICAgICBlbmQNCg0KICAgICAgICBsb2NhbCBpZCA9IEl0ZW0uR2V0SXRlbUlERnJvbUR1YWxJbnB1dChpdGVtKQ0KICAgICAgICByZXR1cm4gbWF0Y2hlc1N1cHBseVBhdHRlcm4gb3Igc3VwcGxpZXNbaWRdDQogICAgZW5kDQoNCg0KICAgIGZ1bmN0aW9uIGdldENvc3QoaWQpDQogICAgICAgIGxvY2FsIHNob3BDb3N0ID0gSXRlbS5HZXRDb3N0KGlkKQ0KICAgICAgICByZXR1cm4gaWQgPT0gcGFzc2l2ZVNvZnRJRCBhbmQgMTAwMDAgb3IgKHNob3BDb3N0ID09IDAgYW5kIENvbmZpZy5nZXRNYXJrZXRQcmljZShpZCkgb3Igc2hvcENvc3QpDQogICAgZW5kDQoNCiAgICBmdW5jdGlvbiBnZXRWYWx1ZShpZCkNCiAgICAgICAgcmV0dXJuIENvbmZpZy5nZXRNYXJrZXRQcmljZShpZCkgb3IgKGlzU3VwcGx5KGlkKSBhbmQgZ2V0Q29zdChpZCkpIG9yIEl0ZW0uR2V0VmFsdWUoaWQpDQogICAgZW5kDQoNCg0KICAgIHJldHVybiANCiAgICB7DQogICAgICAgIHdvcm5Tb2Z0SUQgPSB3b3JuU29mdElELA0KICAgICAgICBhY3RpdmVTb2Z0SUQgPSBhY3RpdmVTb2Z0SUQsDQogICAgICAgIHBhc3NpdmVTb2Z0SUQgPSBwYXNzaXZlU29mdElELA0KDQogICAgICAgIGR1cmF0aW9ucyA9IGR1cmF0aW9ucywNCiAgICAgICAgcGFzc2l2ZUlEcyA9IHBhc3NpdmVJRHMsDQogICAgICAgIGludmFsaWRhdGlvbklEcyA9IGludmFsaWRhdGlvbklEcywNCg0KICAgICAgICBpc1N1cHBseSA9IGlzU3VwcGx5LA0KICAgICAgICBnZXRDb3N0ID0gZ2V0Q29zdCwNCiAgICAgICAgZ2V0VmFsdWUgPSBnZXRWYWx1ZSwNCiAgICB9DQplbmQpKCkNCg0KSFVERGF0YSA9IChmdW5jdGlvbigpDQogICAgLS0gSW5pdGlhbCBkYXRhDQogICAgbG9jYWwgc3RhcnRUaW1lID0gb3MudGltZSgpDQogICAgbG9jYWwgc3RhcnRFeHAgPSBTZWxmLkV4cGVyaWVuY2UoKQ0KICAgIGxvY2FsIHN0YXJ0U3RhbWluYSA9IFNlbGYuU3RhbWluYSgpDQoNCiAgICAtLSBUaGUgZGF0YSB0aGF0IHdpbGwgYmUgdmlzaWJsZSB0byB0aGUgcmVzdCBvZiB0aGUgSFVEDQogICAgbG9jYWwgZGF0YSA9IHsgY291bnRzQXJlVmFsaWQgPSB0cnVlLCBnZW5lcmFsID0geyBsYXN0VGljayA9IG9zLnRpbWUoKSB9IH0NCiAgICAtLSBUaGUgZnVuY3Rpb25zIHRoYXQgdXBkYXRlIHRoZSBkYXRhLCBpbiB0aGUgb3JkZXIgdGhleSB3aWxsIGJlIGNhbGxlZC4NCiAgICBsb2NhbCB1cGRhdGVGdW5jdGlvbnMgPSB7fQ0KDQogICAgLS0gSGVscGVyIGZ1bmN0aW9ucyBhbmQgdGhlaXIgYWNjdW11bGF0aXZlIGRhdGENCiAgICBkYXRhLmdlbmVyYWwuYmFsYW5jZSA9IDANCiAgICBOcGNNZXNzYWdlUHJveHkuT25SZWNlaXZlKCJHZXRzIEJhbmsgQmFsYW5jZSIsIGZ1bmN0aW9uKHByb3h5LCBucGNOYW1lLCBtZXNzYWdlKQ0KICAgICAgICBsb2NhbCBiYWxhbmNlID0gc3RyaW5nLm1hdGNoKG1lc3NhZ2UsICJZb3VyIGFjY291bnQgYmFsYW5jZSBpcyAoLispIGdvbGQuIikNCiAgICAgICAgaWYgYmFsYW5jZSBhbmQgdG9udW1iZXIoYmFsYW5jZSkgdGhlbg0KICAgICAgICAgICAgZGF0YS5nZW5lcmFsLmJhbGFuY2UgPSB0b251bWJlcihiYWxhbmNlKQ0KICAgICAgICBlbmQNCiAgICBlbmQpDQoNCiAgICBsb2NhbCBmdW5jdGlvbiBpc0VtcHR5Rmxhc2soaWQpDQogICAgICAgIHJldHVybiB0YWJsZS5maW5kKHsyODMsIDI4NCwgMjg1fSwgaWQpDQogICAgZW5kDQoNCiAgICBsb2NhbCBmdW5jdGlvbiBpZ25vcmVJdGVtKGlkKQ0KICAgICAgICByZXR1cm4gaWQgPT0gMCBvciBpc0VtcHR5Rmxhc2soaWQpIG9yIEl0ZW0uaXNDb250YWluZXIoaWQpDQogICAgZW5kDQogICAgDQogICAgbG9jYWwgY29ycHNlTmFtZXMgPSB7InRoZSIsICJkZW1vbmljIiwgImRlYWQiLCAic2xhaW4iLCAiZGlzc29sdmVkIiwgInJlbWFpbnMiLCAiZWxlbWVudGFsIiwgInNwbGl0In0NCiAgICBsb2NhbCBmdW5jdGlvbiBpc0NvcnBzZShjb250KQ0KICAgICAgICBpZiBJdGVtLmlzQ29ycHNlKGNvbnQ6SUQoKSkgdGhlbiByZXR1cm4gdHJ1ZSBlbmQNCiAgICAgICAgbG9jYWwgbmFtZSA9IGNvbnQ6TmFtZSgpOmxvd2VyKCkNCiAgICAgICAgZm9yIF8sIENQYXJ0TmFtZSBpbiBpcGFpcnMoY29ycHNlTmFtZXMpIGRvDQogICAgICAgICAgICBpZiBuYW1lOmZpbmQoQ1BhcnROYW1lKSB0aGVuDQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgZW5kDQoNCiAgICBsb2NhbCBmdW5jdGlvbiBjb3VudEl0ZW1zKCkNCiAgICAgICAgbmV3Q291bnRzID0ge30NCiAgICAgICAgDQogICAgICAgIHZlcnlVbnNhZmVGdW5jdGlvbkVudGVyQ3JpdGljYWxNb2RlKCkNCiAgICAgICAgDQogICAgICAgIC0tIENvdW50IGVxdWlwcGVkDQogICAgICAgIGxvY2FsIHNsb3RzID0ge1NlbGYuSGVhZCwgU2VsZi5Bcm1vciwgU2VsZi5MZWdzLCBTZWxmLkFtdWxldCwgU2VsZi5GZWV0LCBTZWxmLlJpbmcsIFNlbGYuV2VhcG9uLCBTZWxmLlNoaWVsZCwgU2VsZi5BbW1vfQ0KICAgICAgICBmb3IgaSA9IDEsICNzbG90cyBkbw0KICAgICAgICAgICAgbG9jYWwgc2xvdCA9IHNsb3RzW2ldKCkNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgbm90IGlnbm9yZUl0ZW0oc2xvdC5pZCkgdGhlbg0KICAgICAgICAgICAgICAgIG5ld0NvdW50c1tzbG90LmlkXSA9IChuZXdDb3VudHNbc2xvdC5pZF0gb3IgMCkgKyAgbWF0aC5tYXgoc2xvdC5jb3VudCwgMSkNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgDQogICAgICAgIC0tIENvdW50IGluIGJhY2twYWNrcw0KICAgICAgICBmb3IgaSA9IDAsIDE2IGRvDQogICAgICAgICAgICBsb2NhbCBjb250ID0gQ29udGFpbmVyKGkpDQogICAgICAgICAgICBpZiBjb250OmlzT3BlbigpIGFuZCBub3QgaXNDb3Jwc2UoY29udCkgYW5kIGNvbnQ6TmFtZSgpIH49ICJCcm93c2UgRmllbGQiIHRoZW4NCiAgICAgICAgICAgICAgICBmb3Igc3BvdCA9IDAsIGNvbnQ6SXRlbUNvdW50KCkgLSAxIGRvDQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGl0ZW0gPSBjb250OkdldEl0ZW1EYXRhKHNwb3QpDQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBpZ25vcmVJdGVtKGl0ZW0uaWQpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvdW50c1tpdGVtLmlkXSA9IChuZXdDb3VudHNbaXRlbS5pZF0gb3IgMCkgKyBpdGVtLmNvdW50DQogICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KDQogICAgICAgIHZlcnlVbnNhZmVGdW5jdGlvbkV4aXRDcml0aWNhbE1vZGUoKQ0KICAgICAgICANCiAgICAgICAgLS0gSGFuZGxlIGNoYW5naW5nIHJpbmcgYW5kIGZlZXQgaWRzDQogICAgICAgIGZvciBhY3RpdmVJRCwgcGFzc2l2ZUlEIGluIHBhaXJzKERhdGEucGFzc2l2ZUlEcykgZG8NCiAgICAgICAgICAgIG5ld0NvdW50c1twYXNzaXZlSURdID0gKG5ld0NvdW50c1twYXNzaXZlSURdIG9yIDApICsgKG5ld0NvdW50c1thY3RpdmVJRF0gb3IgMCkNCiAgICAgICAgICAgIG5ld0NvdW50c1thY3RpdmVJRF0gPSBuaWwNCiAgICAgICAgZW5kDQoNCiAgICAgICAgLS0gSGFuZGxlIHdvcm4gc29mdCBib290cw0KICAgICAgICBuZXdDb3VudHNbRGF0YS5wYXNzaXZlU29mdElEXSA9IChuZXdDb3VudHNbRGF0YS5wYXNzaXZlU29mdElEXSBvciAwKSArIChuZXdDb3VudHNbRGF0YS53b3JuU29mdElEXSBvciAwKQ0KDQogICAgICAgIHJldHVybiBuZXdDb3VudHMNCiAgICBlbmQNCg0KICAgIGxvY2FsIGZ1bmN0aW9uIGNoYW5nZUlzV2l0aGluTGltaXRzKGlkLCBjaGFuZ2UpDQogICAgICAgIGlmIGlkID09IEl0ZW0uR2V0SUQoImdvbGQgY29pbiIpIHRoZW4NCiAgICAgICAgICAgIHJldHVybiBjaGFuZ2UgPCBIaWRkZW5Db25maWcuZ29sZENoYW5nZUxpbWl0DQogICAgICAgIGVsc2VpZiBJdGVtLmlzU3RhY2thYmxlKGlkKSB0aGVuDQogICAgICAgICAgICByZXR1cm4gY2hhbmdlIDwgSGlkZGVuQ29uZmlnLnN0YWNrYWJsZUNoYW5nZUxpbWl0DQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIHJldHVybiBjaGFuZ2UgPCBIaWRkZW5Db25maWcubm9uU3RhY2thYmxlQ2hhbmdlTGltaXQNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgDQogICAgLS0gV2Ugb25seSB3YW50IHRvIHVwZGF0ZSB0aGUgZGlmZiBpZiBpdCBjb250YWlucyByZWFzb25hYmxlIHZhbHVlcw0KICAgIGxvY2FsIHRvdGFsTmV3SXRlbUxpbWl0ID0gKFNlbGYuTGV2ZWwoKSA8IDEwMCBhbmQgNSBvciAoU2VsZi5MZXZlbCgpIDwgMjAwIGFuZCA3IG9yIDkpKQ0KICAgIGxvY2FsIGxhc3RCcENvdW50ID0gMA0KICAgIGxvY2FsIGZ1bmN0aW9uIHZhbGlkYXRlRGlmZihkaWZmLCBuZXcpDQogICAgICAgIGxvY2FsIHRvdGFsTmV3Q291bnQgPSAwDQogICAgICAgIC0tIElmIHdlIGRpc2NvdmVyZWQgdG9vIG1hbnkgb2YgYW55IG9uZSBpdGVtIHdlIGludmFsaWRhdGUgdGhlIGRpZmYNCiAgICAgICAgZm9yIGlkLCBjb3VudCBpbiBwYWlycyhkaWZmKSBkbw0KICAgICAgICAgICAgaWYgKGNvdW50ID4gMCBhbmQgbm90IGNoYW5nZUlzV2l0aGluTGltaXRzKGlkLCBjb3VudCkpIG9yIA0KICAgICAgICAgICAgICAgKGNvdW50IDwgMCBhbmQgRGF0YS5pc1N1cHBseShpZCkgYW5kIG5vdCBjaGFuZ2VJc1dpdGhpbkxpbWl0cyhpZCwgLTEqY291bnQpKSBvciANCiAgICAgICAgICAgICAgIChjb3VudCA8IDAgYW5kIG5vdCBEYXRhLmlzU3VwcGx5KGlkKSBhbmQgbmV3W2lkXSBhbmQgbm90IGNoYW5nZUlzV2l0aGluTGltaXRzKGlkLCBuZXdbaWRdKSkgdGhlbg0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBpZiBjb3VudCA+IDAgdGhlbg0KICAgICAgICAgICAgICAgIHRvdGFsTmV3Q291bnQgPSB0b3RhbE5ld0NvdW50ICsgKEl0ZW0uaXNTdGFja2FibGUoaWQpIGFuZCAxIG9yIGNvdW50KQ0KICAgICAgICAgICAgZWxzZWlmIGNvdW50IDwgMCBhbmQgbm90IERhdGEuaXNTdXBwbHkoaWQpIHRoZW4NCiAgICAgICAgICAgICAgICB0b3RhbE5ld0NvdW50ID0gdG90YWxOZXdDb3VudCArIChJdGVtLmlzU3RhY2thYmxlKGlkKSBhbmQgMSBvciBuZXdbaWRdIG9yIDApDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIC0tIElmIHdlIGRpc2NvdmVyZWQgdG9vIG1hbnkgbmV3IGl0ZW1zIGluIHRvdGFsIHdlIGludmFsaWRhdGUgdGhlIGRpZmYNCiAgICAgICAgaWYgdG90YWxOZXdDb3VudCA+IHRvdGFsTmV3SXRlbUxpbWl0IHRoZW4NCiAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICBlbmQNCiAgICAgICAgLS0gSWYgd2UgZGlzY292ZXJlZCBhIG5ldyB0b29sIHdlIGludmFsaWRhdGUgdGhlIGRpZmYNCiAgICAgICAgZm9yIF8sIGlkIGluIGlwYWlycyhEYXRhLmludmFsaWRhdGlvbklEcykgZG8NCiAgICAgICAgICAgIGxvY2FsIGNoYW5nZSA9IGRpZmZbaWRdDQogICAgICAgICAgICBpZiBjaGFuZ2UgYW5kIGNoYW5nZSB+PSAwIHRoZW4NCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCg0KICAgICAgICBsb2NhbCBnb2xkSUQgPSBJdGVtLkdldElEKCJnb2xkIGNvaW4iKQ0KICAgICAgICBsb2NhbCBwbGF0SUQgPSBJdGVtLkdldElEKCJwbGF0aW51bSBjb2luIikNCiAgICAgICAgLS0gSWYgd2UncmUgb24gYW4gT1QgYW5kIGxvc3QgZ29sZCBvciBwbGF0cyB3ZSBpbnZhbGlkYXRlIHRoZSBkaWZmLCBiZWNhdXNlIG9mIGdvbGQgY2hhbmdpbmcNCiAgICAgICAgaWYgbm90IFhlbm9Cb3QuSXNJblJlYWxUaWJpYSgpIGFuZCANCiAgICAgICAgICAgKChkaWZmW2dvbGRJRF0gYW5kIGRpZmZbZ29sZElEXSA8IDApIG9yDQogICAgICAgICAgICAoZGlmZltwbGF0SURdIGFuZCBkaWZmW3BsYXRJRF0gPCAwKSkgdGhlbg0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgIGVuZA0KDQogICAgICAgIC0tIElmIHRoZSBudW1iZXIgb2Ygb3BlbiBiYWNrcGFja3MgaGF2ZSBjaGFuZ2VkIHdlIGludmFsaWRhdGUNCiAgICAgICAgbG9jYWwgYnBDb3VudCA9IDANCiAgICAgICAgZm9yIGkgPSAwLCAxNiBkbw0KICAgICAgICAgICAgbG9jYWwgY29udCA9IENvbnRhaW5lcihpKQ0KICAgICAgICAgICAgaWYgY29udDppc09wZW4oKSBhbmQgbm90IGlzQ29ycHNlKGNvbnQpIGFuZCBjb250Ok5hbWUoKSB+PSAiQnJvd3NlIEZpZWxkIiB0aGVuDQogICAgICAgICAgICAgICAgYnBDb3VudCA9IGJwQ291bnQgKyAxDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgIGlmIGJwQ291bnQgfj0gbGFzdEJwQ291bnQgdGhlbg0KICAgICAgICAgICAgbGFzdEJwQ291bnQgPSBicENvdW50DQogICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgZW5kDQoNCiAgICAgICAgLS0gT3RoZXJ3aXNlIHdlJ3JlIHZhbGlkDQogICAgICAgIHJldHVybiB0cnVlDQogICAgZW5kDQoNCiAgICBsb2NhbCBmdW5jdGlvbiBpZE9uU2NyZWVuKGlkcykNCiAgICAgICAgbG9jYWwgbXlQb3MgPSBTZWxmLlBvc2l0aW9uKCkNCiAgICAgICAgZm9yIGR4ID0gLTcsIDcgZG8NCiAgICAgICAgICAgIGZvciBkeSA9IC01LCA1IGRvDQogICAgICAgICAgICAgICAgbG9jYWwgcG9zID0ge3ggPSBteVBvcy54ICsgZHgsIHkgPSBteVBvcy55ICsgZHksIHogPSBteVBvcy56fQ0KICAgICAgICAgICAgICAgIGlmIHRhYmxlLmZpbmQoaWRzLCBNYXAuR2V0VG9wVXNlSXRlbShwb3MueCwgcG9zLnksIHBvcy56KS5pZCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICBlbmQgDQogICAgDQogICAgbG9jYWwgZnVuY3Rpb24gdHJhaW5lck9uU2NyZWVuKCkNCiAgICAgICAgcmV0dXJuIGlkT25TY3JlZW4oezE2MjAxLCAxNjE5OCwgMTYyMDIsIDE2MTk5LCAxNjIwMH0pDQogICAgZW5kDQogICAgDQogICAgbG9jYWwgZnVuY3Rpb24gZGVwb3RPblNjcmVlbigpDQogICAgICAgIHJldHVybiBpZE9uU2NyZWVuKHszNDk3LCAzNDk4LCAzNDk5LCAzNTAwfSkNCiAgICBlbmQNCiAgICANCiAgICBsb2NhbCBmdW5jdGlvbiBoYXNDbG9zZU5QQygpDQogICAgICAgIGZvciBfLCBjIGluIENyZWF0dXJlLmlOcGNzKCkgZG8NCiAgICAgICAgICAgIGlmIGM6aXNPblNjcmVlbigpIHRoZW4NCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICBlbmQNCiAgICANCiAgICBsb2NhbCBsYXN0VGFsa2VkVG9OUEMgPSAwDQogICAgTnBjTWVzc2FnZVByb3h5Ok9uUmVjZWl2ZSgiU3Bva2UgV2l0aCBOUEMgRGV0ZWN0b3IiLCBmdW5jdGlvbihfKQ0KICAgICAgICBsYXN0VGFsa2VkVG9OUEMgPSBvcy50aW1lKCkNCiAgICBlbmQpDQogICAgDQogICAgLS0gV2UgZG9uJ3Qgd2FudCB0byB1cGRhdGUgdGhlIGRpZmYgd2hpbGUgZG9pbmcgY2VydGFpbiB0aGluZ3MNCiAgICAtLSB0aGF0IGFyZSBub3JtYWxseSBkb25lIHdoZW4gcmVmaWxsaW5nDQogICAgbG9jYWwgZnVuY3Rpb24gaXNSZWZpbGxpbmcoKQ0KICAgICAgICByZXR1cm4gKFhlbm9Cb3QuSXNJblJlYWxUaWJpYSgpIGFuZCBoYXNDbG9zZU5QQygpKSBvciANCiAgICAgICAgICAgICAgIG9zLmRpZmZ0aW1lKG9zLnRpbWUoKSwgbGFzdFRhbGtlZFRvTlBDKSA8IDEwIG9yIA0KICAgICAgICAgICAgICAgZGVwb3RPblNjcmVlbigpIG9yIA0KICAgICAgICAgICAgICAgdHJhaW5lck9uU2NyZWVuKCkNCiAgICBlbmQgDQoNCiAgICBkYXRhLml0ZW1Db3VudHMgPSBjb3VudEl0ZW1zKCkNCiAgICBsb2NhbCBmdW5jdGlvbiB1cGRhdGVEaWZmcygpDQogICAgICAgIGxvY2FsIG5ld0NvdW50cyA9IGNvdW50SXRlbXMoKQ0KDQogICAgICAgIC0tIENhbGN1bGF0ZSB0aGUgZGlmZg0KICAgICAgICBsb2NhbCBkaWZmID0ge30gICAgDQogICAgICAgIGZvciBpZCwgY291bnQgaW4gcGFpcnMobmV3Q291bnRzKSBkbw0KICAgICAgICAgICAgZGlmZltpZF0gPSBjb3VudA0KICAgICAgICBlbmQNCiAgICAgICAgDQogICAgICAgIGZvciBpZCwgY291bnQgaW4gcGFpcnMoZGF0YS5pdGVtQ291bnRzKSBkbw0KICAgICAgICAgICAgZGlmZltpZF0gPSAoZGlmZltpZF0gb3IgMCkgLSBjb3VudA0KICAgICAgICBlbmQNCiAgICAgICAgDQogICAgICAgIGZvciBpZCwgY291bnQgaW4gcGFpcnMoZGlmZikgZG8NCiAgICAgICAgICAgIGlmIGRpZmZbaWRdID09IDAgdGhlbiANCiAgICAgICAgICAgICAgICBkaWZmW2lkXSA9IG5pbCANCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCg0KICAgICAgICAtLSBTdG9yZSB0aGUgbmV3IGNvdW50cw0KICAgICAgICBkYXRhLml0ZW1Db3VudHMgPSBuZXdDb3VudHMNCg0KICAgICAgICAtLSBWYWxpZGF0ZSB0aGUgZGlmZg0KICAgICAgICBkYXRhLmNvdW50c0FyZVZhbGlkID0gdmFsaWRhdGVEaWZmKGRpZmYsIGRhdGEuaXRlbUNvdW50cykgYW5kIChub3QgaXNSZWZpbGxpbmcoKSkNCg0KICAgICAgICAtLSBGaWx0ZXIgdGhlIGRpZmYgaW50byBsb290IGFuZCB3YXN0ZQ0KICAgICAgICBsb2NhbCBuZXdMb290ID0ge30NCiAgICAgICAgbG9jYWwgbmV3V2FzdGUgPSB7fQ0KICAgICAgICBmb3IgaWQsIGNvdW50IGluIHBhaXJzKGRpZmYpIGRvDQogICAgICAgICAgICBpZiBjb3VudCA+IDAgdGhlbiANCiAgICAgICAgICAgICAgICBuZXdMb290W2lkXSA9IGNvdW50DQogICAgICAgICAgICAtLSBEbyBub3QgYWNjZXB0IGNvdW50IGJhc2VkIHdhc3RlIG9mIGFjdGl2ZSBpdGVtcw0KICAgICAgICAgICAgZWxzZWlmIERhdGEuaXNTdXBwbHkoaWQpIHRoZW4NCiAgICAgICAgICAgICAgICBuZXdXYXN0ZVtpZF0gPSAwLWNvdW50DQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQoNCiAgICAgICAgLS0gQ2hlY2sgZm9yIGFjdGl2ZSBpdGVtcw0KICAgICAgICBsb2NhbCBzbG90cyA9IHtTZWxmLkhlYWQsIFNlbGYuQXJtb3IsIFNlbGYuTGVncywgU2VsZi5GZWV0LCBTZWxmLkFtdWxldCwgU2VsZi5XZWFwb24sIFNlbGYuUmluZywgU2VsZi5TaGllbGQsIFNlbGYuQW1tb30NCiAgICAgICAgZm9yIGkgPSAxLCAjc2xvdHMgZG8NCiAgICAgICAgICAgIGxvY2FsIHNsb3QgPSBzbG90c1tpXSgpDQogICAgICAgICAgICBsb2NhbCBwYXNzaXZlSUQgPSBEYXRhLnBhc3NpdmVJRHNbc2xvdC5pZF0NCiAgICAgICAgICAgIGlmIChwYXNzaXZlSUQgYW5kIERhdGEuZHVyYXRpb25zW3Bhc3NpdmVJRF0pIHRoZW4NCiAgICAgICAgICAgICAgICAtLSBUaGUgY291bnQgZm9yIGFuIGFjdGl2ZSBpdGVtIGlzIHRoZSB0aW1lIGl0IHdhcyBhY3RpdmUgZm9yDQogICAgICAgICAgICAgICAgbmV3V2FzdGVbcGFzc2l2ZUlEXSA9IG9zLnRpbWUoKSAtIGRhdGEuZ2VuZXJhbC5sYXN0VGljaw0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICBkYXRhLmdlbmVyYWwubGFzdFRpY2sgPSBvcy50aW1lKCkNCg0KICAgICAgICAtLSBTdG9yZSB0aGUgZmlsdGVyZWQgZGlmZnMNCiAgICAgICAgZGF0YS5uZXdMb290ID0gbmV3TG9vdA0KICAgICAgICBkYXRhLm5ld1dhc3RlID0gbmV3V2FzdGUNCiAgICBlbmQNCiAgICB0YWJsZS5pbnNlcnQodXBkYXRlRnVuY3Rpb25zLCB1cGRhdGVEaWZmcykNCg0KICAgIGRhdGEuZ2VuZXJhbC50b3RhbExvb3QgPSAwDQogICAgZGF0YS5nZW5lcmFsLnRvdGFsV2FzdGUgPSAwDQogICAgZGF0YS5nZW5lcmFsLnRvdGFsUHJvZml0ID0gMA0KICAgIGxvY2FsIGZ1bmN0aW9uIHVwZGF0ZVByb2ZpdHMoKQ0KICAgICAgICBpZiBkYXRhLmNvdW50c0FyZVZhbGlkIHRoZW4NCiAgICAgICAgICAgIGZvciBpZCwgbnVtIGluIHBhaXJzKGRhdGEubmV3TG9vdCkgZG8NCiAgICAgICAgICAgICAgICBkYXRhLmdlbmVyYWwudG90YWxMb290ID0gZGF0YS5nZW5lcmFsLnRvdGFsTG9vdCArIERhdGEuZ2V0VmFsdWUoaWQpICogbnVtDQogICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGZvciBpZCwgbnVtIGluIHBhaXJzKGRhdGEubmV3V2FzdGUpIGRvDQogICAgICAgICAgICAgICAgaWYgRGF0YS5kdXJhdGlvbnNbaWRdIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgZGF0YS5nZW5lcmFsLnRvdGFsV2FzdGUgPSBkYXRhLmdlbmVyYWwudG90YWxXYXN0ZSArIERhdGEuZ2V0Q29zdChpZCkgKiBudW0gLyBEYXRhLmR1cmF0aW9uc1tpZF0NCiAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgIGRhdGEuZ2VuZXJhbC50b3RhbFdhc3RlID0gZGF0YS5nZW5lcmFsLnRvdGFsV2FzdGUgKyBEYXRhLmdldENvc3QoaWQpICogbnVtDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGRhdGEuZ2VuZXJhbC50b3RhbFByb2ZpdCA9IGRhdGEuZ2VuZXJhbC50b3RhbExvb3QgLSBkYXRhLmdlbmVyYWwudG90YWxXYXN0ZQ0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICB0YWJsZS5pbnNlcnQodXBkYXRlRnVuY3Rpb25zLCB1cGRhdGVQcm9maXRzKQ0KDQogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlTGV2ZWwoKQ0KICAgICAgICBkYXRhLmdlbmVyYWwubGV2ZWwgPSBTZWxmLkxldmVsKCkNCiAgICBlbmQNCiAgICB0YWJsZS5pbnNlcnQodXBkYXRlRnVuY3Rpb25zLCB1cGRhdGVMZXZlbCkNCg0KICAgIGxvY2FsIGZ1bmN0aW9uIHVwZGF0ZUV4cCgpDQogICAgICAgIGRhdGEuZ2VuZXJhbC5nYWluZWRFeHAgPSBTZWxmLkV4cGVyaWVuY2UoKSAtIHN0YXJ0RXhwDQogICAgZW5kDQogICAgdGFibGUuaW5zZXJ0KHVwZGF0ZUZ1bmN0aW9ucywgdXBkYXRlRXhwKQ0KDQogICAgbG9jYWwgcHJldmlvdXNseSA9IG9zLnRpbWUoKQ0KICAgIGRhdGEuZ2VuZXJhbC51c2VkU2Vjb25kcyA9IDENCiAgICBkYXRhLmdlbmVyYWwudXNlZEhvdXJzID0gMA0KICAgIGxvY2FsIGZ1bmN0aW9uIHVwZGF0ZVRpbWUoKQ0KICAgICAgICBsb2NhbCBub3cgPSBvcy50aW1lKCkNCiAgICAgICAgbG9jYWwgZGlmZiA9IG5vdyAtIHByZXZpb3VzbHkNCiAgICAgICAgLS0gSWYgdGhlIHRpbWUgc2luY2UgdGhlIGxhc3QgdGljayB3YXMgdG9vIGxvbmcgd2UndmUgdmVyeSBsaWtlbHkgYmVlbiBvZmZsaW5lDQogICAgICAgIGlmIGRpZmYgPCAzMCB0aGVuDQogICAgICAgICAgICBkYXRhLmdlbmVyYWwudXNlZFNlY29uZHMgPSBkYXRhLmdlbmVyYWwudXNlZFNlY29uZHMgKyBkaWZmDQogICAgICAgICAgICBkYXRhLmdlbmVyYWwudXNlZEhvdXJzID0gZGF0YS5nZW5lcmFsLnVzZWRTZWNvbmRzIC8gMzYwMA0KICAgICAgICBlbmQNCiAgICAgICAgcHJldmlvdXNseSA9IG5vdw0KICAgIGVuZA0KICAgIHRhYmxlLmluc2VydCh1cGRhdGVGdW5jdGlvbnMsIHVwZGF0ZVRpbWUpDQoNCiAgICBsb2NhbCBwcmV2aW91c1N0YW1pbmEgPSBTZWxmLlN0YW1pbmEoKQ0KICAgIGRhdGEuZ2VuZXJhbC51c2VkU3RhbWluYU1pbnV0ZXMgPSAwDQogICAgZGF0YS5nZW5lcmFsLnVzZWRTdGFtaW5hSG91cnMgPSAwDQogICAgbG9jYWwgZnVuY3Rpb24gdXBkYXRlU3RhbWluYSgpDQogICAgICAgIGxvY2FsIGN1cnJlbnQgPSBTZWxmLlN0YW1pbmEoKQ0KICAgICAgICBkYXRhLmdlbmVyYWwuc3RhbWluYSA9IGN1cnJlbnQNCiAgICAgICAgbG9jYWwgZGlmZiA9IHByZXZpb3VzU3RhbWluYSAtIGN1cnJlbnQNCiAgICAgICAgLS0gU3RhbWluYSBjYW5ub3QgaW5jcmVhc2Ugd2hpbGUgd2UgYXJlIG9ubGluZSwgYW5kDQogICAgICAgIC0tIHdlIGRvbnQgd2FudCBiZWluZyBvZmZsYW5lIHRvIGNvcnJ1cHQgdGhlIHN0YXRzDQogICAgICAgIGlmIGRpZmYgPj0gMCB0aGVuDQogICAgICAgICAgICBkYXRhLmdlbmVyYWwudXNlZFN0YW1pbmFNaW51dGVzID0gZGF0YS5nZW5lcmFsLnVzZWRTdGFtaW5hTWludXRlcyArIGRpZmYNCiAgICAgICAgICAgIGRhdGEuZ2VuZXJhbC51c2VkU3RhbWluYUhvdXJzID0gZGF0YS5nZW5lcmFsLnVzZWRTdGFtaW5hTWludXRlcyAvIDYwDQogICAgICAgIGVuZA0KICAgICAgICBwcmV2aW91c1N0YW1pbmEgPSBjdXJyZW50DQogICAgZW5kDQogICAgdGFibGUuaW5zZXJ0KHVwZGF0ZUZ1bmN0aW9ucywgdXBkYXRlU3RhbWluYSkNCg0KICAgIGxvY2FsIGZ1bmN0aW9uIHVwZGF0ZVJhdGVzKCkNCiAgICAgICAgZGF0YS5nZW5lcmFsLmV4cFMgPSBkYXRhLmdlbmVyYWwuZ2FpbmVkRXhwIC8gZGF0YS5nZW5lcmFsLnVzZWRTZWNvbmRzDQogICAgICAgIGRhdGEuZ2VuZXJhbC5leHBIID0gZGF0YS5nZW5lcmFsLmdhaW5lZEV4cCAvIGRhdGEuZ2VuZXJhbC51c2VkSG91cnMNCiAgICAgICAgZGF0YS5nZW5lcmFsLmV4cFNIID0gZGF0YS5nZW5lcmFsLnVzZWRTdGFtaW5hSG91cnMgPCAwLjAxNyBhbmQgZGF0YS5nZW5lcmFsLmV4cEggb3IgZGF0YS5nZW5lcmFsLmdhaW5lZEV4cCAvIGRhdGEuZ2VuZXJhbC51c2VkU3RhbWluYUhvdXJzDQogICAgICAgIGRhdGEuZ2VuZXJhbC5wcm9maXRzSCA9IGRhdGEuZ2VuZXJhbC50b3RhbFByb2ZpdCAvIGRhdGEuZ2VuZXJhbC51c2VkSG91cnMNCiAgICAgICAgZGF0YS5nZW5lcmFsLnByb2ZpdHNTSCA9IGRhdGEuZ2VuZXJhbC51c2VkU3RhbWluYUhvdXJzIDwgMC4wMTcgYW5kIGRhdGEuZ2VuZXJhbC5wcm9maXRzSCBvciBkYXRhLmdlbmVyYWwudG90YWxQcm9maXQgLyBkYXRhLmdlbmVyYWwudXNlZFN0YW1pbmFIb3Vycw0KICAgIGVuZA0KICAgIHRhYmxlLmluc2VydCh1cGRhdGVGdW5jdGlvbnMsIHVwZGF0ZVJhdGVzKQ0KDQogICAgbG9jYWwgZnVuY3Rpb24gZXhwRm9yTGV2ZWwoeCkNCiAgICAgICAgcmV0dXJuIDUwLzMqKHgqeCp4IC0gNip4KnggKyAxNyp4IC0gMTIpDQogICAgZW5kDQoNCiAgICBsb2NhbCBmdW5jdGlvbiB1cGRhdGVUaW1lVG9MZXZlbCgpDQogICAgICAgIGxvY2FsIG5leHRMZXZlbEV4cCA9IGV4cEZvckxldmVsKFNlbGYuTGV2ZWwoKSArIDEpDQogICAgICAgIGxvY2FsIG1pc3NpbmdFeHAgPSBuZXh0TGV2ZWxFeHAgLSBTZWxmLkV4cGVyaWVuY2UoKQ0KICAgICAgICBkYXRhLmdlbmVyYWwudGltZVRvTGV2ZWwgPSBkYXRhLmdlbmVyYWwuZXhwUyA9PSAwIGFuZCAtMSBvciBtYXRoLmZsb29yKG1pc3NpbmdFeHAgLyBkYXRhLmdlbmVyYWwuZXhwUykNCiAgICBlbmQNCiAgICB0YWJsZS5pbnNlcnQodXBkYXRlRnVuY3Rpb25zLCB1cGRhdGVUaW1lVG9MZXZlbCkNCg0KICAgIGRhdGEuZ2VuZXJhbC5waW5nID0gMA0KICAgIGxvY2FsIGZ1bmN0aW9uIHVwZGF0ZVBpbmcoKQ0KICAgICAgICBkYXRhLmdlbmVyYWwucGluZyA9IFNlbGYuUGluZygpDQogICAgZW5kDQogICAgdGFibGUuaW5zZXJ0KHVwZGF0ZUZ1bmN0aW9ucywgdXBkYXRlUGluZykgICAgDQoNCiAgICBsb2NhbCBmdW5jdGlvbiBnZXRTdGF0cygpDQogICAgICAgIGZvciBfLCBmIGluIGlwYWlycyh1cGRhdGVGdW5jdGlvbnMpIGRvDQogICAgICAgICAgICBmKCkNCiAgICAgICAgZW5kDQogICAgICAgIHJldHVybiBkYXRhDQogICAgZW5kDQoNCiAgICByZXR1cm4gDQogICAgew0KICAgICAgICBnZXRTdGF0cyA9IGdldFN0YXRzLA0KICAgIH0NCmVuZCkoKQ0KDQpFdmVudHMgPSAoZnVuY3Rpb24oKQ0KDQogICAgbG9jYWwgdG9waWNzID0ge30NCg0KICAgIGxvY2FsIGZ1bmN0aW9uIHN1YnNjcmliZSh0b3BpYywgY2FsbGJhY2spDQogICAgICAgIGxvY2FsIHN1YnMgPSB0b3BpY3NbdG9waWNdIG9yIHt9DQogICAgICAgIHRhYmxlLmluc2VydChzdWJzLCBjYWxsYmFjaykNCiAgICAgICAgdG9waWNzW3RvcGljXSA9IHN1YnMNCiAgICBlbmQNCg0KICAgIGxvY2FsIGZ1bmN0aW9uIHB1Ymxpc2godG9waWMsIGRhdGEpDQogICAgICAgIGxvY2FsIHN1YnMgPSB0b3BpY3NbdG9waWNdIG9yIHt9DQogICAgICAgIGZvciBfLCBjYWxsYmFjayBpbiBpcGFpcnMoc3VicykgZG8NCiAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEpDQogICAgICAgIGVuZA0KICAgIGVuZA0KDQogICAgbG9jYWwgZnVuY3Rpb24ga2V5c2V0KHRhYikNCiAgICAgICAgbG9jYWwgc2V0ID0ge30NCiAgICAgICAgZm9yIGtleSwgXyBpbiBwYWlycyh0YWIpIGRvDQogICAgICAgICAgICB0YWJsZS5pbnNlcnQoc2V0LCBrZXkpDQogICAgICAgIGVuZA0KICAgICAgICByZXR1cm4gc2V0DQogICAgZW5kDQoNCiAgICBNb2R1bGUoIlVwZGF0ZSBIVUQiLCBmdW5jdGlvbihtb2R1bGUpDQogICAgICAgIGxvY2FsIHN0YXRzID0gSFVERGF0YS5nZXRTdGF0cygpDQoNCiAgICAgICAgLS0gTm90aWZ5IGdlbmVyYWwgc3Vic2NyaWJlcnMNCiAgICAgICAgcHVibGlzaCgiZ2VuZXJhbCIsIHN0YXRzLmdlbmVyYWwpDQoNCiAgICAgICAgLS0gT25seSBub3RpZnkgY291bnQgYmFzZWQgc3Vic2NyaWJlcnMgd2hlbiB0aGUgY291bnRzIGFyZSB2YWxpZA0KICAgICAgICBpZiBzdGF0cy5jb3VudHNBcmVWYWxpZCB0aGVuDQogICAgICAgICAgICAtLSBOb3RpZnkgYWJvdXQgbmV3IHBvc3NpYmxlIG5ldyBpZHMNCiAgICAgICAgICAgIGxvY2FsIG5ld0xvb3RJRHMgPSBrZXlzZXQoc3RhdHMubmV3TG9vdCkNCiAgICAgICAgICAgIHB1Ymxpc2goIm5ld0xvb3RJRHMiLCBuZXdMb290SURzKQ0KICAgICAgICAgICAgbG9jYWwgbmV3V2FzdGVJRHMgPSBrZXlzZXQoc3RhdHMubmV3V2FzdGUpDQogICAgICAgICAgICBwdWJsaXNoKCJuZXdXYXN0ZUlEcyIsIG5ld1dhc3RlSURzKQ0KDQogICAgICAgICAgICAtLSBOb3RpZnkgYWJvdXQgbmV3IGNvdW50cw0KICAgICAgICAgICAgZm9yIGlkLCBjb3VudCBpbiBwYWlycyhzdGF0cy5uZXdMb290KSBkbw0KICAgICAgICAgICAgICAgIHB1Ymxpc2goaWQsIGNvdW50KQ0KICAgICAgICAgICAgZW5kDQoNCiAgICAgICAgICAgIGZvciBpZCwgY291bnQgaW4gcGFpcnMoc3RhdHMubmV3V2FzdGUpIGRvDQogICAgICAgICAgICAgICAgcHVibGlzaChpZCArIEhpZGRlbkNvbmZpZy5XYXN0ZU1vZCwgY291bnQpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQoNCiAgICAgICAgbW9kdWxlOkRlbGF5KDEwMDApDQogICAgZW5kKQ0KDQogICAgLS0gTGV0IG1haW4gc2NyaXB0cyBzdG9wIHRoZSBIVUQgd2hlbiB0aGV5IGxvZ291dC4NCiAgICBTaWduYWwuT25SZWNlaXZlKCJTdG9wIEhVRCIsIGZ1bmN0aW9uKF8sIE1zZykNCiAgICAgICAgaWYgTXNnID09ICJTdG9wIiB0aGVuDQogICAgICAgICAgICBNb2R1bGUuU3RvcCgiVXBkYXRlIEhVRCIpDQogICAgICAgIGVuZA0KICAgIGVuZCkNCg0KICAgIHJldHVybiANCiAgICB7DQogICAgICAgIHB1Ymxpc2ggPSBwdWJsaXNoLA0KICAgICAgICBzdWJzY3JpYmUgPSBzdWJzY3JpYmUsDQogICAgfQ0KZW5kKSgpDQoNCg0KLS0gSFVEQ29udGFpbmVyIGlzIGFuIGFic3RyYWN0IHN1cGVyIGNsYXNzDQpIVURDb250YWluZXIgPSB7fQ0KSFVEQ29udGFpbmVyX210ID0ge19faW5kZXggPSBIVURDb250YWluZXJ9DQoNCmZ1bmN0aW9uIEhVRENvbnRhaW5lcjptb3ZlKG5ld3gsIG5ld3kpDQogICAgc2VsZi55ID0gbmV3eQ0KICAgIHNlbGYueCA9IG5ld3gNCiAgICBmb3IgaW5zZXQsIGh1ZCBpbiBwYWlycyhzZWxmLmh1ZHMpIGRvDQogICAgICAgIGh1ZDpTZXRQb3NpdGlvbihzZWxmLnggKyBpbnNldCwgc2VsZi55KQ0KICAgIGVuZA0KZW5kDQoNCmZ1bmN0aW9uIEhVRENvbnRhaW5lcjptb3ZlUmVsYXRpdmUoZGlmZngsIGRpZmZ5KQ0KICAgIHNlbGY6bW92ZShzZWxmLnggKyBkaWZmeCwgc2VsZi55ICsgZGlmZnkpDQplbmQNCg0KSGVhZGVySFVEQ29udGFpbmVyID0ge30NCkhlYWRlckhVRENvbnRhaW5lcl9tdCA9IHtfX2luZGV4ID0gSGVhZGVySFVEQ29udGFpbmVyfQ0KDQpmdW5jdGlvbiBIZWFkZXJIVURDb250YWluZXIubmV3KHRpdGxlLCBwYXJlbnQsIGluc2V0LCBzaWduYWxrZXkpDQogICAgbG9jYWwgYyA9IHt9DQogICAgc2V0bWV0YXRhYmxlKGMsIEhlYWRlckhVRENvbnRhaW5lcl9tdCkNCg0KICAgIGMueCA9IDANCiAgICBjLnkgPSAwIA0KICAgIGMuaGVpZ2h0ID0gSGlkZGVuQ29uZmlnLnlTdGFuZGFyZEhlaWdodA0KDQogICAgYy5odWRzID0ge30NCg0KICAgIGxvY2FsIGluc2V0ID0gaW5zZXQgb3IgSGlkZGVuQ29uZmlnLnhIZWFkZXJJbnNldA0KDQogICAgYy5oZWFkZXJIVUQgPSBIVUQuTmV3KGMueCArIGluc2V0LCBjLnksIHRpdGxlLCBIaWRkZW5Db25maWcuaGVhZGVyQ29sb3IuciwgSGlkZGVuQ29uZmlnLmhlYWRlckNvbG9yLmcsIEhpZGRlbkNvbmZpZy5oZWFkZXJDb2xvci5iKQ0KICAgIGMuaHVkc1tpbnNldF0gPSBjLmhlYWRlckhVRA0KDQogICAgcGFyZW50OmFkZENoaWxkKGMpDQogICAgaWYgc2lnbmFsa2V5IHRoZW4NCiAgICAgICAgU2lnbmFsLk9uUmVjZWl2ZShzaWduYWxrZXksIGZ1bmN0aW9uKF8sIG5hbWUpDQogICAgICAgICAgICBjLmhlYWRlckhVRDpTZXRUZXh0KG5hbWUpDQogICAgICAgIGVuZCkNCiAgICBlbmQNCg0KICAgIHJldHVybiBjDQplbmQNCg0Kc2V0bWV0YXRhYmxlKEhlYWRlckhVRENvbnRhaW5lciwgeyBfX2luZGV4ID0gSFVEQ29udGFpbmVyLCBfX2NhbGwgPSBmdW5jdGlvbihfLCAuLi4pIHJldHVybiBIZWFkZXJIVURDb250YWluZXIubmV3KC4uLikgZW5kIH0pDQoNClNjcmlwdE5hbWVIVURDb250YWluZXIgPSB7fQ0KU2NyaXB0TmFtZUhVRENvbnRhaW5lcl9tdCA9IHtfX2luZGV4ID0gU2NyaXB0TmFtZUhVRENvbnRhaW5lcn0NCg0KZnVuY3Rpb24gU2NyaXB0TmFtZUhVRENvbnRhaW5lci5uZXcodGl0bGUsIHBhcmVudCwgaW5zZXQsIHNpZ25hbGtleSwgdHJhbnNmb3JtZXIpDQogICAgbG9jYWwgYyA9IHt9DQogICAgc2V0bWV0YXRhYmxlKGMsIFNjcmlwdE5hbWVIVURDb250YWluZXJfbXQpDQoNCiAgICBjLmlkID0gLTEgLS0gVG8gYmUgc2V0IGJ5IHRoZSBwYXJlbnQNCiAgICBjLnggPSAwDQogICAgYy55ID0gMCANCiAgICBjLmhlaWdodCA9IDANCiAgICBjLnBhcmVudCA9IHBhcmVudA0KDQogICAgYy5odWRzID0ge30NCg0KICAgIGxvY2FsIGluc2V0ID0gaW5zZXQgb3IgSGlkZGVuQ29uZmlnLnhIZWFkZXJJbnNldA0KDQogICAgYy5oZWFkZXJIVUQgPSBIVUQuTmV3KGMueCArIGluc2V0LCBjLnksIHRpdGxlLCBIaWRkZW5Db25maWcua2V5Q29sb3IuciwgSGlkZGVuQ29uZmlnLmtleUNvbG9yLmcsIEhpZGRlbkNvbmZpZy5rZXlDb2xvci5iKQ0KICAgIGMuaHVkc1tpbnNldF0gPSBjLmhlYWRlckhVRA0KDQogICAgcGFyZW50OmFkZENoaWxkKGMpDQogICAgU2lnbmFsLk9uUmVjZWl2ZShzaWduYWxrZXksIGZ1bmN0aW9uKHNlbGYsIG5hbWUpDQogICAgICAgIGxvY2FsIG5hbWUgPSB0cmFuc2Zvcm1lciBhbmQgdHJhbnNmb3JtZXIobmFtZSkgb3IgbmFtZQ0KICAgICAgICBjLmhlYWRlckhVRDpTZXRUZXh0KG5hbWUpDQogICAgICAgIGxvY2FsIHNpemUgPSAzICogKG5hbWU6bGVuKCkgLSAzKSArIDEzDQogICAgICAgIGxvY2FsIGluc2V0ID0gOTUtc2l6ZQ0KICAgICAgICBjLmhlYWRlckhVRDpTZXRQb3NpdGlvbihjLnggKyBpbnNldCwgYy55KQ0KICAgICAgICBjOmdyb3coSGlkZGVuQ29uZmlnLnlTdGFuZGFyZEhlaWdodCkNCiAgICAgICAgc2VsZjpDbG9zZSgpDQogICAgZW5kKQ0KDQogICAgcmV0dXJuIGMNCmVuZA0KDQpmdW5jdGlvbiBTY3JpcHROYW1lSFVEQ29udGFpbmVyOmdyb3coZGlmZnkpDQogICAgc2VsZi5oZWlnaHQgPSBzZWxmLmhlaWdodCArIGRpZmZ5DQogICAgaWYgc2VsZi5wYXJlbnQgdGhlbg0KICAgICAgICBmb3IgaWQgPSBzZWxmLmlkICsgMSwgc2VsZi5wYXJlbnQubmV4dENoaWxkSUQgLSAxIGRvDQogICAgICAgICAgICBzZWxmLnBhcmVudC5jaGlsZHJlbltpZF06bW92ZVJlbGF0aXZlKDAsIGRpZmZ5KQ0KICAgICAgICBlbmQNCiAgICAgICAgc2VsZi5wYXJlbnQ6Z3JvdyhkaWZmeSkNCiAgICBlbmQNCmVuZA0KDQoNCnNldG1ldGF0YWJsZShTY3JpcHROYW1lSFVEQ29udGFpbmVyLCB7IF9faW5kZXggPSBIVURDb250YWluZXIsIF9fY2FsbCA9IGZ1bmN0aW9uKF8sIC4uLikgcmV0dXJuIFNjcmlwdE5hbWVIVURDb250YWluZXIubmV3KC4uLikgZW5kIH0pDQoNCkVtcHR5SFVEQ29udGFpbmVyID0ge30NCkVtcHR5SFVEQ29udGFpbmVyX210ID0ge19faW5kZXggPSBFbXB0eUhVRENvbnRhaW5lcn0NCg0KZnVuY3Rpb24gRW1wdHlIVURDb250YWluZXIubmV3KHBhcmVudCwgaGVpZ2h0KQ0KICAgIGxvY2FsIGMgPSB7fQ0KICAgIHNldG1ldGF0YWJsZShjLCBFbXB0eUhVRENvbnRhaW5lcl9tdCkNCg0KICAgIGMueCA9IDANCiAgICBjLnkgPSAwIA0KICAgIGMuaGVpZ2h0ID0gaGVpZ2h0IG9yIEhpZGRlbkNvbmZpZy55U3RhbmRhcmRIZWlnaHQNCg0KICAgIGMuaHVkcyA9IHt9DQoNCiAgICBwYXJlbnQ6YWRkQ2hpbGQoYykNCg0KICAgIHJldHVybiBjDQplbmQNCg0Kc2V0bWV0YXRhYmxlKEVtcHR5SFVEQ29udGFpbmVyLCB7IF9faW5kZXggPSBIVURDb250YWluZXIsIF9fY2FsbCA9IGZ1bmN0aW9uKF8sIC4uLikgcmV0dXJuIEVtcHR5SFVEQ29udGFpbmVyLm5ldyguLi4pIGVuZCB9KQ0KDQpLZXlWYWxIVURDb250YWluZXIgPSB7fQ0KS2V5VmFsSFVEQ29udGFpbmVyX210ID0ge19faW5kZXggPSBLZXlWYWxIVURDb250YWluZXJ9DQoNCmZ1bmN0aW9uIEtleVZhbEhVRENvbnRhaW5lci5uZXcoZGVzYywgcGFyZW50KQ0KICAgIGxvY2FsIGMgPSB7fQ0KICAgIHNldG1ldGF0YWJsZShjLCBLZXlWYWxIVURDb250YWluZXJfbXQpDQoNCiAgICBjLnggPSAwDQogICAgYy55ID0gMCANCiAgICBjLmhlaWdodCA9IEhpZGRlbkNvbmZpZy55U3RhbmRhcmRIZWlnaHQNCiAgICBjLmFjY3VtID0gMA0KDQogICAgYy5odWRzID0ge30NCg0KICAgIGMua2V5SFVEID0gSFVELk5ldyhjLnggLCBjLnksIGRlc2MsIEhpZGRlbkNvbmZpZy5rZXlDb2xvci5yLCBIaWRkZW5Db25maWcua2V5Q29sb3IuZywgSGlkZGVuQ29uZmlnLmtleUNvbG9yLmIpDQogICAgYy5odWRzWzBdID0gYy5rZXlIVUQNCiAgICBjLnZhbEhVRCA9IEhVRC5OZXcoYy54ICsgSGlkZGVuQ29uZmlnLnhEZXNjV2lkdGgsIGMueSwgIiIsIEhpZGRlbkNvbmZpZy52YWxDb2xvci5yLCBIaWRkZW5Db25maWcudmFsQ29sb3IuZywgSGlkZGVuQ29uZmlnLnZhbENvbG9yLmIpDQogICAgYy5odWRzW0hpZGRlbkNvbmZpZy54RGVzY1dpZHRoXSA9IGMudmFsSFVEDQoNCiAgICBwYXJlbnQ6YWRkQ2hpbGQoYykNCg0KICAgIHJldHVybiBjDQplbmQNCg0Kc2V0bWV0YXRhYmxlKEtleVZhbEhVRENvbnRhaW5lciwge19faW5kZXggPSBIVURDb250YWluZXIsIF9fY2FsbCA9IGZ1bmN0aW9uKF8sIC4uLikgcmV0dXJuIEtleVZhbEhVRENvbnRhaW5lci5uZXcoLi4uKSBlbmR9KQ0KDQpmdW5jdGlvbiBLZXlWYWxIVURDb250YWluZXI6c2V0VmFsVGV4dChuZXdUZXh0KQ0KICAgIHNlbGYudmFsSFVEOlNldFRleHQobmV3VGV4dCkNCmVuZA0KDQpmdW5jdGlvbiBLZXlWYWxIVURDb250YWluZXI6aW5jQWNjdW0odmFsKQ0KICAgIHNlbGYuYWNjdW0gPSBzZWxmLmFjY3VtICsgdmFsDQplbmQNCg0KZnVuY3Rpb24gS2V5VmFsSFVEQ29udGFpbmVyOmdldEFjY3VtKG5ld1RleHQpDQogICAgcmV0dXJuIHNlbGYuYWNjdW0NCmVuZA0KDQpDb250YWluZXJDb250YWluZXIgPSB7fQ0KQ29udGFpbmVyQ29udGFpbmVyX210ID0ge19faW5kZXggPSBDb250YWluZXJDb250YWluZXJ9DQoNCmZ1bmN0aW9uIENvbnRhaW5lckNvbnRhaW5lci5uZXcoeCwgeSwgcGFyZW50KQ0KICAgIGxvY2FsIGMgPSB7fQ0KICAgIHNldG1ldGF0YWJsZShjLCBDb250YWluZXJDb250YWluZXJfbXQpDQoNCiAgICBjLmlkID0gLTEgLS0gVG8gYmUgc2V0IGJ5IHRoZSBwYXJlbnQNCiAgICBjLnggPSB4DQogICAgYy55ID0geQ0KICAgIGMuaGVpZ2h0ID0gMA0KICAgIGMucGFyZW50ID0gcGFyZW50DQogICAgLS0gT25seSB1c2VkIGJ5IHRob3NlIGNvbnRhaW5lcnMgdGhhdCBjb250YWluIGl0ZW0gaHVkcw0KICAgIGMuY29udGFpbmVkSXRlbUlEcyA9IHt9DQoNCiAgICBjLmNoaWxkcmVuID0ge30NCiAgICBjLm5leHRDaGlsZElEID0gMQ0KDQogICAgaWYgcGFyZW50IHRoZW4NCiAgICAgICAgcGFyZW50OmFkZENoaWxkKGMpDQogICAgZW5kDQoNCiAgICByZXR1cm4gYw0KZW5kDQpzZXRtZXRhdGFibGUoQ29udGFpbmVyQ29udGFpbmVyLCB7X19jYWxsID0gZnVuY3Rpb24oXywgLi4uKSByZXR1cm4gQ29udGFpbmVyQ29udGFpbmVyLm5ldyguLi4pIGVuZH0pDQoNCmZ1bmN0aW9uIENvbnRhaW5lckNvbnRhaW5lcjphZGRDaGlsZChjaGlsZCkNCiAgICBjaGlsZC5pZCA9IHNlbGYubmV4dENoaWxkSUQNCiAgICBzZWxmLm5leHRDaGlsZElEID0gc2VsZi5uZXh0Q2hpbGRJRCArIDENCiAgICB0YWJsZS5pbnNlcnQoc2VsZi5jaGlsZHJlbiwgY2hpbGQpDQogICAgY2hpbGQ6bW92ZShzZWxmLngsIHNlbGYueSArIHNlbGYuaGVpZ2h0KQ0KICAgIHNlbGY6Z3JvdyhjaGlsZC5oZWlnaHQpDQplbmQNCg0KZnVuY3Rpb24gQ29udGFpbmVyQ29udGFpbmVyOmdyb3coZGlmZnkpDQogICAgc2VsZi5oZWlnaHQgPSBzZWxmLmhlaWdodCArIGRpZmZ5DQogICAgaWYgc2VsZi5wYXJlbnQgdGhlbg0KICAgICAgICBmb3IgaWQgPSBzZWxmLmlkICsgMSwgc2VsZi5wYXJlbnQubmV4dENoaWxkSUQgLSAxIGRvDQogICAgICAgICAgICBzZWxmLnBhcmVudC5jaGlsZHJlbltpZF06bW92ZVJlbGF0aXZlKDAsIGRpZmZ5KQ0KICAgICAgICBlbmQNCiAgICAgICAgc2VsZi5wYXJlbnQ6Z3JvdyhkaWZmeSkNCiAgICBlbmQNCmVuZA0KDQpmdW5jdGlvbiBDb250YWluZXJDb250YWluZXI6bW92ZVJlbGF0aXZlKHgsIHkpDQogICAgZm9yIF8sIGNoaWxkIGluIGlwYWlycyhzZWxmLmNoaWxkcmVuKSBkbw0KICAgICAgICBjaGlsZDptb3ZlUmVsYXRpdmUoeCwgeSkNCiAgICBlbmQNCiAgICBzZWxmLnggPSBzZWxmLnggKyB4DQogICAgc2VsZi55ID0gc2VsZi55ICsgeQ0KZW5kDQoNCmZ1bmN0aW9uIENvbnRhaW5lckNvbnRhaW5lcjptb3ZlKHgsIHkpDQogICAgbG9jYWwgZGlmZnggPSB4IC0gc2VsZi54DQogICAgbG9jYWwgZGlmZnkgPSB5IC0gc2VsZi55DQogICAgc2VsZjptb3ZlUmVsYXRpdmUoZGlmZngsIGRpZmZ5KQ0KZW5kDQoNCkl0ZW1IVURDb250YWluZXIgPSB7fQ0KSXRlbUhVRENvbnRhaW5lcl9tdCA9IHtfX2luZGV4ID0gSXRlbUhVRENvbnRhaW5lcn0NCg0KZnVuY3Rpb24gSXRlbUhVRENvbnRhaW5lci5uZXcoaWQsIHBhcmVudCwgZm9ybWF0RnVuYykNCiAgICBsb2NhbCBjID0ge30NCiAgICBzZXRtZXRhdGFibGUoYywgSXRlbUhVRENvbnRhaW5lcl9tdCkNCg0KICAgIGMuZm9ybWF0RnVuYyA9IGZvcm1hdEZ1bmMNCiAgICBjLnggPSAwDQogICAgYy55ID0gMA0KICAgIGMuaXRlbUlEID0gaWQNCiAgICBjLmhlaWdodCA9IEhpZGRlbkNvbmZpZy55U3RhbmRhcmRIZWlnaHQNCiAgICBjLmFjY3VtID0gMA0KDQogICAgYy5pbWFnZUhVRCA9IEhVRC5OZXcoYy54IC0gSGlkZGVuQ29uZmlnLnhJbWFnZU9mZnNldCwgYy55ICsgSGlkZGVuQ29uZmlnLnlJbWFnZU9mZnNldCwgaWQsIDAsIDAsIDApDQogICAgYy5pbWFnZUhVRDpTZXRJdGVtU2l6ZShIaWRkZW5Db25maWcuaW1hZ2VTaXplKQ0KICAgIGMua2V5SFVEID0gSFVELk5ldyhjLnggLCBjLnksIEl0ZW0uR2V0TmFtZShpZCksIEhpZGRlbkNvbmZpZy5rZXlDb2xvci5yLCBIaWRkZW5Db25maWcua2V5Q29sb3IuZywgSGlkZGVuQ29uZmlnLmtleUNvbG9yLmIpDQogICAgYy52YWxIVUQgPSBIVUQuTmV3KGMueCArIEhpZGRlbkNvbmZpZy54RGVzY1dpZHRoLCBjLnksICIiLCBIaWRkZW5Db25maWcudmFsQ29sb3IuciwgSGlkZGVuQ29uZmlnLnZhbENvbG9yLmcsIEhpZGRlbkNvbmZpZy52YWxDb2xvci5iKQ0KICAgIGM6YWRkQ291bnQoMCkNCiAgICBwYXJlbnQ6YWRkQ2hpbGQoYykNCg0KICAgIHJldHVybiBjDQplbmQNCg0Kc2V0bWV0YXRhYmxlKEl0ZW1IVURDb250YWluZXIsIHtfX2luZGV4ID0gSFVEQ29udGFpbmVyLCBfX2NhbGwgPSBmdW5jdGlvbihfLCAuLi4pIHJldHVybiBJdGVtSFVEQ29udGFpbmVyLm5ldyguLi4pIGVuZH0pDQoNCmZ1bmN0aW9uIEl0ZW1IVURDb250YWluZXI6YWRkQ291bnQobnVtKQ0KICAgIHNlbGYuYWNjdW0gPSBzZWxmLmFjY3VtICsgbnVtDQogICAgc2VsZi52YWxIVUQ6U2V0VGV4dChzZWxmLmZvcm1hdEZ1bmMoc2VsZi5pdGVtSUQsIHNlbGYuYWNjdW0pKQ0KZW5kDQoNCmZ1bmN0aW9uIEl0ZW1IVURDb250YWluZXI6bW92ZShuZXd4LCBuZXd5KQ0KICAgIHNlbGYueSA9IG5ld3kNCiAgICBzZWxmLnggPSBuZXd4DQogICAgc2VsZi5pbWFnZUhVRDpTZXRQb3NpdGlvbihzZWxmLnggKyBIaWRkZW5Db25maWcueEltYWdlT2Zmc2V0LCBzZWxmLnkgKyBIaWRkZW5Db25maWcueUltYWdlT2Zmc2V0KQ0KICAgIHNlbGYua2V5SFVEOlNldFBvc2l0aW9uKHNlbGYueCwgc2VsZi55KQ0KICAgIHNlbGYudmFsSFVEOlNldFBvc2l0aW9uKHNlbGYueCArIEhpZGRlbkNvbmZpZy54RGVzY1dpZHRoLCBzZWxmLnkpDQplbmQNCg0KZnVuY3Rpb24gSXRlbUhVRENvbnRhaW5lcjptb3ZlUmVsYXRpdmUoZGlmZngsIGRpZmZ5KQ0KICAgIHNlbGY6bW92ZShzZWxmLnggKyBkaWZmeCwgc2VsZi55ICsgZGlmZnkpDQplbmQNCg0KbG9jYWwgZnVuY3Rpb24gbG9vdEZvcm1hdEZ1bmMoaWQsIGNvdW50KQ0KICAgIHJldHVybiBzdHJpbmcuZm9ybWF0KCIlZCAoJWQgZ3ApIiwgY291bnQsIGNvdW50ICogRGF0YS5nZXRWYWx1ZShpZCkpDQplbmQNCg0KbG9jYWwgZnVuY3Rpb24gd2FzdGVGb3JtYXRGdW5jKGlkLCBjb3VudCkNCiAgICByZXR1cm4gc3RyaW5nLmZvcm1hdCgiJWQgKCVkIGdwKSIsIGNvdW50LCBjb3VudCAqIERhdGEuZ2V0Q29zdChpZCkpDQplbmQNCg0KbG9jYWwgZnVuY3Rpb24gYWN0aXZlV2FzdGVGb3JtYXRGdW5jKGlkLCBjb3VudCkNCiAgICBsb2NhbCBob3VyID0gbWF0aC5mbG9vcihjb3VudCAvIDM2MDApDQogICAgbG9jYWwgbWluID0gbWF0aC5mbG9vcigoY291bnQgLyA2MCkgJSA2MCkNCiAgICBsb2NhbCBzZWMgPSBtYXRoLmZsb29yKGNvdW50ICUgNjApDQogICAgcmV0dXJuIHN0cmluZy5mb3JtYXQoIiUwMi5mOiUwMi5mOiUwMi5mICglZCBncCkiLCBob3VyLCBtaW4sIHNlYywgY291bnQgKiBEYXRhLmdldENvc3QoaWQpIC8gRGF0YS5kdXJhdGlvbnNbaWRdKQ0KZW5kDQoNCmZ1bmN0aW9uIExvb3RJdGVtSFVEQ29udGFpbmVyKGlkLCBwYXJlbnQpDQogICAgbG9jYWwgYyA9IEl0ZW1IVURDb250YWluZXIoaWQsIHBhcmVudCwgbG9vdEZvcm1hdEZ1bmMpDQogICAgRXZlbnRzLnN1YnNjcmliZShpZCwgZnVuY3Rpb24oZGlmZikNCiAgICAgICAgYzphZGRDb3VudChkaWZmKQ0KICAgIGVuZCkNCiAgICByZXR1cm4gYw0KZW5kDQoNCmZ1bmN0aW9uIFdhc3RlSXRlbUhVRENvbnRhaW5lcihpZCwgcGFyZW50KQ0KICAgIGxvY2FsIGMgPSBJdGVtSFVEQ29udGFpbmVyKGlkLCBwYXJlbnQsIHdhc3RlRm9ybWF0RnVuYykNCiAgICBFdmVudHMuc3Vic2NyaWJlKGlkICsgSGlkZGVuQ29uZmlnLldhc3RlTW9kLCBmdW5jdGlvbihkaWZmKQ0KICAgICAgICBjOmFkZENvdW50KGRpZmYpDQogICAgZW5kKQ0KICAgIHJldHVybiBjDQplbmQNCg0KZnVuY3Rpb24gQWN0aXZlV2FzdGVJdGVtSFVEQ29udGFpbmVyKGlkLCBwYXJlbnQpDQogICAgbG9jYWwgYyA9IEl0ZW1IVURDb250YWluZXIoaWQsIHBhcmVudCwgYWN0aXZlV2FzdGVGb3JtYXRGdW5jKQ0KICAgIEV2ZW50cy5zdWJzY3JpYmUoaWQgKyBIaWRkZW5Db25maWcuV2FzdGVNb2QsIGZ1bmN0aW9uKGRpZmYpDQogICAgICAgIGM6YWRkQ291bnQoZGlmZikNCiAgICBlbmQpDQogICAgcmV0dXJuIGMNCmVuZA0KDQpDb25maWcubG9hZENvbmZpZygpDQoNCmxvY2FsIGZ1bmN0aW9uIGZvcm1hdEdhaW4odG90YWwpDQogICAgaWYgdG90YWwgPiAxZSs2IHRoZW4NCiAgICAgICAgcmV0dXJuIHN0cmluZy5mb3JtYXQoIiUuMDFma2siLCB0b3RhbC8xZSs2KQ0KICAgIGVsc2VpZiB0b3RhbCA+IDFlKzMgdGhlbg0KICAgICAgICByZXR1cm4gc3RyaW5nLmZvcm1hdCgiJS4wMWZrIiwgdG90YWwvMWUrMykNCiAgICBlbHNlDQogICAgICAgIHJldHVybiB0b3N0cmluZyhtYXRoLmZsb29yKHRvdGFsKSkNCiAgICBlbmQNCmVuZA0KDQpsb2NhbCBmdW5jdGlvbiBsZWZ0WChzY3JlZW4pDQogICAgcmV0dXJuIG1hdGgubWF4KG1hdGguZmxvb3IoKHNjcmVlbi5nYW1ld2luZG93eCAtIEhpZGRlbkNvbmZpZy5wYW5lbFdpZHRoKSAvIDIpLCAxMCkNCmVuZA0KDQpsb2NhbCBmdW5jdGlvbiByaWdodFgoc2NyZWVuKQ0KICAgIGxvY2FsIHhSaWdodEJhc2UgPSBzY3JlZW4uZ2FtZXdpbmRvd3ggKyBzY3JlZW4uZ2FtZXdpbmRvd3cNCiAgICByZXR1cm4gbWF0aC5mbG9vcigoc2NyZWVuLmVxd2luZG93eCAtIEhpZGRlbkNvbmZpZy5wYW5lbFdpZHRoIC0geFJpZ2h0QmFzZSkpICsgeFJpZ2h0QmFzZQ0KZW5kDQoNCmxvY2FsIHNjcmVlbiA9IEhVRC5HZXRNYWluV2luZG93RGltZW5zaW9ucygpDQpsb2NhbCBsZWZ0eCA9IGxlZnRYKHNjcmVlbikNCmxvY2FsIHJpZ2h0eCA9IHJpZ2h0WChzY3JlZW4pDQoNCi0tIENyZWF0ZSB0aGUgbGVmdCBjb2x1bW4gb2YgdGhlIEhVRA0KbG9jYWwgbGVmdENvbHVtbiA9IENvbnRhaW5lckNvbnRhaW5lcihsZWZ0eCwgSGlkZGVuQ29uZmlnLnlJbnNldCkNCmxvY2FsIHRpdGxlID0gSGVhZGVySFVEQ29udGFpbmVyKCJ8RnVsbCBBRkt8IH4gYnkgSGVsbCd1IH4tPiB3d3cuU2tyeXB0eVhlbm8ucGwiLCBsZWZ0Q29sdW1uLCBIaWRkZW5Db25maWcueFRpdGxlSW5zZXQpDQpsb2NhbCBzY3JpcHQgPSBTY3JpcHROYW1lSFVEQ29udGFpbmVyKCIiLCBsZWZ0Q29sdW1uLCAwLCAic2NyaXB0IG5hbWUiKQ0KbG9jYWwgc2NyaXB0ID0gU2NyaXB0TmFtZUhVRENvbnRhaW5lcigiIiwgbGVmdENvbHVtbiwgMCwgInNjcmlwdCBhdXRob3IiLCBmdW5jdGlvbihhdXRob3IpDQogICAgcmV0dXJuICJieSAiIC4uIGF1dGhvcg0KZW5kKQ0KDQotLSBHZW5lcmFsIHN0YXRpc3RpY3MNCmxvY2FsIHBpbmcgPSBLZXlWYWxIVURDb250YWluZXIoInwgUGluZzoiLCBsZWZ0Q29sdW1uKQ0KRXZlbnRzLnN1YnNjcmliZSgiZ2VuZXJhbCIsIGZ1bmN0aW9uKGdlbmVyYWwpDQogICAgcGluZzpzZXRWYWxUZXh0KGdlbmVyYWwucGluZyAuLiAiIG1zIikNCmVuZCkNCg0KbG9jYWwgbGV2ZWwgPSBLZXlWYWxIVURDb250YWluZXIoInwgTGV2ZWw6IiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KICAgIGxldmVsOnNldFZhbFRleHQodG9zdHJpbmcoZ2VuZXJhbC5sZXZlbCkpDQplbmQpDQoNCmxvY2FsIHN0YW1pbmEgPSBLZXlWYWxIVURDb250YWluZXIoInwgU3RhbWluYToiLCBsZWZ0Q29sdW1uKQ0KRXZlbnRzLnN1YnNjcmliZSgiZ2VuZXJhbCIsIGZ1bmN0aW9uKGdlbmVyYWwpDQogICAgbG9jYWwgdG90YWxTdGFtaW5hID0gZ2VuZXJhbC5zdGFtaW5hDQogICAgbG9jYWwgc3RhbWluYUggPSBtYXRoLmZsb29yKHRvdGFsU3RhbWluYS82MCkNCiAgICBsb2NhbCBzdGFtaW5hTSA9IHRvdGFsU3RhbWluYSAlIDYwDQogICAgc3RhbWluYTpzZXRWYWxUZXh0KHN0cmluZy5mb3JtYXQoIiUwMi5mOiUwMi5mIiwgc3RhbWluYUgsIHN0YW1pbmFNKSkNCmVuZCkNCg0KbG9jYWwgc2Vzc2lvbiA9IEtleVZhbEhVRENvbnRhaW5lcigifCBTZXNzaW9uIExlbmd0aDoiLCBsZWZ0Q29sdW1uKQ0KRXZlbnRzLnN1YnNjcmliZSgiZ2VuZXJhbCIsIGZ1bmN0aW9uKGdlbmVyYWwpDQogICAgbG9jYWwgdG90YWxTZWNvbmRzID0gZ2VuZXJhbC51c2VkU2Vjb25kcw0KICAgIGxvY2FsIHNlY29uZHMgPSBtYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAlIDYwKQ0KICAgIGxvY2FsIG1pbnV0ZXMgPSBtYXRoLmZsb29yKHRvdGFsU2Vjb25kcy82MCAlIDYwKQ0KICAgIGxvY2FsIGhvdXJzID0gbWF0aC5mbG9vcih0b3RhbFNlY29uZHMvMzYwMCkNCiAgICBsb2NhbCBmb3JtYXR0ZWQgPSBzdHJpbmcuZm9ybWF0KCIlMDIuZjolMDIuZjolMDIuZiIsIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzKQ0KICAgIHNlc3Npb246c2V0VmFsVGV4dChmb3JtYXR0ZWQpDQplbmQpDQoNCmxvY2FsIGJhbmtCYWxhbmNlID0gS2V5VmFsSFVEQ29udGFpbmVyKCJ8IEJhbGFuY2U6IiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KICAgIGJhbmtCYWxhbmNlOnNldFZhbFRleHQoc3RyaW5nLmZvcm1hdCgiJXMgZ3AiLCBmb3JtYXRHYWluKGdlbmVyYWwuYmFsYW5jZSkpKQ0KZW5kKQ0KDQpsb2NhbCB0aW1lVG9MZXZlbCA9IEtleVZhbEhVRENvbnRhaW5lcigifCBUaW1lIHRvIGxldmVsOiIsIGxlZnRDb2x1bW4pDQpFdmVudHMuc3Vic2NyaWJlKCJnZW5lcmFsIiwgZnVuY3Rpb24oZ2VuZXJhbCkNCiAgICBsb2NhbCB0b3RhbFNlY29uZHMgPSBnZW5lcmFsLnRpbWVUb0xldmVsDQogICAgbG9jYWwgbWludXRlcyA9IG1hdGguZmxvb3IodG90YWxTZWNvbmRzLzYwICUgNjApDQogICAgbG9jYWwgaG91cnMgPSBtYXRoLmZsb29yKHRvdGFsU2Vjb25kcy8zNjAwKQ0KICAgIGxvY2FsIGZvcm1hdHRlZCA9IChzdHJpbmcuZm9ybWF0KCIlMDIuZjolMDIuZiIsIGhvdXJzLCBtaW51dGVzKSkNCiAgICB0aW1lVG9MZXZlbDpzZXRWYWxUZXh0KHRvdGFsU2Vjb25kcyA9PSAtMSBhbmQgIi0tIiBvciBmb3JtYXR0ZWQpDQplbmQpDQoNCi0tIEV4cCBnYWluDQpFbXB0eUhVRENvbnRhaW5lcihsZWZ0Q29sdW1uKQ0KbG9jYWwgZXhwUGVySCA9IEtleVZhbEhVRENvbnRhaW5lcigifCBFeHA6IiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KICAgIGxvY2FsIGV4cEhLID0gZ2VuZXJhbC5leHBIIC8gMTAwMA0KICAgIGV4cFBlckg6c2V0VmFsVGV4dChzdHJpbmcuZm9ybWF0KCIlLjAxZiBrL2giLCBleHBISykpDQplbmQpDQpsb2NhbCBleHBQZXJTSCA9IEtleVZhbEhVRENvbnRhaW5lcigiIiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KICAgIGxvY2FsIGV4cFNISyA9IGdlbmVyYWwuZXhwU0ggLyAxMDAwDQogICAgZXhwUGVyU0g6c2V0VmFsVGV4dChzdHJpbmcuZm9ybWF0KCIlLjAxZiBrL3NoIiwgZXhwU0hLKSkNCmVuZCkNCg0KLS0gUHJvZml0IGdhaW4NCkVtcHR5SFVEQ29udGFpbmVyKGxlZnRDb2x1bW4pDQpsb2NhbCBwcm9maXRzUGVySCA9IEtleVZhbEhVRENvbnRhaW5lcigifCBQcm9maXQgJCA6IiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KICAgIGxvY2FsIHByb2ZpdHNISyA9IGdlbmVyYWwucHJvZml0c0ggLyAxMDAwDQogICAgcHJvZml0c1Blckg6c2V0VmFsVGV4dChzdHJpbmcuZm9ybWF0KCIlLjAxZiBrL2giLCBwcm9maXRzSEspKQ0KZW5kKQ0KbG9jYWwgcHJvZml0c1BlclNIID0gS2V5VmFsSFVEQ29udGFpbmVyKCIiLCBsZWZ0Q29sdW1uKQ0KRXZlbnRzLnN1YnNjcmliZSgiZ2VuZXJhbCIsIGZ1bmN0aW9uKGdlbmVyYWwpDQogICAgbG9jYWwgcHJvZml0c1NISyA9IGdlbmVyYWwucHJvZml0c1NIIC8gMTAwMA0KICAgIHByb2ZpdHNQZXJTSDpzZXRWYWxUZXh0KHN0cmluZy5mb3JtYXQoIiUuMDFmIGsvc2giLCBwcm9maXRzU0hLKSkNCmVuZCkNCg0KLS0gVG90YWxzDQpFbXB0eUhVRENvbnRhaW5lcihsZWZ0Q29sdW1uKQ0KbG9jYWwgZXhwVG90YWwgPSBLZXlWYWxIVURDb250YWluZXIoInwgVG90YWw6IiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKSANCiAgICBleHBUb3RhbDpzZXRWYWxUZXh0KHN0cmluZy5mb3JtYXQoIiVzIGV4cCIsIGZvcm1hdEdhaW4oZ2VuZXJhbC5nYWluZWRFeHApKSkNCmVuZCkNCmxvY2FsIHByb2ZpdHNUb3RhbCA9IEtleVZhbEhVRENvbnRhaW5lcigiIiwgbGVmdENvbHVtbikNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KICAgIHByb2ZpdHNUb3RhbDpzZXRWYWxUZXh0KHN0cmluZy5mb3JtYXQoIiVzIGdwIiwgZm9ybWF0R2FpbihnZW5lcmFsLnRvdGFsUHJvZml0KSkpDQplbmQpDQoNCi0tIFJpZ2h0IENvbHVtbg0KbG9jYWwgcmlnaHRDb2x1bW4gPSBDb250YWluZXJDb250YWluZXIocmlnaHR4LCBIaWRkZW5Db25maWcueUluc2V0KQ0KbG9jYWwgbG9vdCA9IENvbnRhaW5lckNvbnRhaW5lcigwLCAwLCByaWdodENvbHVtbikNCmxvY2FsIHdhc3RlID0gQ29udGFpbmVyQ29udGFpbmVyKDAsIDAsIHJpZ2h0Q29sdW1uKQ0KDQotLSBXYXN0ZQ0KRW1wdHlIVURDb250YWluZXIod2FzdGUpDQpsb2NhbCB3YXN0ZUhlYWRlciA9IEhlYWRlckhVRENvbnRhaW5lcigiV0FTVEUiLCB3YXN0ZSkNCkVtcHR5SFVEQ29udGFpbmVyKHdhc3RlLCAxMCkNCg0KbG9jYWwgd2FzdGVQYXJ0cyA9IENvbnRhaW5lckNvbnRhaW5lcigwLCAwLCB3YXN0ZSkNCkV2ZW50cy5zdWJzY3JpYmUoIm5ld1dhc3RlSURzIiwgZnVuY3Rpb24obmV3aWRzKQ0KICAgIGZvciBfLCBpZCBpbiBpcGFpcnMobmV3aWRzKSBkbw0KICAgICAgICBpZiBub3Qgd2FzdGVQYXJ0cy5jb250YWluZWRJdGVtSURzW2lkXSB0aGVuDQogICAgICAgICAgICBpZiBEYXRhLmR1cmF0aW9uc1tpZF0gdGhlbg0KICAgICAgICAgICAgICAgIEFjdGl2ZVdhc3RlSXRlbUhVRENvbnRhaW5lcihpZCwgd2FzdGVQYXJ0cykNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICBXYXN0ZUl0ZW1IVURDb250YWluZXIoaWQsIHdhc3RlUGFydHMpDQogICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIHdhc3RlUGFydHMuY29udGFpbmVkSXRlbUlEc1tpZF0gPSB0cnVlDQogICAgICAgIGVuZA0KICAgIGVuZA0KZW5kKQ0KDQpsb2NhbCB3YXN0ZVN1bSA9IENvbnRhaW5lckNvbnRhaW5lcigwLCAwLCB3YXN0ZSkNCkVtcHR5SFVEQ29udGFpbmVyKHdhc3RlU3VtKQ0KbG9jYWwgdG90YWxXYXN0ZSA9IEtleVZhbEhVRENvbnRhaW5lcigifCBXYXN0ZWQ6Iiwgd2FzdGVTdW0pDQpFdmVudHMuc3Vic2NyaWJlKCJnZW5lcmFsIiwgZnVuY3Rpb24oZ2VuZXJhbCkNCiAgICB0b3RhbFdhc3RlOnNldFZhbFRleHQoc3RyaW5nLmZvcm1hdCgiJWQgZ3AiLCBnZW5lcmFsLnRvdGFsV2FzdGUpKQ0KZW5kKQ0KDQotLSBMb290DQpsb2NhbCBsb290SGVhZGVyID0gSGVhZGVySFVEQ29udGFpbmVyKCJ8IExPT1QgfCIsIGxvb3QpDQpFbXB0eUhVRENvbnRhaW5lcih3YXN0ZSwgMTApDQoNCmxvY2FsIGxvb3RQYXJ0cyA9IENvbnRhaW5lckNvbnRhaW5lcigwLCAwLCBsb290KQ0KRXZlbnRzLnN1YnNjcmliZSgibmV3TG9vdElEcyIsIGZ1bmN0aW9uKG5ld2lkcykNCiAgICBmb3IgXywgaWQgaW4gaXBhaXJzKG5ld2lkcykgZG8NCiAgICAgICAgaWYgbm90IGxvb3RQYXJ0cy5jb250YWluZWRJdGVtSURzW2lkXSB0aGVuDQogICAgICAgICAgICBMb290SXRlbUhVRENvbnRhaW5lcihpZCwgbG9vdFBhcnRzKQ0KICAgICAgICAgICAgbG9vdFBhcnRzLmNvbnRhaW5lZEl0ZW1JRHNbaWRdID0gdHJ1ZQ0KICAgICAgICBlbmQNCiAgICBlbmQNCmVuZCkNCg0KbG9jYWwgbG9vdFN1bSA9IENvbnRhaW5lckNvbnRhaW5lcigwLCAwLCBsb290KQ0KRW1wdHlIVURDb250YWluZXIobG9vdFN1bSkNCmxvY2FsIHRvdGFsTG9vdCA9IEtleVZhbEhVRENvbnRhaW5lcigifCBFYXJuZWQ6IiwgbG9vdFN1bSkNCkV2ZW50cy5zdWJzY3JpYmUoImdlbmVyYWwiLCBmdW5jdGlvbihnZW5lcmFsKQ0KDQogICAgdG90YWxMb290OnNldFZhbFRleHQoc3RyaW5nLmZvcm1hdCgiJWQgZ3AiLCBnZW5lcmFsLnRvdGFsTG9vdCkpDQplbmQpDQoNCg0KTW9kdWxlKCJSZXNpemVyIiwgZnVuY3Rpb24obW9kdWxlKQ0KICAgIGxvY2FsIG5ld1NjcmVlbiA9IEhVRC5HZXRNYWluV2luZG93RGltZW5zaW9ucygpDQoNCiAgICBsb2NhbCBuZXdMZWZ0eCA9IGxlZnRYKG5ld1NjcmVlbikNCiAgICBpZiBuZXdMZWZ0eCB+PSBsZWZ0eCB0aGVuDQogICAgICAgIGxlZnR4ID0gbmV3TGVmdHgNCiAgICAgICAgbGVmdENvbHVtbjptb3ZlKGxlZnR4LCBIaWRkZW5Db25maWcueUluc2V0KQ0KICAgIGVuZA0KDQogICAgbG9jYWwgbmV3UmlnaHR4ID0gcmlnaHRYKG5ld1NjcmVlbikNCiAgICBpZiBuZXdSaWdodHggfj0gcmlnaHR4IHRoZW4NCiAgICAgICAgcmlnaHR4ID0gbmV3UmlnaHR4DQogICAgICAgIHJpZ2h0Q29sdW1uOm1vdmUocmlnaHR4LCBIaWRkZW5Db25maWcueUluc2V0KQ0KICAgIGVuZA0KDQogICAgbW9kdWxlOkRlbGF5KDEwMDApDQplbmQp]]></script>
		<script name="larvaLAG.lua"><![CDATA[LS0tLS0tLS0tLS0tLSBbUkVGSUxMIFNFVFRJTkdTXSAtLS0tLS0NCmxvY2FsIExlYXZlTWFuYSA9IDEwMCAtLS0gTWluaW1vIGRlIG1hbmEgTGVhdmUgaHVudA0KbG9jYWwgQnV5TWFuYSA9IDMwMCAtLS0gTWF4aW1vIGRlIG1hbmEgY29tcHJhcg0KDQpsb2NhbCBCdXlNYW5hYSA9IDAgLS0tIFF1YW50YXMgY29tcHJhciBwb8Onw7VlcyBwYXJhIHRyZWluYXIgTSBMVkwgcXVhbmRvIGV4cD8NCmxvY2FsIExlYXZlTWFuYWEgPSAwIC0tIERvbnQgQ2hhbmdlDQoNCmxvY2FsIExlYXZlU0QgPSAyMCAtLVF1YW50b3MgU0RzIHBhcmEgUkVGSUw/DQpsb2NhbCBCdXlTRCA9IDIwMCAtLS0gUXVhbnRvcyBTRCdzIGNvbXByYW0gYW50ZXMgZGEgZXhwPw0KDQpsb2NhbCBMZWF2ZUhlYWx0aCA9IDEwMCAtLUhvdyBtYW55IEFWQSB0byBSRUZJTGwgPz8NCmxvY2FsIEJ1eUhlYWx0aCA9IDYwMCAtLS0gSG93IG1hbnkgQVZBIEJ1eSBiZWZvcmUgZXhwPw0KDQpsb2NhbCBMZWF2ZUNhcCA9IDcwIC0tLSBDYXAgdG8gUkVGSUxMDQpsb2NhbCBIaWRlRXF1aXBtZW50ID0gdHJ1ZSAtLS0gRGVzZWphIG1pbmltaXphciBzZXUgZXF1aXBhbWVudG8/DQpsb2NhbCBMb2dvdXRTdGFtaW5hID0gZmFsc2UgLS0tIERlc2VqYSBzYWlyIMOgcyAxNiBob3Jhcz8gKERlbnRybyBkbyBkZXDDs3NpdG8pDQoNCmxvY2FsIHNlbGxpbmdfaXRlbnMgPSB0cnVlIC0tIERlc2VqYSB2ZW5kZXIgaXRlbnMgcGFyYSBvIG5wYz8NCmxvY2FsIGRlcG9zaXRfY2MgPSBmYWxzZSAtLSBEZXNlamEgZGVwb3NpdGFyIGNjIG5vIGRlcMOzc2l0bz8gU2Ugdm9jw6ogdGl2ZXIgZGluaGVpcm8gbm8gYmFuY28gcGFyYSBjb21wcmFyIHBvdGVzIHVzZSB0cnVlLCBzZSBuw6NvIHVzZSBmYWxzZQ0KDQotLSBUcmVtIE1sdmwgKEV4dXJhIGUgdXRhbmEpIHF1YW5kbyBFWFA/IHJlY29tZW5kYWRvOiB0cnVlDQpsb2NhbCB0cmFpbl9tbHZsID0gdHJ1ZSAtLSBUcmVpbmFtZW50byBtbHZsIHF1YW5kbyBleHA/DQpsb2NhbCBVc2VTdW1tb24gPSBmYWxzZSAtLSBVc2UgU3VtbW9uIHF1YW5kbyBleHA/DQpsb2NhbCB1c2VCYWNrcGFja3MgPSBmYWxzZSAtLSBVc2UgbW9jaGlsYXMgb3UgcXVpY2tsb290PyBTZSBvIHF1aWNrbG9vdCBhYnJpciBvIExvb3QgQmFnIHBhcmEgZGVwb3NpdGFyIGl0ZW5zIGF1dG9tYXRpY2FtZW50ZS4NCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gW05hbWVzIG9yIElEIG9mIHBvdGlvbnMgdG8gdXNlXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLS0tLS0tLS0tLS0tLS0tLS0tLShJZiB1IGNoYW5nZSBjaGFuZ2UgaXQgaW4gc3VwcG9ydCBoZWFsaW5nIHRvbyktLS0tLS0tLS0tLS0tDQoNCmxvY2FsIE1hbmFOYW1lZSA9ICJncmVhdCBtYW5hIFBvdGlvbiIgIC0tIE5vbWVzIGRlIHBvw6fDtWVzIHBhcmEgY29tcHJhciBubyB0cmFpbmVyIG1sIGx2bCBxdWFuZG8gZXhwLg0KbG9jYWwgTWFuYU5hbWUgPSAiZ3JlYXQgbWFuYSBQb3Rpb24iICAtLSBOb21lcyBkZSBNYW5hIGEgc2VyZW0gdXNhZG9zIGFww7NzIHBvw6fDtWVzIGRlIG1sIGx2bA0KbG9jYWwgSGVhbHRoTmFtZSA9ICJhdmFsYW5jaGUgcnVuZSIgLS0gTm9tZXMgZGUgcnVuYXMgcGFyYSBjb21wcmFyIGVtIGV4cA0KbG9jYWwgU0ROYW1lID0gInN1ZGRlbiBkZWF0aCBydW5lIiAtLSBOb21lcyBkZSBydW5hcyBwYXJhIGNvbXByYXIgZW0gZXhwDQpsb2NhbCBNYW5hQ29zdCA9IDEyMA0KbG9jYWwgU0Rjb3N0ID0gMTA4DQpsb2NhbCBIZWFsdGhDb3N0ID0gNDUNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQmFja3BhY2sgQ29uZmlndXJhdGlvbjotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tIChPbiBHdW56b2R1cyBSZWNvbW1lbmRlZCBRdWljayBMb290LikNCg0KbG9jYWwgTG9vdEJQID0gInJlZCBCYWNrcGFjayIgLS0gQmFja3BhY2sgZm9yIGxvb3QgcmVjb21tZW5kZWQgNCsNCmxvY2FsIE5vU3RhY2tCUCA9ICJvcmFuZ2UgQmFja3BhY2siIC0tIEJhY2twYWNrIGZvciBub3N0YWNrIGl0ZW1zIHJlY29tbWVuZGVkIDIrDQpsb2NhbCBHb2xkQlAgPSAiQmx1ZSBCYWNrcGFjayIgLS0gQmFja3BhY2sgZm9yIGdvbGQgcmVjb21tZW5kZWQgMQ0KbG9jYWwgQW1tb0JQID0gImdvbGRlbiBCYWNrcGFjayIgLS0gQmFja3BhY2sgZm9yIFJvZHMgYW5kIGxlZ3MgZnJvbSBydXN0eSByZWNvbW1lbmRlZCA1Kw0KbG9jYWwgU3VwcEJQID0gImJyb2NhZGUgQmFja3BhY2siIC0tIEJhY2twYWNrIGZvciBzdXBwcyByZWNvbW1lbmRlZCAxDQotLSMjIElmIFlvdSBXYW5uYSB1c2UgQmFja3BhY2sgdSBtdXNlIGFkZCBsYWJlbDogUmVzZXRCcHMgaW4gd2F5cG9pbnRzIGFmdGVyIFNlbGwgSXRlbXMgIyMtLQ0KDQoNCi0tIE5hbWVzIG9mIEl0ZW1zIHRvIFNlbGwgaW4gTlBDIGF0IEZleXJpc3QgRGVwbw0KbG9jYWwgaXRlbXNUb1NlbGwgPSB7J2RhbmRlbGlvbiBzZWVkJywgJ3dpbGQgZmxvd2VycycsICdyYWluYm93IHF1YXJ0eicsICdzdW1tZXIgZHJlc3MnLCAnY29sb3VyZnVsIHNuYWlsIHNoZWxsJywgJ3NtYWxsIHRvcGF6JywgJ3NtYWxsIGVuY2hhbnRlZCBydWJ5JywgJ29wYWwnLCAnc2hpbW1lcmluZyBiZWV0bGVzJywgJ3dvb2RlbiBzcGVsbGJvb2snfQ0KIA0KDQotLSBETyBOT0QgRURJVCBOT1RISU5HIEJFTE9XIFRISVMgTElORSEgLS0NCi0tIERPIE5PRCBFRElUIE5PVEhJTkcgQkVMT1cgVEhJUyBMSU5FISAtLQ0KLS0gRE8gTk9EIEVESVQgTk9USElORyBCRUxPVyBUSElTIExJTkUhIC0tDQoNCmxvY2FsIEFtbW9OYW1lID0gImluZmVybmFsIGJvbHQiCS0tLSBXaGF0IGFtbXVuaXRpb24gYXJlIHlvdSB1c2luZz8NCmxvY2FsIExlYXZlQW1tbyA9IDIwIC0tLSBIb3cgbXVjaCBhbW11bml0aW9uIHVudGlsIHlvdSBsZWF2ZSBodW50Pw0KbG9jYWwgQnV5QW1tbyA9IDkwMCAtLS0gSG93IG11Y2ggYW1tdW5pdGlvbiBkbyB5b3UgYmVnaW4gdGhlIGh1bnQgd2l0aD8NCg0KbG9jYWwgTWFuYUlEID0gSXRlbS5HZXRJRChNYW5hTmFtZSkNCmxvY2FsIEhlYWx0aElEID0gSXRlbS5HZXRJRChIZWFsdGhOYW1lKQ0KbG9jYWwgU0RJRCA9IEl0ZW0uR2V0SUQoU0ROYW1lKQ0KDQpsb2NhbCBJdGVtSUQgPSAxNjAgLS0gaXRlbSB0byB1c2Ugb24NCmxvY2FsIEl0ZW1Ub1VzZSA9IDMwMzIgLS0gSXRlbSBUbyBVc2UNCg0KDQpyZWdpc3RlckV2ZW50TGlzdGVuZXIoV0FMS0VSX1NFTEVDVExBQkVMLCAib25XYWxrZXJTZWxlY3RMYWJlbCIpDQoNCmZ1bmN0aW9uIG9uV2Fsa2VyU2VsZWN0TGFiZWwobGFiZWxOYW1lKQ0KCWlmIChsYWJlbE5hbWUgPT0gIlN0YXJ0TG9vdCIpIHRoZW4NCgkJc2V0Qm90RW5hYmxlZCh0cnVlKQ0KCQlodW50ID0gdHJ1ZQ0KCQlpZiBIaWRlRXF1aXBtZW50IHRoZW4NCgkJQ2xpZW50LkhpZGVFcXVpcG1lbnQoKQ0KCQllbmQNCgkJcHJpbnQoIkV4cCBTdGFydGVkXG4kIEVhcm4gTmljZSBQcm9maXQgJCIpDQoJDQoNCgllbHNlaWYgKGxhYmVsTmFtZSA9PSAiRGVwb3NpdEdvbGQiKSB0aGVuDQoJCS0tIERlcG9zaXQgR29sZCwgY2hlY2sgYmFsYW5jZS4NCgkJV2Fsa2VyLlN0b3AoKQ0KCQlTZWxmLlNheVRvTnBjKHsiaGkiLCAiZGVwb3NpdCBhbGwiLCAieWVzIn0sIDEwMCkNCg0KCQlsb2NhbCB3aXRoZHJhd01hbmFzID0gbWF0aC5tYXgoQnV5TWFuYSAtIFNlbGYuSXRlbUNvdW50KE1hbmFJRCksIDApKk1hbmFDb3N0DQoJCWxvY2FsIHdpdGhkcmF3SGVhbHRocyA9IG1hdGgubWF4KEJ1eUhlYWx0aCAtIFNlbGYuSXRlbUNvdW50KEhlYWx0aElEKSwgMCkqSGVhbHRoQ29zdA0KCQlsb2NhbCB3aXRoZHJhd1NEID0gbWF0aC5tYXgoQnV5U0QgLSBTZWxmLkl0ZW1Db3VudChTRElEKSwgMCkqU0Rjb3N0DQoJCWxvY2FsIHRvdGFsID0gbWF0aC5hYnMod2l0aGRyYXdNYW5hcyArIHdpdGhkcmF3SGVhbHRocysgd2l0aGRyYXdTRCkNCg0KCQlpZiB0b3RhbCA+PSAxIHRoZW4NCgkJCVNlbGYuU2F5VG9OcGMoeyJ3aXRoZHJhdyAiIC4uIHRvdGFsLCAieWVzIiwgImJhbGFuY2UifSwgMTAwKQ0KCQllbmQNCgkJV2Fsa2VyLlN0YXJ0KCkNCgllbHNlaWYgKGxhYmVsTmFtZSA9PSAiR29Hb3JvbWEiKSB0aGVuDQoJCVNlbGYuU2F5VG9OcGMoeyJoaSIsICJnb3JvbWEiLCAieWVzIiwgInllcyJ9LCAxMDApDQoJCQ0KCWVsc2VpZiAobGFiZWxOYW1lID09ICJHb0xpYmVydHkiKSB0aGVuDQoJCVNlbGYuU2F5VG9OcGMoeyJoaSIsICJsaWJlcnR5IGJheSIsICJ5ZXMiLCAieWVzIn0sIDEwMCkNCgkJDQoJZWxzZWlmIChsYWJlbE5hbWUgPT0gIkRlcG9zaXRJdGVtcyIpIHRoZW4NCgkJLS0gRGVwb3NpdCBJdGVtcw0KCQlXYWxrZXIuU3RvcCgpDQoJCXByaW50KCJbRGVwb3NpdGluZyBJdGVtc10iKQ0KCQlTZWxmLkRlcG9zaXRJdGVtcyh7ODExLCA1fSwgezczODYsIDV9LCB7ODE0LCA1fSwgezM0MzYsIDV9LCB7NzQxMywgNX0sIHszMzcwLCA1fSwgezMwMjksIDZ9LCB7MTAzMTMsIDZ9LCB7OTY5NCwgNn0sIHszMDMyLCA2fSwgezc2NDMsIDd9KQ0KCQlpZiBkZXBvc2l0X2NjID09IHRydWUgdGhlbg0KCQlTZWxmLkRlcG9zaXRJdGVtcyh7MzA0MywgNX0pDQoJCWVuZA0KCQlXYWxrZXIuU3RhcnQoKQ0KDQogICAgZWxzZWlmIChsYWJlbE5hbWUgPT0gJ1NlbGxJdGVtcycpIHRoZW4NCglpZiBzZWxsaW5nX2l0ZW5zID09IHRydWUgdGhlbg0KICAgICAgICBpZiAoU2VsZi5JdGVtQ291bnQoaXRlbXNUb1NlbGxbaV0pKSB0aGVuDQogICAgICAgICAgICBXYWxrZXIuU3RvcCgpDQoJCQlwcmludCgnW1NlbGxpbmcgSVRFTVNdJykNCiAgICAgICAgICAgIFNlbGYuU2F5VG9OcGMoeydoaScsICd0cmFkZSd9LCA2NSkNCiAgICAgICAgICAgIHdhaXQoU2VsZi5QaW5nKCkgKyA0MCwgU2VsZi5QaW5nKCkgKyA3MCkNCiAgICAgICAgICAgIGZvciBpID0gMSwgI2l0ZW1zVG9TZWxsIGRvDQogICAgICAgICAgICAgICAgd2FpdCgxNTAsIDIwMCkNCiAgICAgICAgICAgICAgICBTZWxmLlNob3BTZWxsQWxsSXRlbXMoaXRlbXNUb1NlbGxbaV0pDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgV2Fsa2VyLlN0YXJ0KCkNCgllbmQNCgkJDQoJZWxzZWlmIChsYWJlbE5hbWUgPT0gIk90d29yekRyendpIikgdGhlbg0KCVdhbGtlci5TdG9wKCkNCglTZWxmLlVzZURvb3IoMzEzOTYsMzI1NDQsNykNCgl3YWl0KDUwMCkNCglXYWxrZXIuU3RhcnQoKQ0KDQoJCQ0KIC0tIENPTVBSQSBPUyBQT1RTIFFVRSBFU1RBIERFRklOSURPIExBIEVNIENJTUEuDQoJICAgIGVsc2VpZiAobGFiZWxOYW1lID09ICJCdXlNYW5hcyIpIHRoZW4NCgkgICAgcHJpbnQoW1tDT01QUkFORE8gUE9Ucy4uLl1dKQ0KCQlXYWxrZXIuU3RvcCgpDQoJCXdhaXQoNTAwLDEwMDApDQoJICAgIFNlbGYuU2F5VG9OcGMoeyJIaSIsICJWaWFsIiwgInllcyIsICJ0cmFkZSJ9LCA4MCkNCgkgICAgd2FpdCg1MDAsMTAwMCkNCgkgICAgU2VsZi5JdGVtQ291bnQoTWFuYUlELCBCdXlNYW5hKQ0KCQlTZWxmLlNob3BCdXlJdGVtc1VwVG8oTWFuYUlELCBCdXlNYW5hKQ0KCSAgICB3YWl0KDUwMCwxMDAwKQ0KICAgICAgICBTZWxmLkl0ZW1Db3VudChIZWFsdGhJRCwgQnV5SGVhbHRoKQ0KCQlTZWxmLlNob3BCdXlJdGVtc1VwVG8oSGVhbHRoSUQsIEJ1eUhlYWx0aCkNCiAgICAgICAgd2FpdCg1MDAsMTAwMCkNCgkJU2VsZi5JdGVtQ291bnQoU0RJRCwgQnV5U0QpDQoJCVNlbGYuU2hvcEJ1eUl0ZW1zVXBUbyhTRElELCBCdXlTRCkNCiAgICAgICAgd2FpdCg1MDAsMTAwMCkNCgkJV2Fsa2VyLlN0YXJ0KCkJDQoJCQ0KCQkNCgllbHNlaWYgKGxhYmVsTmFtZSA9PSAiQ2hlY2siKSB0aGVuDQoJCS0tIFNwcmF3ZHogcG90eQ0KCQlpZiBIaWRlRXF1aXBtZW50IHRoZW4NCgkJQ2xpZW50LkhpZGVFcXVpcG1lbnQoKQ0KCQllbmQNCgkJV2Fsa2VyLlN0b3AoKQ0KCQlpZiAoU2VsZi5JdGVtQ291bnQoTWFuYUlEKSA8IExlYXZlTWFuYSkgb3IgKFNlbGYuQ2FwKCkgPD0gTGVhdmVDYXApIG9yIChTZWxmLkl0ZW1Db3VudChIZWFsdGhJRCkgPCBMZWF2ZUhlYWx0aCkgdGhlbg0KCQkJcHJpbnQoIltSZWZpbGxdIikNCgkJCXdhaXQoNTAwKQ0KCQkJV2Fsa2VyLkdvdG8oIld5Y2hvZHppIikNCgkJCXNldEJvdEVuYWJsZWQoZmFsc2UpDQoJCQlodW50ID0gZmFsc2UNCgkJZW5kDQoJCXdhaXQoMjUwKQ0KCQlwcmludCgiJCBNb3JlIEZVTEwgQUZLJ3MgJFxud3d3LlNrcnlwdHlYZW5vLnBsIikNCgkJV2Fsa2VyLlN0YXJ0KCkNCg0KCWVsc2VpZiAobGFiZWxOYW1lID09ICJDaGVjazIiKSB0aGVuDQoJCS0tIFNwcmF3ZHogcG90eQ0KCQlXYWxrZXIuU3RvcCgpDQoJCWlmIChTZWxmLkl0ZW1Db3VudChNYW5hSUQpID4gTGVhdmVNYW5hKSBhbmQgKFNlbGYuQ2FwKCkgPiBMZWF2ZUNhcCkgYW5kIChTZWxmLkl0ZW1Db3VudChIZWFsdGhJRCkgPiBMZWF2ZUhlYWx0aCkgdGhlbg0KCQkJcHJpbnQoIltTdXBwcyBPa2V5LCBDb250aW51ZV0iKQ0KCQkJd2FpdCg1MDApDQoJCQlXYWxrZXIuR290bygiRW50ZXJSZXNwIikNCgkJZW5kDQoJCWlmIChTZWxmLkl0ZW1Db3VudChNYW5hSUQpIDwgTGVhdmVNYW5hKSBvciAoU2VsZi5DYXAoKSA8PSBMZWF2ZUNhcCkgb3IgKFNlbGYuSXRlbUNvdW50KEhlYWx0aElEKSA8IExlYXZlSGVhbHRoKSB0aGVuDQoJCQlwcmludCgiW1JlZmlsbF0iKQ0KCQkJd2FpdCg1MDApDQoJCQlXYWxrZXIuR290bygiV3ljaG9kemkiKQ0KCQkJc2V0Qm90RW5hYmxlZChmYWxzZSkNCgkJCWh1bnQgPSBmYWxzZQ0KCQllbmQNCgkJd2FpdCgyNTApDQoJCVdhbGtlci5TdGFydCgpDQoNCgkJCQkNCgllbHNlaWYgKGxhYmVsTmFtZSA9PSAiRW50ZXJSZXNwIikgdGhlbg0KCQlzZXRCb3RFbmFibGVkKHRydWUpDQoJCWh1bnQgPSB0cnVlDQoJCWlmIEhpZGVFcXVpcG1lbnQgdGhlbg0KCQlDbGllbnQuSGlkZUVxdWlwbWVudCgpDQoJCWVuZA0KCQlwcmludCgiRXhwIFN0YXJ0ZWRcbiQgRWFybiBOaWNlIFByb2ZpdCAkIikNCgkNCgllbHNlaWYgKGxhYmVsTmFtZSA9PSAiU3RhcnQiKSB0aGVuDQoJCWlmIEhpZGVFcXVpcG1lbnQgdGhlbg0KCQlDbGllbnQuSGlkZUVxdWlwbWVudCgpDQoJCWVuZA0KCQlwcmludCgiRnVsbCBBRksgYnkgTGFnemVyYSA8LSIpDQoJCQ0KCWVsc2VpZiAobGFiZWxOYW1lID09ICJXY2hvZHppV0R6aW9yZSIpIHRoZW4NCgkJV2Fsa2VyLlN0b3AoKQ0KCQl3YWl0KDIwMCkNCgkJU2VsZi5TdGVwKE5PUlRIKQ0KCQl3YWl0KDEwMCkNCgkJV2Fsa2VyLlN0YXJ0KCkNCg0KLS0gUmVzZXRhciBCYWNrcGFjayAoQ29sb2NhciBzZW1wcmUgZGVwb2lzIGRvIGJhbmspCQ0KCWVsc2VpZiAobGFiZWxOYW1lID09ICJSZXNldEJwcyIpIHRoZW4NCgkJV2Fsa2VyLlN0b3AoKQ0KCQlwcmludChbW1Jlc2V0YW5kbyBCYWNrcGFja3MuLi5dXSkNCgkJd2FpdCgxMDAwLDIwMDApDQoJCVNlbGYuQ2xvc2VDb250YWluZXJzKCkNCgkJd2FpdCgyMDAwLDMwMDApDQoJCVNlbGYuT3Blbk1haW5CYWNrcGFjayh0cnVlKTpPcGVuQ2hpbGRyZW4oe0l0ZW0uR2V0SUQoR29sZEJQKSwgdHJ1ZX0sIHtJdGVtLkdldElEKExvb3RCUCksIHRydWV9LCB7SXRlbS5HZXRJRChQb3RzQlApLCB0cnVlfSkNCgkJd2FpdCgyMDAwLDMwMDApDQoJCVdhbGtlci5TdGFydCgpCQ0KCQkNCmVuZA0KZW5kDQoNClNlbGYuUmVhY2hEZXBvdCA9IGZ1bmN0aW9uICh0cmllcykNCglsb2NhbCB0cmllcyA9IHRyaWVzIG9yIDMNCglXYWxrZXIuU3RvcCgpDQoJbG9jYWwgRGVwb3RJRHMgPSB7MzQ5NywgMzQ5OCwgMzQ5OSwgMzUwMH0NCglsb2NhbCBEZXBvdFBvcyA9IHt9DQoJZm9yIGkgPSAxLCAjRGVwb3RJRHMgZG8NCgkJbG9jYWwgZHBzID0gTWFwLkdldFVzZUl0ZW1zKERlcG90SURzW2ldKQ0KCQlmb3IgaiA9IDEsICNkcHMgZG8NCgkJCXRhYmxlLmluc2VydChEZXBvdFBvcywgZHBzW2pdKQ0KCQllbmQNCgllbmQNCglsb2NhbCBmdW5jdGlvbiBnb3RvRGVwb3QoKQ0KCQlsb2NhbCBwb3MgPSBTZWxmLlBvc2l0aW9uKCkNCgkJcHJpbnQoIkQgW2Vwb3RzIGZvdW5kOiAiIC4uIHRvc3RyaW5nKCNEZXBvdFBvcykgLi4gIi4iKQ0KCQlmb3IgaSA9IDEsICNEZXBvdFBvcyBkbw0KCQkJbG9jYXRpb24gPSBEZXBvdFBvc1tpXQ0KCQkJU2VsZi5Vc2VJdGVtRnJvbUdyb3VuZChsb2NhdGlvbi54LCBsb2NhdGlvbi55LCBsb2NhdGlvbi56KQ0KCQkJd2FpdCgxMDAwLCAyMDAwKQ0KCQkJaWYgU2VsZi5EaXN0YW5jZUZyb21Qb3NpdGlvbihwb3MueCwgcG9zLnksIHBvcy56KSA+PSAxIHRoZW4NCgkJCQl3YWl0KDUwMDAsIDYwMDApDQoJCQkJaWYgU2VsZi5EaXN0YW5jZUZyb21Qb3NpdGlvbihsb2NhdGlvbi54LCBsb2NhdGlvbi55LCBsb2NhdGlvbi56KSA9PSAxIHRoZW4NCgkJCQkJV2Fsa2VyLlN0YXJ0KCkNCgkJCQkJcmV0dXJuIHRydWUNCgkJCQllbmQNCgkJCWVsc2UNCgkJCQlwcmludCgiIFsgVHJ5IEFnYWluLi4gXSAiKQ0KCQkJZW5kDQoJCWVuZA0KCQlyZXR1cm4gZmFsc2UNCgllbmQNCgkNCglyZXBlYXQNCgkJcmVhY2hlZERQID0gZ290b0RlcG90KCkNCgkJaWYgcmVhY2hlZERQIHRoZW4NCgkJCXJldHVybiB0cnVlDQoJCWVuZA0KCQl0cmllcyA9IHRyaWVzIC0gMQ0KCQlzbGVlcCgxMDApDQoJCXByaW50KCJbIE9wZW4gRGVwb3QgRmFpbGVkICIgLi4gdHJpZXMgLi4gIiB0cmllcyBsZWZ0Li4gXSIpDQoJdW50aWwgdHJpZXMgPD0gMA0KDQoJcmV0dXJuIGZhbHNlDQplbmQNCg0KTWFwLkdldFVzZUl0ZW1zID0gZnVuY3Rpb24gKGlkKQ0KICAgIGlmIHR5cGUoaWQpID09ICJzdHJpbmciIHRoZW4NCiAgICAgICAgaWQgPSBJdGVtLkdldElEKGlkKQ0KICAgIGVuZA0KICAgIGxvY2FsIHBvcyA9IFNlbGYuUG9zaXRpb24oKQ0KICAgIGxvY2FsIHN0b3JlID0ge30NCiAgICBmb3IgeCA9IC03LCA3IGRvDQogICAgICAgIGZvciB5ID0gLTUsIDUgZG8NCiAgICAgICAgICAgIGlmIE1hcC5HZXRUb3BVc2VJdGVtKHBvcy54ICsgeCwgcG9zLnkgKyB5LCBwb3MueikuaWQgPT0gaWQgdGhlbg0KICAgICAgICAgICAgICAgIGl0ZW1Qb3MgPSB7eCA9IHBvcy54ICsgeCwgeSA9IHBvcy55ICsgeSwgeiA9IHBvcy56fQ0KICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChzdG9yZSwgaXRlbVBvcykNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICByZXR1cm4gc3RvcmUNCmVuZA0KDQpsb2NhbCBwb3Rpb24gPSBNYW5hTmFtZSAtLSBub21lIGRhIHBvw6fDo28NCmxvY2FsIGJwID0gU3VwcEJQIC0tICBjb250YWluZXIgd2hlcmUgdSB3YW50IHB1dCBhbGwgcG90aW9ucw0KbG9jYWwgcG90aW9ucyA9IEhlYWx0aE5hbWUNCi0tLS0tLS0tLS0tLS0tLS0tLS0tDQotLSAgICAgRW5naW5lICAgICAtLQ0KLS0tLS0tLS0tLS0tLS0tLS0tLS0NCk1vZHVsZS5OZXcoJ1Nob3ZlLXBvdHMnLCBmdW5jdGlvbihtb2QpDQogICAgZm9yIGkgPSAwLCAjQ29udGFpbmVyLkdldEFsbCgpIGRvICAgLS0gbGV0J3MgZmluZCBicHMNCiAgICAgICAgc2VhcmNoID0gQ29udGFpbmVyLk5ldyhpKQ0KICAgICAgICBjb250ID0gQ29udGFpbmVyLk5ldyhicCkNCiAgICAgICAgZm9yIHNwb3QgPSAwLCBjb250Okl0ZW1Db3VudCgpIGRvDQogICAgICAgICAgICBsb2NhbCBpdGVtID0gc2VhcmNoOkdldEl0ZW1EYXRhKHNwb3QpDQogICAgICAgICAgICBpZiBjb250OmlzT3BlbigpIGFuZCBzZWFyY2g6TmFtZSgpIH49IGNvbnQ6TmFtZSgpIHRoZW4NCiAgICAgICAgICAgICAgICBpZiAoaXRlbS5pZCA9PSBJdGVtLkdldElEKHBvdGlvbikgb3IgaXRlbS5pZCA9PSBJdGVtLkdldElEKHBvdGlvbnMpKSBhbmQgbm90IGNvbnQ6aXNGdWxsKCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBzZWFyY2g6TW92ZUl0ZW1Ub0NvbnRhaW5lcihzcG90LCBjb250OkluZGV4KCksIDAsIDEwMCkgIC0tIGp1c3Qgc2hvdmUgdG8gc2VsZWN0ZWQgYnANCiAgICAgICAgICAgICAgICBlbmQNCgkJCQlpZiAoaXRlbS5pZCA9PSBJdGVtLkdldElEKHBvdGlvbnMpKSBhbmQgbm90IGNvbnQ6aXNGdWxsKCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBzZWFyY2g6TW92ZUl0ZW1Ub0NvbnRhaW5lcihzcG90LCBjb250OkluZGV4KCksIDAsIDEwMCkgIC0tIGp1c3Qgc2hvdmUgdG8gc2VsZWN0ZWQgYnANCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICBpZiBjb250OmlzT3BlbigpIGFuZCAoY29udDpDb3VudEl0ZW1zT2ZJRChJdGVtLkdldElEKHBvdGlvbikpID09IDApIG9yIChjb250OkNvdW50SXRlbXNPZklEKEl0ZW0uR2V0SUQocG90aW9ucykpID09IDApdGhlbiAgIC0tIGNoZWNrLCB0aGF0IGJwIG5vIGNvbnRhaW5zIHBvdGlvbnMsDQogICAgICAgIGZvciBzcG90ID0gMCwgY29udDpJdGVtQ291bnQoKSBkbw0KICAgICAgICAgICAgbG9jYWwgYnBuZXh0ID0gY29udDpHZXRJdGVtRGF0YShzcG90KQ0KICAgICAgICAgICAgaWYgKGJwbmV4dC5pZCA9PSBJdGVtLkdldElEKGJwKSkgYW5kIGNvbnQ6aXNPcGVuKCkgdGhlbg0KICAgICAgICAgICAgICAgIGNvbnQ6VXNlSXRlbShzcG90LCB0cnVlKSAgICAtLSBvcGVuIG5leHQgYnAgd2l0aCBwb3Rpb25zDQogICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQogICAgbW9kOkRlbGF5KDMwMCwgMTIwMCkgLS0gdGltZSBiZXR3ZWVuIGFjdGlvbnMgaW4gbWlsaXNlY29uZHMvcmVtb3ZlIGlmIGl0cyBPVFMNCmVuZCkNCg0KDQpNb2R1bGUuTmV3KCdvcGVuTmV4dEJhY2twYWNrJywgZnVuY3Rpb24obSkNCmlmIGh1bnQgPT0gdHJ1ZSB0aGVuDQogICAgZm9yIGMgPSAwLCAjQ29udGFpbmVyLkdldEFsbCgpLTEgZG8NCiAgICAgICAgY29udCA9IENvbnRhaW5lci5OZXcoYykNCiAgICAgICAgaWYgKGNvbnQ6RW1wdHlTbG90cygpID09IDAgYW5kIEl0ZW0uaXNDb250YWluZXIoY29udDpHZXRJdGVtRGF0YShjb250Okl0ZW1DYXBhY2l0eSgpLTEpLmlkKSkgdGhlbg0KICAgICAgICAgICAgY29udDpVc2VJdGVtKGNvbnQ6SXRlbUNhcGFjaXR5KCktMSwgdHJ1ZSkNCiAgICAgICAgICAgIHByaW50KCJbIE9wZW4gTmV4dCBCYWNrcGFjayBpbiBzbG90OiAgIiAuLiBjIC4uICIuIF0iKQ0KICAgICAgICBlbmQNCiAgICBlbmQNCiAgICBtOkRlbGF5KDUwMDApDQplbmQNCmVuZCkNCg0KdXRhbmFWaWRUaW1lID0gb3MuY2xvY2soKQ0KZXh1cmFWaXRhVGltZSA9IG9zLmNsb2NrKCkNCiANCk1vZHVsZS5OZXcoIkNhc3QgU3BlbGxzIiwgZnVuY3Rpb24oKQ0KaWYgKFNlbGYuSXRlbUNvdW50KE1hbmFJREQpID4gTGVhdmVNYW5hYSkgYW5kIGh1bnQgPT0gdHJ1ZSBhbmQgdHJhaW5fbWx2bCA9PSB0cnVlIHRoZW4NCiAgICBpZiAob3MuY2xvY2soKSAtIHV0YW5hVmlkVGltZSA+PSBtYXRoLnJhbmRvbSgzLjUwLCAzLjU1KSkgdGhlbg0KICAgICAgICBpZiAoU2VsZi5NYW5hKCkgPj0gNDQwKSB0aGVuDQogICAgICAgICAgICBTZWxmLlNheSgidXRhbmEgdmlkIikNCiAgICAgICAgZW5kDQogICAgICAgIHV0YW5hVmlkVGltZSA9IG9zLmNsb2NrKCkNCiAgICBlbmQNCiAgICBpZiAob3MuY2xvY2soKSAtIGV4dXJhVml0YVRpbWUgPj0gbWF0aC5yYW5kb20oMy42MCwgMy42NikpIHRoZW4NCiAgICAgICAgaWYgKFNlbGYuTWFuYSgpID49IDE2MCkgdGhlbg0KICAgICAgICAgICAgU2VsZi5TYXkoImV4dXJhIHZpdGEiKQ0KICAgICAgICBlbmQNCiAgICAgICAgZXh1cmFWaXRhVGltZSA9IG9zLmNsb2NrKCkNCiAgICBlbmQNCmVuZA0KZW5kKQ0KDQpNb2R1bGUuTmV3KCdvcGVuTmV4dEJhY2twYWNrZScsIGZ1bmN0aW9uKFNwYW0pDQppZiBodW50ID09IHRydWUgYW5kIFVzZVN1bW1vbiA9PSB0cnVlIHRoZW4NClNlbGYuU2F5KCd1dGV2byBncmFuIHJlcyB2ZW4nKQ0Kd2FpdCgzNTApDQpTZWxmLlNheSgndXRldm8gZ3JhbiByZXMgZHJ1JykNCmVuZA0KU3BhbTpEZWxheSgxMDAwICogODApDQplbmQNCik=]]></script>
		<script name="Ava&SdBlueBP.lua"><![CDATA[DQ0KTWFuYVBvdGlvbiA9ICJBdmFsYW5jaGUgcnVuZSINCkdyZWF0SGVhbHRoUG90aW9uID0gInN1ZGRlbiBkZWF0aCBydW5lIg0KDQoNClN1cHBsaWVzQ29udGFpbmVyID0gImJsdWUgYmFja3BhY2siDQogIA0KLS1bWyBETyBOT1QgRURJVCBBTllUSElORyBCRUxPVyBUSElTIExJTkUgXV0tLQ0KDQpNYW5hSUQgPSBJdGVtLkdldElEKE1hbmFQb3Rpb24pDQpHcmVhdEhlYWx0aElEID0gSXRlbS5HZXRJRChHcmVhdEhlYWx0aFBvdGlvbikNCiAgDQogIA0KTW9kdWxlKCdTdGFja0FtbW8nLCBmdW5jdGlvbihtb2QpDQogICAgaWYgKCNDb250YWluZXIuR2V0QWxsKCkgPj0gMSkgdGhlbg0KICAgICAgICBpZiAoQ29udGFpbmVyKDApOkNvdW50SXRlbXNPZklEKE1hbmFJRCkgPj0xIG9yIENvbnRhaW5lcigwKTpDb3VudEl0ZW1zT2ZJRChHcmVhdEhlYWx0aElEKSA+PTEpIHRoZW4NCiAgICAgICAgICAgIGZvciBzcG90ID0gQ29udGFpbmVyKDApOkl0ZW1Db3VudCgpLTEsIDAsIC0xIGRvDQogICAgICAgICAgICAgICAgbG9jYWwgaXRlbSA9IENvbnRhaW5lcigwKTpHZXRJdGVtRGF0YShzcG90KSAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT0gTWFuYUlEIG9yIGl0ZW0uaWQgPT0gR3JlYXRIZWFsdGhJRCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICBDb250YWluZXIoMCk6TW92ZUl0ZW1Ub0NvbnRhaW5lcihzcG90LCBDb250YWluZXIuR2V0QnlOYW1lKFN1cHBsaWVzQ29udGFpbmVyKTpJbmRleCgpLCAwKQ0KICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICBlbmQNCmVuZCk=]]></script>
	</control>
</panel>
<panel name="Advertising">
	<control name="watchSellingWords" value="item, item2"/>
	<control name="watchSellingEnable" value="0"/>
	<control name="watchBuyingWords" value="item, item2"/>
	<control name="watchBuyingEnable" value="0"/>
	<control name="blockLinksEnable" value="0"/>
	<control name="reduceSpamEnable" value="0"/>
</panel>
